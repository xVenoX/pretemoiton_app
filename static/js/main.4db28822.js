/*! For license information please see main.4db28822.js.LICENSE.txt */
(()=>{var e={740:e=>{"use strict";e.exports=function(e,t,n,r,i,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,s.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(534),s=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,s,o){var a=i||"<<anonymous>>",l=o||r;if(null==n[r])return t?new Error("Required "+s+" `"+l+"` was not specified in `"+a+"`."):null;for(var c=arguments.length,u=Array(c>6?c-6:0),h=6;h<c;h++)u[h-6]=arguments[h];return e.apply(void 0,[n,r,a,s,l].concat(u))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},173:(e,t,n)=>{e.exports=n(497)()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},730:(e,t,n)=>{"use strict";var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,a={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(a[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(p,e)||!h.call(f,e)&&(d.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var _=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),E=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),x=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),I=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),L=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var M,j=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function V(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case E:return"Portal";case x:return"Profiler";case S:return"StrictMode";case N:return"Suspense";case L:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case I:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===S?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=H(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return j({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function $(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){$(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return j({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function se(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var fe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||fe.hasOwnProperty(e)&&fe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(fe).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),fe[t]=fe[e]}))}));var ve=j({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _e=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ee=null,Ce=null,Se=null;function xe(e){if(e=bi(e)){if("function"!==typeof Ee)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),Ee(e.stateNode,e.type,t))}}function ke(e){Ce?Se?Se.push(e):Se=[e]:Ce=e}function Te(){if(Ce){var e=Ce,t=Se;if(Se=Ce=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ie(e,t){return e(t)}function Ne(){}var Le=!1;function Pe(e,t,n){if(Le)return e(t,n);Le=!0;try{return Ie(e,t,n)}finally{Le=!1,(null!==Ce||null!==Se)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Oe=!1;if(u)try{var Ae={};Object.defineProperty(Ae,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",Ae,Ae),window.removeEventListener("test",Ae,Ae)}catch(ue){Oe=!1}function De(e,t,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Me=!1,je=null,Ue=!1,Fe=null,Be={onError:function(e){Me=!0,je=e}};function Ve(e,t,n,r,i,s,o,a,l){Me=!1,je=null,De.apply(Be,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(ze(e)!==e)throw Error(s(188))}function He(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=o;else{for(var a=!1,l=i.child;l;){if(l===n){a=!0,n=i,r=o;break}if(l===r){a=!0,r=i,n=o;break}l=l.sibling}if(!a){for(l=o.child;l;){if(l===n){a=!0,n=o,r=i;break}if(l===r){a=!0,r=o,n=i;break}l=l.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,Ye=i.unstable_shouldYield,Je=i.unstable_requestPaint,$e=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var ot=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=ht(a):0!==(s&=o)&&(r=ht(s))}else 0!==(o=n&~i)?r=ht(o):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function ft(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function _t(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,Et,Ct,St,xt,kt=!1,Tt=[],It=null,Nt=null,Lt=null,Pt=new Map,Rt=new Map,Ot=[],At="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":It=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":Lt=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&Et(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function jt(e){var t=yi(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void xt(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&Et(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);_e=r,n.target.dispatchEvent(r),_e=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function Bt(){kt=!1,null!==It&&Ut(It)&&(It=null),null!==Nt&&Ut(Nt)&&(Nt=null),null!==Lt&&Ut(Lt)&&(Lt=null),Pt.forEach(Ft),Rt.forEach(Ft)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function zt(e){function t(t){return Vt(t,e)}if(0<Tt.length){Vt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==It&&Vt(It,e),null!==Nt&&Vt(Nt,e),null!==Lt&&Vt(Lt,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)jt(n),null===n.blockedOn&&Ot.shift()}var qt=_.ReactCurrentBatchConfig,Wt=!0;function Ht(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Kt(e,t,n,r){var i=bt,s=qt.transition;qt.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,qt.transition=s}}function Gt(e,t,n,r){if(Wt){var i=Yt(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return It=Mt(It,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return Lt=Mt(Lt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Pt.set(s,Mt(Pt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Rt.set(s,Mt(Rt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<At.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Yt(e,t,n,r))&&Wr(e,t,r,Qt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function Yt(e,t,n,r){if(Qt=null,null!==(e=yi(e=we(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var $t=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in $t?$t.value:$t.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return j(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,an,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=j({},cn,{view:0,detail:0}),dn=sn(hn),fn=j({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(on=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=on=0,ln=e),on)},movementY:function(e){return"movementY"in e?e.movementY:an}}),pn=sn(fn),mn=sn(j({},fn,{dataTransfer:0})),gn=sn(j({},hn,{relatedTarget:0})),vn=sn(j({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=j({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),_n=sn(j({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},En={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function xn(){return Sn}var kn=j({},hn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?En[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=sn(kn),In=sn(j({},fn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=sn(j({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xn})),Ln=sn(j({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=j({},fn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=sn(Pn),On=[9,13,27,32],An=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var Mn=u&&"TextEvent"in window&&!Dn,jn=u&&(!An||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Fn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Hn(e,t,n,r){ke(r),0<(t=Kr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Kn=null,Gn=null;function Qn(e){Ur(e,0)}function Yn(e){if(G(_i(e)))return e}function Jn(e,t){if("change"===e)return t}var $n=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;$n=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Kn&&(Kn.detachEvent("onpropertychange",nr),Gn=Kn=null)}function nr(e){if("value"===e.propertyName&&Yn(Gn)){var t=[];Hn(t,Gn,e,we(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Kn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(Gn)}function sr(e,t){if("click"===e)return Yn(t)}function or(e,t){if("input"===e||"change"===e)return Yn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!ar(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function fr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&fr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var o=ur(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function _r(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==Q(r)||("selectionStart"in(r=gr)&&fr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Kr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Er={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Cr={},Sr={};function xr(e){if(Cr[e])return Cr[e];if(!Er[e])return e;var t,n=Er[e];for(t in n)if(n.hasOwnProperty(t)&&t in Sr)return Cr[e]=n[t];return e}u&&(Sr=document.createElement("div").style,"AnimationEvent"in window||(delete Er.animationend.animation,delete Er.animationiteration.animation,delete Er.animationstart.animation),"TransitionEvent"in window||delete Er.transitionend.transition);var kr=xr("animationend"),Tr=xr("animationiteration"),Ir=xr("animationstart"),Nr=xr("transitionend"),Lr=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Lr.set(e,t),l(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Ar=Pr[Or];Rr(Ar.toLowerCase(),"on"+(Ar[0].toUpperCase()+Ar.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Ir,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function jr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,a,l,c){if(Ve.apply(this,arguments),Me){if(!Me)throw Error(s(198));var u=je;Me=!1,je=null,Ue||(Ue=!0,Fe=u)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;jr(i,a,c),s=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[mi];void 0===n&&(n=t[mi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Br(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Vr]){e[Vr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Br(t,!1,e),Br(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,Br("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Jt(t)){case 1:var i=Ht;break;case 4:i=Kt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=yi(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}Pe((function(){var r=s,i=we(n),o=[];e:{var a=Lr.get(e);if(void 0!==a){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Nn;break;case kr:case Tr:case Ir:l=vn;break;case Nr:l=Ln;break;case"scroll":l=dn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=In}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Re(p,d))&&u.push(Hr(p,m,f)))),h)break;p=p.return}0<u.length&&(a=new l(a,c,null,n,i),o.push({event:a,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===_e||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[pi])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=pn,m="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=In,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:_i(l),f=null==c?a:_i(c),(a=new u(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,yi(i)===r&&((u=new u(d,p+"enter",c,n,i)).target=f,u.relatedTarget=h,m=u),h=m,l&&c)e:{for(d=c,p=0,f=u=l;f;f=Gr(f))p++;for(f=0,m=d;m;m=Gr(m))f++;for(;0<p-f;)u=Gr(u),p--;for(;0<f-p;)d=Gr(d),f--;for(;p--;){if(u===d||null!==d&&u===d.alternate)break e;u=Gr(u),d=Gr(d)}u=null}else u=null;null!==l&&Qr(o,a,l,u,!1),null!==c&&null!==h&&Qr(o,h,c,u,!0)}if("select"===(l=(a=r?_i(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Jn;else if(Wn(a))if($n)g=or;else{g=ir;var v=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=sr);switch(g&&(g=g(e,r))?Hn(o,g,n,i):(v&&v(e,a,r),"focusout"===e&&(v=a._wrapperState)&&v.controlled&&"number"===a.type&&ee(a,"number",a.value)),v=r?_i(r):window,e){case"focusin":(Wn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,_r(o,n,i);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":_r(o,n,i)}var y;if(An)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Bn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(jn&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(y=en()):(Xt="value"in($t=i)?$t.value:$t.textContent,zn=!0)),0<(v=Kr(r,b)).length&&(b=new _n(b,e,null,n,i),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=Mn?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!An&&Bn(e,t)?(e=en(),Zt=Xt=$t=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return jn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Kr(r,"onBeforeInput")).length&&(i=new _n("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=y))}Ur(o,t)}))}function Hr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Kr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Re(e,n))&&r.unshift(Hr(e,s,i)),null!=(s=Re(e,t))&&r.push(Hr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==c&&(a=c,i?null!=(l=Re(n,s))&&o.unshift(Hr(n,l,a)):i||null!=(l=Re(n,s))&&o.push(Hr(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function $r(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=$r(t),$r(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(ai)}:ri;function ai(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);zt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,fi="__reactProps$"+hi,pi="__reactContainer$"+hi,mi="__reactEvents$"+hi,gi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _i(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[fi]||null}var Ei=[],Ci=-1;function Si(e){return{current:e}}function xi(e){0>Ci||(e.current=Ei[Ci],Ei[Ci]=null,Ci--)}function ki(e,t){Ci++,Ei[Ci]=e.current,e.current=t}var Ti={},Ii=Si(Ti),Ni=Si(!1),Li=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){xi(Ni),xi(Ii)}function Ai(e,t,n){if(Ii.current!==Ti)throw Error(s(168));ki(Ii,t),ki(Ni,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,q(e)||"Unknown",i));return j({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Li=Ii.current,ki(Ii,e),ki(Ni,Ni.current),!0}function ji(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Li),r.__reactInternalMemoizedMergedChildContext=e,xi(Ni),xi(Ii),ki(Ii,e)):xi(Ni),ki(Ni,n)}var Ui=null,Fi=!1,Bi=!1;function Vi(e){null===Ui?Ui=[e]:Ui.push(e)}function zi(){if(!Bi&&null!==Ui){Bi=!0;var e=0,t=bt;try{var n=Ui;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ui=null,Fi=!1}catch(i){throw null!==Ui&&(Ui=Ui.slice(e+1)),Ge(Ze,zi),i}finally{bt=t,Bi=!1}}return null}var qi=[],Wi=0,Hi=null,Ki=0,Gi=[],Qi=0,Yi=null,Ji=1,$i="";function Xi(e,t){qi[Wi++]=Ki,qi[Wi++]=Hi,Hi=e,Ki=t}function Zi(e,t,n){Gi[Qi++]=Ji,Gi[Qi++]=$i,Gi[Qi++]=Yi,Yi=e;var r=Ji;e=$i;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var s=32-ot(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ji=1<<32-ot(t)+i|n<<i|r,$i=s+e}else Ji=1<<s|n<<i|r,$i=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===Hi;)Hi=qi[--Wi],qi[Wi]=null,Ki=qi[--Wi],qi[Wi]=null;for(;e===Yi;)Yi=Gi[--Qi],Gi[Qi]=null,$i=Gi[--Qi],Gi[Qi]=null,Ji=Gi[--Qi],Gi[Qi]=null}var ns=null,rs=null,is=!1,ss=null;function os(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function as(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yi?{id:Ji,overflow:$i}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!as(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&as(e,t)?os(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)os(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function fs(){rs=ns=null,is=!1}function ps(e){null===ss?ss=[e]:ss.push(e)}var ms=_.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=j({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=Si(null),ys=null,bs=null,_s=null;function ws(){_s=bs=ys=null}function Es(e){var t=vs.current;xi(vs),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ss(e,t){ys=e,_s=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(_a=!0),e.firstContext=null)}function xs(e){var t=e._currentValue;if(_s!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ys)throw Error(s(308));bs=e,ys.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var ks=null;function Ts(e){null===ks?ks=[e]:ks.push(e)}function Is(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ts(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ns(e,r)}function Ns(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ls=!1;function Ps(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Os(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function As(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Nl)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ns(e,n)}return null===(i=r.interleaved)?(t.next=t,Ts(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ns(e,n)}function Ds(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ms(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function js(e,t,n,r){var i=e.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"===typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(d="function"===typeof(p=m.payload)?p.call(f,h,d):p)||void 0===d)break e;h=j({},h,d);break e;case 2:Ls=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);jl|=o,e.lanes=o,e.memoizedState=h}}function Us(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Fs=(new r.Component).refs;function Bs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:j({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var Vs={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Os(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=As(e,s,i))&&(rc(t,e,i,r),Ds(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=Os(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=As(e,s,i))&&(rc(t,e,i,r),Ds(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=Os(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=As(e,i,r))&&(rc(t,e,r,n),Ds(t,e,r))}};function zs(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function qs(e,t,n){var r=!1,i=Ti,s=t.contextType;return"object"===typeof s&&null!==s?s=xs(s):(i=Ri(t)?Li:Ii.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=Vs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Ws(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Vs.enqueueReplaceState(t,t.state,null)}function Hs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Fs,Ps(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=xs(s):(s=Ri(t)?Li:Ii.current,i.context=Pi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Bs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&Vs.enqueueReplaceState(i,i.state,null),js(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ks(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===Fs&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Qs(e){return(0,e._init)(e._payload)}function Ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ac(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===C?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Qs(s)===t.type)?((r=i(t,n.props)).ref=Ks(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=Ks(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Mc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=Ks(e,null,t),n.return=e,n;case E:return(t=Fc(t,e.mode,n)).return=e,t;case R:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Mc(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case E:return n.key===i?u(e,t,n,r):null;case R:return f(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);Gs(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case E:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function m(i,s,a,l){for(var c=null,u=null,h=s,m=s=0,g=null;null!==h&&m<a.length;m++){h.index>m?(g=h,h=null):g=h.sibling;var v=f(i,h,a[m],l);if(null===v){null===h&&(h=g);break}e&&h&&null===v.alternate&&t(i,h),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,h=g}if(m===a.length)return n(i,h),is&&Xi(i,m),c;if(null===h){for(;m<a.length;m++)null!==(h=d(i,a[m],l))&&(s=o(h,s,m),null===u?c=h:u.sibling=h,u=h);return is&&Xi(i,m),c}for(h=r(i,h);m<a.length;m++)null!==(g=p(h,i,m,a[m],l))&&(e&&null!==g.alternate&&h.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&h.forEach((function(e){return t(i,e)})),is&&Xi(i,m),c}function g(i,a,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,m=a,g=a=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(i,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(i,m),a=o(b,a,g),null===h?u=b:h.sibling=b,h=b,m=v}if(y.done)return n(i,m),is&&Xi(i,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=d(i,y.value,c))&&(a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return is&&Xi(i,g),u}for(m=r(i,m);!y.done;g++,y=l.next())null!==(y=p(m,i,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return e&&m.forEach((function(e){return t(i,e)})),is&&Xi(i,g),u}return function e(r,s,o,l){if("object"===typeof o&&null!==o&&o.type===C&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===C){if(7===u.tag){n(r,u.sibling),(s=i(u,o.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Qs(c)===u.type){n(r,u.sibling),(s=i(u,o.props)).ref=Ks(r,u,o),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}o.type===C?((s=Mc(o.props.children,r.mode,l,o.key)).return=r,r=s):((l=Dc(o.type,o.key,o.props,null,r.mode,l)).ref=Ks(r,s,o),l.return=r,r=l)}return a(r);case E:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){n(r,s.sibling),(s=i(s,o.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Fc(o,r.mode,l)).return=r,r=s}return a(r);case R:return e(r,s,(u=o._init)(o._payload),l)}if(te(o))return m(r,s,o,l);if(D(o))return g(r,s,o,l);Gs(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,o)).return=r,r=s):(n(r,s),(s=Uc(o,r.mode,l)).return=r,r=s),a(r)):n(r,s)}}var Js=Ys(!0),$s=Ys(!1),Xs={},Zs=Si(Xs),eo=Si(Xs),to=Si(Xs);function no(e){if(e===Xs)throw Error(s(174));return e}function ro(e,t){switch(ki(to,t),ki(eo,e),ki(Zs,Xs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}xi(Zs),ki(Zs,t)}function io(){xi(Zs),xi(eo),xi(to)}function so(e){no(to.current);var t=no(Zs.current),n=le(t,e.type);t!==n&&(ki(eo,e),ki(Zs,n))}function oo(e){eo.current===e&&(xi(Zs),xi(eo))}var ao=Si(0);function lo(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var co=[];function uo(){for(var e=0;e<co.length;e++)co[e]._workInProgressVersionPrimary=null;co.length=0}var ho=_.ReactCurrentDispatcher,fo=_.ReactCurrentBatchConfig,po=0,mo=null,go=null,vo=null,yo=!1,bo=!1,_o=0,wo=0;function Eo(){throw Error(s(321))}function Co(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function So(e,t,n,r,i,o){if(po=o,mo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ho.current=null===e||null===e.memoizedState?aa:la,e=n(r,i),bo){o=0;do{if(bo=!1,_o=0,25<=o)throw Error(s(301));o+=1,vo=go=null,t.updateQueue=null,ho.current=ca,e=n(r,i)}while(bo)}if(ho.current=oa,t=null!==go&&null!==go.next,po=0,vo=go=mo=null,yo=!1,t)throw Error(s(300));return e}function xo(){var e=0!==_o;return _o=0,e}function ko(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===vo?mo.memoizedState=vo=e:vo=vo.next=e,vo}function To(){if(null===go){var e=mo.alternate;e=null!==e?e.memoizedState:null}else e=go.next;var t=null===vo?mo.memoizedState:vo.next;if(null!==t)vo=t,go=e;else{if(null===e)throw Error(s(310));e={memoizedState:(go=e).memoizedState,baseState:go.baseState,baseQueue:go.baseQueue,queue:go.queue,next:null},null===vo?mo.memoizedState=vo=e:vo=vo.next=e}return vo}function Io(e,t){return"function"===typeof t?t(e):t}function No(e){var t=To(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=go,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var a=i.next;i.next=o.next,o.next=a}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var l=a=null,c=null,u=o;do{var h=u.lane;if((po&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,a=r):c=c.next=d,mo.lanes|=h,jl|=h}u=u.next}while(null!==u&&u!==o);null===c?a=r:c.next=l,ar(r,t.memoizedState)||(_a=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,mo.lanes|=o,jl|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Lo(e){var t=To(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{o=e(o,a.action),a=a.next}while(a!==i);ar(o,t.memoizedState)||(_a=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Po(){}function Ro(e,t){var n=mo,r=To(),i=t(),o=!ar(r.memoizedState,i);if(o&&(r.memoizedState=i,_a=!0),r=r.queue,Wo(Do.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==vo&&1&vo.memoizedState.tag){if(n.flags|=2048,Fo(9,Ao.bind(null,n,r,i,t),void 0,null),null===Ll)throw Error(s(349));0!==(30&po)||Oo(n,t,i)}return i}function Oo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Mo(t)&&jo(e)}function Do(e,t,n){return n((function(){Mo(t)&&jo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function jo(e){var t=Ns(e,1);null!==t&&rc(t,e,1,-1)}function Uo(e){var t=ko();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=na.bind(null,mo,e),[t.memoizedState,e]}function Fo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=mo.updateQueue)?(t={lastEffect:null,stores:null},mo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Bo(){return To().memoizedState}function Vo(e,t,n,r){var i=ko();mo.flags|=e,i.memoizedState=Fo(1|t,n,void 0,void 0===r?null:r)}function zo(e,t,n,r){var i=To();r=void 0===r?null:r;var s=void 0;if(null!==go){var o=go.memoizedState;if(s=o.destroy,null!==r&&Co(r,o.deps))return void(i.memoizedState=Fo(t,n,s,r))}mo.flags|=e,i.memoizedState=Fo(1|t,n,s,r)}function qo(e,t){return Vo(8390656,8,e,t)}function Wo(e,t){return zo(2048,8,e,t)}function Ho(e,t){return zo(4,2,e,t)}function Ko(e,t){return zo(4,4,e,t)}function Go(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,zo(4,4,Go.bind(null,t,e),n)}function Yo(){}function Jo(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function $o(e,t){var n=To();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Co(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xo(e,t,n){return 0===(21&po)?(e.baseState&&(e.baseState=!1,_a=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),mo.lanes|=n,jl|=n,e.baseState=!0),t)}function Zo(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=fo.transition;fo.transition={};try{e(!1),t()}finally{bt=n,fo.transition=r}}function ea(){return To().memoizedState}function ta(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ra(e))ia(t,n);else if(null!==(n=Is(e,t,n,r))){rc(n,e,r,tc()),sa(n,t,r)}}function na(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ra(e))ia(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,ar(a,o)){var l=t.interleaved;return null===l?(i.next=i,Ts(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Is(e,t,i,r))&&(rc(n,e,r,i=tc()),sa(n,t,r))}}function ra(e){var t=e.alternate;return e===mo||null!==t&&t===mo}function ia(e,t){bo=yo=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function sa(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var oa={readContext:xs,useCallback:Eo,useContext:Eo,useEffect:Eo,useImperativeHandle:Eo,useInsertionEffect:Eo,useLayoutEffect:Eo,useMemo:Eo,useReducer:Eo,useRef:Eo,useState:Eo,useDebugValue:Eo,useDeferredValue:Eo,useTransition:Eo,useMutableSource:Eo,useSyncExternalStore:Eo,useId:Eo,unstable_isNewReconciler:!1},aa={readContext:xs,useCallback:function(e,t){return ko().memoizedState=[e,void 0===t?null:t],e},useContext:xs,useEffect:qo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Vo(4194308,4,Go.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var n=ko();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ko();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=ta.bind(null,mo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ko().memoizedState=e},useState:Uo,useDebugValue:Yo,useDeferredValue:function(e){return ko().memoizedState=e},useTransition:function(){var e=Uo(!1),t=e[0];return e=Zo.bind(null,e[1]),ko().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mo,i=ko();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Ll)throw Error(s(349));0!==(30&po)||Oo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,qo(Do.bind(null,r,o,e),[e]),r.flags|=2048,Fo(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=ko(),t=Ll.identifierPrefix;if(is){var n=$i;t=":"+t+"R"+(n=(Ji&~(1<<32-ot(Ji)-1)).toString(32)+n),0<(n=_o++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},la={readContext:xs,useCallback:Jo,useContext:xs,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:$o,useReducer:No,useRef:Bo,useState:function(){return No(Io)},useDebugValue:Yo,useDeferredValue:function(e){return Xo(To(),go.memoizedState,e)},useTransition:function(){return[No(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1},ca={readContext:xs,useCallback:Jo,useContext:xs,useEffect:Wo,useImperativeHandle:Qo,useInsertionEffect:Ho,useLayoutEffect:Ko,useMemo:$o,useReducer:Lo,useRef:Bo,useState:function(){return Lo(Io)},useDebugValue:Yo,useDeferredValue:function(e){var t=To();return null===go?t.memoizedState=e:Xo(t,go.memoizedState,e)},useTransition:function(){return[Lo(Io)[0],To().memoizedState]},useMutableSource:Po,useSyncExternalStore:Ro,useId:ea,unstable_isNewReconciler:!1};function ua(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ha(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Os(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hl||(Hl=!0,Kl=r),da(0,t)},n}function ma(e,t,n){(n=Os(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){da(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Gl?Gl=new Set([this]):Gl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ga(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=kc.bind(null,e,t,n),t.then(e,e))}function va(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Os(-1,1)).tag=2,As(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ba=_.ReactCurrentOwner,_a=!1;function wa(e,t,n,r){t.child=null===e?$s(t,null,n,r):Js(t,e.child,n,r)}function Ea(e,t,n,r,i){n=n.render;var s=t.ref;return Ss(t,i),r=So(e,t,n,r,s,i),n=xo(),null===e||_a?(is&&n&&es(t),t.flags|=1,wa(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ca(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Oc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Sa(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(o,r)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Ac(s,r)).ref=t.ref,e.return=t,t.child=e}function Sa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(_a=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(_a=!0)}}return Ta(e,t,n,r,i)}function xa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ki(Al,Ol),Ol|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ki(Al,Ol),Ol|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ki(Al,Ol),Ol|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ki(Al,Ol),Ol|=r;return wa(e,t,i,n),t.child}function ka(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Ta(e,t,n,r,i){var s=Ri(n)?Li:Ii.current;return s=Pi(t,s),Ss(t,i),n=So(e,t,n,r,s,i),r=xo(),null===e||_a?(is&&r&&es(t),t.flags|=1,wa(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ia(e,t,n,r,i){if(Ri(n)){var s=!0;Mi(t)}else s=!1;if(Ss(t,i),null===t.stateNode)Wa(e,t),qs(t,n,r),Hs(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=xs(c):c=Pi(t,c=Ri(n)?Li:Ii.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;h||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==r||l!==c)&&Ws(t,o,r,c),Ls=!1;var d=t.memoizedState;o.state=d,js(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Ni.current||Ls?("function"===typeof u&&(Bs(t,n,u,r),l=t.memoizedState),(a=Ls||zs(t,n,a,r,d,l,c))?(h||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,Rs(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gs(t.type,a),o.props=c,h=t.pendingProps,d=o.context,"object"===typeof(l=n.contextType)&&null!==l?l=xs(l):l=Pi(t,l=Ri(n)?Li:Ii.current);var f=n.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&Ws(t,o,r,l),Ls=!1,d=t.memoizedState,o.state=d,js(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Ni.current||Ls?("function"===typeof f&&(Bs(t,n,f,r),p=t.memoizedState),(c=Ls||zs(t,n,c,r,d,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=c):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Na(e,t,n,r,s,i)}function Na(e,t,n,r,i,s){ka(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&ji(t,n,!1),Ha(e,t,s);r=t.stateNode,ba.current=t;var a=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,a,s)):wa(e,t,a,s),t.memoizedState=r.state,i&&ji(t,n,!0),t.child}function La(e){var t=e.stateNode;t.pendingContext?Ai(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ai(0,t.context,!1),ro(e,t.containerInfo)}function Pa(e,t,n,r,i){return fs(),ps(i),t.flags|=256,wa(e,t,n,r),t.child}var Ra,Oa,Aa,Da,Ma={dehydrated:null,treeContext:null,retryLane:0};function ja(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ua(e,t,n){var r,i=t.pendingProps,o=ao.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),ki(ao,1&o),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,a?(i=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=jc(l,i,0,null),e=Mc(e,i,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=ja(n),t.memoizedState=Ma,e):Fa(t,l));if(null!==(o=e.memoizedState)&&null!==(r=o.dehydrated))return function(e,t,n,r,i,o,a){if(n)return 256&t.flags?(t.flags&=-257,Ba(e,t,a,r=ha(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=r.fallback,i=t.mode,r=jc({mode:"visible",children:r.children},i,0,null),(o=Mc(o,i,a,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,a),t.child.memoizedState=ja(a),t.memoizedState=Ma,o);if(0===(1&t.mode))return Ba(e,t,a,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,Ba(e,t,a,r=ha(o=Error(s(419)),r,void 0))}if(l=0!==(a&e.childLanes),_a||l){if(null!==(r=Ll)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|a))?0:i)&&i!==o.retryLane&&(o.retryLane=i,Ns(e,i),rc(r,e,i,-1))}return gc(),Ba(e,t,a,r=ha(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Ic.bind(null,e),i._reactRetry=t,null):(e=o.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Qi++]=Ji,Gi[Qi++]=$i,Gi[Qi++]=Yi,Ji=e.id,$i=e.overflow,Yi=t),t=Fa(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,o,n);if(a){a=i.fallback,l=t.mode,r=(o=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==o?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Ac(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==r?a=Ac(r,a):(a=Mc(a,l,n,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,l=null===(l=e.child.memoizedState)?ja(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Ma,i}return e=(a=e.child).sibling,i=Ac(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Fa(e,t){return(t=jc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ba(e,t,n,r){return null!==r&&ps(r),Js(t,e.child,null,n),(e=Fa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Va(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function za(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qa(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=ao.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Va(e,n,t);else if(19===e.tag)Va(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ki(ao,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===lo(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),za(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===lo(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}za(t,!0,n,null,s);break;case"together":za(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),jl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Ac(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ac(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ka(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ga(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qa(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ga(t),null;case 1:case 17:return Ri(t.type)&&Oi(),Ga(t),null;case 3:return r=t.stateNode,io(),xi(Ni),xi(Ii),uo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ac(ss),ss=null))),Oa(e,t),Ga(t),null;case 5:oo(t);var i=no(to.current);if(n=t.type,null!==e&&null!=t.stateNode)Aa(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ga(t),null}if(e=no(Zs.current),hs(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[di]=t,r[fi]=o,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":J(r,o),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Fr("invalid",r);break;case"textarea":ie(r,o),Fr("invalid",r)}for(var l in ye(n,o),i=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):a.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":K(r),Z(r,o,!0);break;case"textarea":K(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[fi]=r,Ra(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),i=r;break;case"iframe":case"object":case"embed":Fr("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Fr(Dr[i],e);i=r;break;case"source":Fr("error",e),i=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),i=r;break;case"details":Fr("toggle",e),i=r;break;case"input":J(e,r),i=Y(e,r),Fr("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=j({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Fr("invalid",e)}for(o in ye(n,i),c=i)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?ge(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===o?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(a.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Fr("scroll",e):null!=u&&b(e,o,u,l))}switch(n){case"input":K(e),Z(e,r,!1);break;case"textarea":K(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ga(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=no(to.current),no(Zs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(o=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ga(t),null;case 13:if(xi(ao),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),fs(),t.flags|=98560,o=!1;else if(o=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[di]=t}else fs(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ga(t),o=!1}else null!==ss&&(ac(ss),ss=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ao.current)?0===Dl&&(Dl=3):gc())),null!==t.updateQueue&&(t.flags|=4),Ga(t),null);case 4:return io(),Oa(e,t),null===e&&zr(t.stateNode.containerInfo),Ga(t),null;case 10:return Es(t.type._context),Ga(t),null;case 19:if(xi(ao),null===(o=t.memoizedState))return Ga(t),null;if(r=0!==(128&t.flags),null===(l=o.rendering))if(r)Ka(o,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=lo(e))){for(t.flags|=128,Ka(o,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ki(ao,1&ao.current|2),t.child}e=e.sibling}null!==o.tail&&$e()>ql&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=lo(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ka(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!is)return Ga(t),null}else 2*$e()-o.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,Ka(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=o.last)?n.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$e(),t.sibling=null,n=ao.current,ki(ao,r?1&n|2:1&n),t):(Ga(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ol)&&(Ga(t),6&t.subtreeFlags&&(t.flags|=8192)):Ga(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Ya(e,t){switch(ts(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),xi(Ni),xi(Ii),uo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return oo(t),null;case 13:if(xi(ao),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));fs()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return xi(ao),null;case 4:return io(),null;case 10:return Es(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ra=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},Aa=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,no(Zs.current);var s,o=null;switch(n){case"input":i=Y(e,i),r=Y(e,r),o=[];break;case"select":i=j({},i,{value:void 0}),r=j({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(o||(o=[]),o.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Fr("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,$a=!1,Xa="function"===typeof WeakSet?WeakSet:Set,Za=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){xc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){xc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[fi],delete t[mi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function al(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||al(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(a){}switch(n.tag){case 5:$a||el(n,t);case 6:var r=hl,i=dl;hl=null,fl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),zt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!$a&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&tl(n,t,o),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!$a&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xc(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?($a=(r=$a)||null!==n.memoizedState,fl(e,t,n),$a=r):fl(e,t,n);break;default:fl(e,t,n)}}function ml(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xa),t.forEach((function(t){var r=Nc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function gl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(o,a,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){xc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(gl(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(g){xc(e,e.return,g)}try{rl(5,e,e.return)}catch(g){xc(e,e.return,g)}}break;case 1:gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(gl(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){xc(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,a=null!==n?n.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&$(i,o),be(l,a);var u=be(l,o);for(a=0;a<c.length;a+=2){var h=c[a],d=c[a+1];"style"===h?ge(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":X(i,o);break;case"textarea":se(i,o);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[fi]=o}catch(g){xc(e,e.return,g)}}break;case 6:if(gl(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,o=e.memoizedProps;try{i.nodeValue=o}catch(g){xc(e,e.return,g)}}break;case 3:if(gl(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(g){xc(e,e.return,g)}break;case 4:default:gl(t,e),yl(e);break;case 13:gl(t,e),yl(e),8192&(i=e.child).flags&&(o=null!==i.memoizedState,i.stateNode.isHidden=o,!o||null!==i.alternate&&null!==i.alternate.memoizedState||(zl=$e())),4&r&&ml(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?($a=(u=$a)||h,gl(t,e),$a=u):gl(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Za=e,h=e.child;null!==h;){for(d=Za=h;null!==Za;){switch(p=(f=Za).child,f.tag){case 0:case 11:case 14:case 15:rl(4,f,f.return);break;case 1:el(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){r=f,n=f.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){xc(r,n,g)}}break;case 5:el(f,f.return);break;case 22:if(null!==f.memoizedState){El(d);continue}}null!==p?(p.return=f,Za=p):El(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=d.stateNode,a=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",a))}catch(g){xc(e,e.return,g)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){xc(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(t,e),yl(e),4&r&&ml(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(al(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;cl(e,ll(e),o);break;default:throw Error(s(161))}}catch(a){xc(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Za=e,_l(e,t,n)}function _l(e,t,n){for(var r=0!==(1&e.mode);null!==Za;){var i=Za,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Ja;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||$a;a=Ja;var c=$a;if(Ja=o,($a=l)&&!c)for(Za=i;null!==Za;)l=(o=Za).child,22===o.tag&&null!==o.memoizedState?Cl(i):null!==l?(l.return=o,Za=l):Cl(i);for(;null!==s;)Za=s,_l(s,t,n),s=s.sibling;Za=i,Ja=a,$a=c}wl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Za=s):wl(e)}}function wl(e){for(;null!==Za;){var t=Za;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:$a||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!$a)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&Us(t,o,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Us(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&zt(d)}}}break;default:throw Error(s(163))}$a||512&t.flags&&sl(t)}catch(f){xc(t,t.return,f)}}if(t===e){Za=null;break}if(null!==(n=t.sibling)){n.return=t.return,Za=n;break}Za=t.return}}function El(e){for(;null!==Za;){var t=Za;if(t===e){Za=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Za=n;break}Za=t.return}}function Cl(e){for(;null!==Za;){var t=Za;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){xc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){xc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){xc(t,s,l)}break;case 5:var o=t.return;try{sl(t)}catch(l){xc(t,o,l)}}}catch(l){xc(t,t.return,l)}if(t===e){Za=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Za=a;break}Za=t.return}}var Sl,xl=Math.ceil,kl=_.ReactCurrentDispatcher,Tl=_.ReactCurrentOwner,Il=_.ReactCurrentBatchConfig,Nl=0,Ll=null,Pl=null,Rl=0,Ol=0,Al=Si(0),Dl=0,Ml=null,jl=0,Ul=0,Fl=0,Bl=null,Vl=null,zl=0,ql=1/0,Wl=null,Hl=!1,Kl=null,Gl=null,Ql=!1,Yl=null,Jl=0,$l=0,Xl=null,Zl=-1,ec=0;function tc(){return 0!==(6&Nl)?$e():-1!==Zl?Zl:Zl=$e()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Nl)&&0!==Rl?Rl&-Rl:null!==ms.transition?(0===ec&&(ec=mt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function rc(e,t,n,r){if(50<$l)throw $l=0,Xl=null,Error(s(185));vt(e,n,r),0!==(2&Nl)&&e===Ll||(e===Ll&&(0===(2&Nl)&&(Ul|=n),4===Dl&&lc(e,Rl)),ic(e,r),1===n&&0===Nl&&0===(1&t.mode)&&(ql=$e()+500,Fi&&zi()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-ot(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=ft(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}(e,t);var r=dt(e,e===Ll?Rl:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Fi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),oi((function(){0===(6&Nl)&&zi()})),n=null;else{switch(_t(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Lc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Nl))throw Error(s(327));var n=e.callbackNode;if(Cc()&&e.callbackNode!==n)return null;var r=dt(e,e===Ll?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Nl;Nl|=2;var o=mc();for(Ll===e&&Rl===t||(Wl=null,ql=$e()+500,fc(e,t));;)try{bc();break}catch(l){pc(e,l)}ws(),kl.current=o,Nl=i,null!==Pl?t=0:(Ll=null,Rl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=oc(e,i))),1===t)throw n=Ml,fc(e,0),lc(e,r),ic(e,$e()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ar(s(),i))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=oc(e,o))),1===t))throw n=Ml,fc(e,0),lc(e,r),ic(e,$e()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Ec(e,Vl,Wl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=zl+500-$e())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Ec.bind(null,e,Vl,Wl),t);break}Ec(e,Vl,Wl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-ot(r);o=1<<a,(a=t[a])>i&&(i=a),r&=~o}if(r=i,10<(r=(120>(r=$e()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*xl(r/1960))-r)){e.timeoutHandle=ri(Ec.bind(null,e,Vl,Wl),r);break}Ec(e,Vl,Wl);break;default:throw Error(s(329))}}}return ic(e,$e()),e.callbackNode===n?sc.bind(null,e):null}function oc(e,t){var n=Bl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&ac(t)),e}function ac(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Fl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Nl))throw Error(s(327));Cc();var t=dt(e,0);if(0===(1&t))return ic(e,$e()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Ml,fc(e,0),lc(e,t),ic(e,$e()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ec(e,Vl,Wl),ic(e,$e()),null}function uc(e,t){var n=Nl;Nl|=1;try{return e(t)}finally{0===(Nl=n)&&(ql=$e()+500,Fi&&zi())}}function hc(e){null!==Yl&&0===Yl.tag&&0===(6&Nl)&&Cc();var t=Nl;Nl|=1;var n=Il.transition,r=bt;try{if(Il.transition=null,bt=1,e)return e()}finally{bt=r,Il.transition=n,0===(6&(Nl=t))&&zi()}}function dc(){Ol=Al.current,xi(Al)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Pl)for(n=Pl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:io(),xi(Ni),xi(Ii),uo();break;case 5:oo(r);break;case 4:io();break;case 13:case 19:xi(ao);break;case 10:Es(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Ll=e,Pl=e=Ac(e.current,null),Rl=Ol=t,Dl=0,Ml=null,Fl=Ul=jl=0,Vl=Bl=null,null!==ks){for(t=0;t<ks.length;t++)if(null!==(r=(n=ks[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}ks=null}return e}function pc(e,t){for(;;){var n=Pl;try{if(ws(),ho.current=oa,yo){for(var r=mo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}yo=!1}if(po=0,vo=go=mo=null,bo=!1,_o=0,Tl.current=null,null===n||null===n.return){Dl=1,Ml=t,Pl=null;break}e:{var o=e,a=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var p=va(a);if(null!==p){p.flags&=-257,ya(p,a,l,0,t),1&p.mode&&ga(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){ga(o,u,t),gc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=va(a);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),ya(v,a,l,0,t),ps(ua(c,l));break e}}o=c=ua(c,l),4!==Dl&&(Dl=2),null===Bl?Bl=[o]:Bl.push(o),o=a;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,pa(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Gl||!Gl.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ms(o,ma(o,l,t));break e}}o=o.return}while(null!==o)}wc(n)}catch(_){t=_,Pl===n&&null!==n&&(Pl=n=n.return);continue}break}}function mc(){var e=kl.current;return kl.current=oa,null===e?oa:e}function gc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Ll||0===(268435455&jl)&&0===(268435455&Ul)||lc(Ll,Rl)}function vc(e,t){var n=Nl;Nl|=2;var r=mc();for(Ll===e&&Rl===t||(Wl=null,fc(e,t));;)try{yc();break}catch(i){pc(e,i)}if(ws(),Nl=n,kl.current=r,null!==Pl)throw Error(s(261));return Ll=null,Rl=0,Dl}function yc(){for(;null!==Pl;)_c(Pl)}function bc(){for(;null!==Pl&&!Ye();)_c(Pl)}function _c(e){var t=Sl(e.alternate,e,Ol);e.memoizedProps=e.pendingProps,null===t?wc(e):Pl=t,Tl.current=null}function wc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qa(n,t,Ol)))return void(Pl=n)}else{if(null!==(n=Ya(n,t)))return n.flags&=32767,void(Pl=n);if(null===e)return Dl=6,void(Pl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Pl=t);Pl=t=e}while(null!==t);0===Dl&&(Dl=5)}function Ec(e,t,n){var r=bt,i=Il.transition;try{Il.transition=null,bt=1,function(e,t,n,r){do{Cc()}while(null!==Yl);if(0!==(6&Nl))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,o),e===Ll&&(Pl=Ll=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Lc(tt,(function(){return Cc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Il.transition,Il.transition=null;var a=bt;bt=1;var l=Nl;Nl|=4,Tl.current=null,function(e,t){if(ei=Wt,fr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(w){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==o||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===o&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,Za=t;null!==Za;)if(e=(t=Za).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Za=e;else for(;null!==Za;){t=Za;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var _=t.stateNode.containerInfo;1===_.nodeType?_.textContent="":9===_.nodeType&&_.documentElement&&_.removeChild(_.documentElement);break;default:throw Error(s(163))}}catch(w){xc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Za=e;break}Za=t.return}m=nl,nl=!1}(e,n),vl(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Je(),Nl=l,bt=a,Il.transition=o}else e.current=n;if(Ql&&(Ql=!1,Yl=e,Jl=i),o=e.pendingLanes,0===o&&(Gl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,$e()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hl)throw Hl=!1,e=Kl,Kl=null,e;0!==(1&Jl)&&0!==e.tag&&Cc(),o=e.pendingLanes,0!==(1&o)?e===Xl?$l++:($l=0,Xl=e):$l=0,zi()}(e,t,n,r)}finally{Il.transition=i,bt=r}return null}function Cc(){if(null!==Yl){var e=_t(Jl),t=Il.transition,n=bt;try{if(Il.transition=null,bt=16>e?16:e,null===Yl)var r=!1;else{if(e=Yl,Yl=null,Jl=0,0!==(6&Nl))throw Error(s(331));var i=Nl;for(Nl|=4,Za=e.current;null!==Za;){var o=Za,a=o.child;if(0!==(16&Za.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Za=u;null!==Za;){var h=Za;switch(h.tag){case 0:case 11:case 15:rl(8,h,o)}var d=h.child;if(null!==d)d.return=h,Za=d;else for(;null!==Za;){var f=(h=Za).sibling,p=h.return;if(ol(h),h===u){Za=null;break}if(null!==f){f.return=p,Za=f;break}Za=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}Za=o}}if(0!==(2064&o.subtreeFlags)&&null!==a)a.return=o,Za=a;else e:for(;null!==Za;){if(0!==(2048&(o=Za).flags))switch(o.tag){case 0:case 11:case 15:rl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,Za=y;break e}Za=o.return}}var b=e.current;for(Za=b;null!==Za;){var _=(a=Za).child;if(0!==(2064&a.subtreeFlags)&&null!==_)_.return=a,Za=_;else e:for(a=b;null!==Za;){if(0!==(2048&(l=Za).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(E){xc(l,l.return,E)}if(l===a){Za=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,Za=w;break e}Za=l.return}}if(Nl=i,zi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(E){}r=!0}return r}finally{bt=n,Il.transition=t}}return!1}function Sc(e,t,n){e=As(e,t=pa(0,t=ua(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function xc(e,t,n){if(3===e.tag)Sc(e,e,n);else for(;null!==t;){if(3===t.tag){Sc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Gl||!Gl.has(r))){t=As(t,e=ma(t,e=ua(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function kc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Ll===e&&(Rl&n)===n&&(4===Dl||3===Dl&&(130023424&Rl)===Rl&&500>$e()-zl?fc(e,0):Fl|=n),ic(e,t)}function Tc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ns(e,t))&&(vt(e,t,n),ic(e,n))}function Ic(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Tc(e,n)}function Nc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Tc(e,n)}function Lc(e,t){return Ge(e,t)}function Pc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Pc(e,t,n,r)}function Oc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ac(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,o){var a=2;if(r=e,"function"===typeof e)Oc(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Mc(n.children,i,o,t);case S:a=8,i|=8;break;case x:return(e=Rc(12,n,t,2|i)).elementType=x,e.lanes=o,e;case N:return(e=Rc(13,n,t,i)).elementType=N,e.lanes=o,e;case L:return(e=Rc(19,n,t,i)).elementType=L,e.lanes=o,e;case O:return jc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case T:a=9;break e;case I:a=11;break e;case P:a=14;break e;case R:a=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(a,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Mc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function jc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Bc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,o,a,l){return e=new Bc(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ps(s),e}function zc(e){if(!e)return Ti;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Di(e,n,t)}return t}function qc(e,t,n,r,i,s,o,a,l){return(e=Vc(n,r,!0,e,0,s,0,a,l)).context=zc(null),n=e.current,(s=Os(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,As(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Wc(e,t,n,r){var i=t.current,s=tc(),o=nc(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Os(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=As(i,t,o))&&(rc(e,i,o,s),Ds(e,i,o)),o}function Hc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}Sl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)_a=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return _a=!1,function(e,t,n){switch(t.tag){case 3:La(t),fs();break;case 5:so(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:ro(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ki(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ki(ao,1&ao.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Ua(e,t,n):(ki(ao,1&ao.current),null!==(e=Ha(e,t,n))?e.sibling:null);ki(ao,1&ao.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ki(ao,ao.current),r)break;return null;case 22:case 23:return t.lanes=0,xa(e,t,n)}return Ha(e,t,n)}(e,t,n);_a=0!==(131072&e.flags)}else _a=!1,is&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Wa(e,t),e=t.pendingProps;var i=Pi(t,Ii.current);Ss(t,n),i=So(null,t,r,e,i,n);var o=xo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Ps(t),i.updater=Vs,t.stateNode=i,i._reactInternals=t,Hs(t,r,e,n),t=Na(null,t,r,!0,o,n)):(t.tag=0,is&&o&&es(t),wa(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Oc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===I)return 11;if(e===P)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Ta(null,t,r,e,n);break e;case 1:t=Ia(null,t,r,e,n);break e;case 11:t=Ea(null,t,r,e,n);break e;case 14:t=Ca(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ia(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(La(t),null===e)throw Error(s(387));r=t.pendingProps,i=(o=t.memoizedState).element,Rs(e,t),js(t,r,null,n);var a=t.memoizedState;if(r=a.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Pa(e,t,r,n,i=ua(Error(s(423)),t));break e}if(r!==i){t=Pa(e,t,r,n,i=ua(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=$s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fs(),r===i){t=Ha(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return so(t),null===e&&cs(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,a=i.children,ni(r,i)?a=null:null!==o&&ni(r,o)&&(t.flags|=32),ka(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Ua(e,t,n);case 4:return ro(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,a=i.value,ki(vs,r._currentValue),r._currentValue=a,null!==o)if(ar(o.value,a)){if(o.children===i.children&&!Ni.current){t=Ha(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){a=o.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=Os(-1,n&-n)).tag=2;var u=o.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Cs(o.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===o.tag)a=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(a=o.return))throw Error(s(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Cs(a,n,t),a=o.sibling}else a=o.child;if(null!==a)a.return=o;else for(a=o;null!==a;){if(a===t){a=null;break}if(null!==(o=a.sibling)){o.return=a.return,a=o;break}a=a.return}o=a}wa(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Ss(t,n),r=r(i=xs(i)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),Ca(e,t,r,i=gs(r.type,i),n);case 15:return Sa(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),Wa(e,t),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Ss(t,n),qs(t,r,i),Hs(t,r,i,n),Na(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return xa(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Yc(e){this._internalRoot=e}function Jc(e){this._internalRoot=e}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"===typeof i){var a=i;i=function(){var e=Hc(o);a.call(e)}}Wc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Hc(o);s.call(e)}}var o=qc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=o,e[pi]=o.current,zr(8===e.nodeType?e.parentNode:e),hc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var a=r;r=function(){var e=Hc(l);a.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[pi]=l.current,zr(8===e.nodeType?e.parentNode:e),hc((function(){Wc(t,l,n,r)})),l}(n,t,e,i,r);return Hc(o)}Jc.prototype.render=Yc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Wc(e,t,null,null)},Jc.prototype.unmount=Yc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Wc(null,e,null,null)})),t[pi]=null}},Jc.prototype.unstable_scheduleHydration=function(e){if(e){var t=St();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&jt(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,$e()),0===(6&Nl)&&(ql=$e()+500,zi()))}break;case 13:hc((function(){var t=Ns(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Gc(e,1)}},Et=function(e){if(13===e.tag){var t=Ns(e,134217728);if(null!==t)rc(t,e,134217728,tc());Gc(e,134217728)}},Ct=function(e){if(13===e.tag){var t=nc(e),n=Ns(e,t);if(null!==n)rc(n,e,t,tc());Gc(e,t)}},St=function(){return bt},xt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Ee=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));G(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ie=uc,Ne=hc;var tu={usingClientEntryPoint:!1,Events:[bi,_i,wi,ke,Te,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=He(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!$c(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!$c(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,zr(8===e.nodeType?e.parentNode:e),new Yc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=He(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!$c(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",a=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qc(t,null,e,1,null!=n?n:null,i,0,o,a),e[pi]=t.current,zr(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Jc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{"use strict";var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:a.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var _=b.prototype=new y;_.constructor=b,m(_,v.prototype),_.isPureReactComponent=!0;var w=Array.isArray,E=Object.prototype.hasOwnProperty,C={current:null},S={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,r){var i,s={},o=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(o=""+t.key),t)E.call(t,i)&&!S.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:o,ref:a,props:s,_owner:C.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function I(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return o=o(l=e),e=""===s?"."+I(l,0):s,w(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(k(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+I(a=e[c],c);l+=N(a,t,i,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(a=e.next()).done;)l+=N(a=a.value,t,i,u=s+I(a,c++),o);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function L(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},A={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:C};t.Children={map:L,forEach:function(e,t,n){L(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return L(e,(function(){t++})),t},toArray:function(e){return L(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=m({},e.props),s=e.key,o=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,a=C.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)E.call(t,c)&&!S.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:o,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=x,t.createFactory=function(e){var t=x.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.2.0"},43:(e,t,n)=>{"use strict";e.exports=n(202)},579:(e,t,n)=>{"use strict";e.exports=n(153)},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function _(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,_(e),!m)if(null!==r(c))m=!0,O(E);else{var t=r(u);null!==t&&A(w,t.startTime-e)}}function E(e,n){m=!1,g&&(g=!1,y(k),k=-1),p=!0;var s=f;try{for(_(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!N());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?d.callback=a:d===r(c)&&i(c),_(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&A(w,h.startTime-n),l=!1}return l}finally{d=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,S=!1,x=null,k=-1,T=5,I=-1;function N(){return!(t.unstable_now()-I<T)}function L(){if(null!==x){var e=t.unstable_now();I=e;var n=!0;try{n=x(!0,e)}finally{n?C():(S=!1,x=null)}}else S=!1}if("function"===typeof b)C=function(){b(L)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=L,C=function(){R.postMessage(null)}}else C=function(){v(L,0)};function O(e){x=e,S||(S=!0,C())}function A(e,n){k=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,O(E))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(k),k=-1):g=!0,A(w,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,O(E))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},440:e=>{"use strict";var t=function(){};e.exports=t},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var a=2&i&&r;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>o[e]=()=>r[e]));return o.default=()=>r,n.d(s,o),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".30c1d85b.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="pretemoiton:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/pretemoiton_app/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkpretemoiton=self.webpackChunkpretemoiton||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>OR,hasStandardBrowserEnv:()=>AR,hasStandardBrowserWebWorkerEnv:()=>MR});var t,r=n(43),i=n.t(r,2),s=n(391);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const a="popstate";function l(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function d(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,n,r,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:c=!1}=i,f=s.history,p=t.Pop,m=null,g=v();function v(){return(f.state||{idx:null}).idx}function y(){p=t.Pop;let e=v(),n=null==e?null:e-g;g=e,m&&m({action:p,location:_.location,delta:n})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:d(e);return n=n.replace(/ $/,"%20"),l(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,f.replaceState(o({},f.state,{idx:g}),""));let _={get action(){return p},get location(){return e(s,f)},listen(e){if(m)throw new Error("A history only accepts one active listener");return s.addEventListener(a,y),m=e,()=>{s.removeEventListener(a,y),m=null}},createHref:e=>n(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){p=t.Push;let i=h(_.location,e,n);r&&r(i,e),g=v()+1;let o=u(i,g),a=_.createHref(i);try{f.pushState(o,"",a)}catch(Ys){if(Ys instanceof DOMException&&"DataCloneError"===Ys.name)throw Ys;s.location.assign(a)}c&&m&&m({action:p,location:_.location,delta:1})},replace:function(e,n){p=t.Replace;let i=h(_.location,e,n);r&&r(i,e),g=v();let s=u(i,g),o=_.createHref(i);f.replaceState(s,"",o),c&&m&&m({action:p,location:_.location,delta:0})},go:e=>f.go(e)};return _}var m;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(m||(m={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function g(e,t,n){void 0===n&&(n="/");let r=L(("string"===typeof t?f(t):t).pathname||"/",n);if(null==r)return null;let i=v(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(i);let s=null;for(let o=0;null==s&&o<i.length;++o){let e=N(r);s=T(i[o],e)}return s}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(l(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=D([r,o.relativePath]),c=n.concat(o);e.children&&e.children.length>0&&(l(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),v(e.children,t,c,a)),(null!=e.path||e.index)&&t.push({path:a,score:k(a,e.index),routesMeta:c})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))i(e,t,r);else i(e,t)})),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=y(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}const b=/^:[\w-]+$/,_=3,w=2,E=1,C=10,S=-2,x=e=>"*"===e;function k(e,t){let n=e.split("/"),r=n.length;return n.some(x)&&(r+=S),t&&(r+=w),n.filter((e=>!x(e))).reduce(((e,t)=>e+(b.test(t)?_:""===t?E:C)),r)}function T(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let o=0;o<n.length;++o){let e=n[o],a=o===n.length-1,l="/"===i?t:t.slice(i.length)||"/",c=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:a},l);if(!c)return null;Object.assign(r,c.params);let u=e.route;s.push({params:r,pathname:D([i,c.pathname]),pathnameBase:M(D([i,c.pathnameBase])),route:u}),"/"!==c.pathnameBase&&(i=D([i,c.pathnameBase]))}return s}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function N(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Ys){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+Ys+")."),e}}function L(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function P(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function R(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=R(e);return t?n.map(((t,n)=>n===e.length-1?t.pathname:t.pathnameBase)):n.map((e=>e.pathnameBase))}function A(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=o({},e),l(!i.pathname||!i.pathname.includes("?"),P("?","pathname","search",i)),l(!i.pathname||!i.pathname.includes("#"),P("#","pathname","hash",i)),l(!i.search||!i.search.includes("#"),P("#","search","hash",i)));let s,a=""===e||""===i.pathname,c=a?"/":i.pathname;if(null==c)s=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:j(r),hash:U(i)}}(i,s),h=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!h&&!d||(u.pathname+="/"),u}const D=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),j=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",U=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function F(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],V=(new Set(B),["get",...B]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function z(){return z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z.apply(this,arguments)}const q=r.createContext(null);const W=r.createContext(null);const H=r.createContext(null);const K=r.createContext(null);const G=r.createContext({outlet:null,matches:[],isDataRoute:!1});const Q=r.createContext(null);function Y(){return null!=r.useContext(K)}function J(){return Y()||l(!1),r.useContext(K).location}function $(e){r.useContext(H).static||r.useLayoutEffect(e)}function X(){let{isDataRoute:e}=r.useContext(G);return e?function(){let{router:e}=ce(ae.UseNavigateStable),t=he(le.UseNavigateStable),n=r.useRef(!1);$((()=>{n.current=!0}));let i=r.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,z({fromRouteId:t},i)))}),[e,t]);return i}():function(){Y()||l(!1);let e=r.useContext(q),{basename:t,future:n,navigator:i}=r.useContext(H),{matches:s}=r.useContext(G),{pathname:o}=J(),a=JSON.stringify(O(s,n.v7_relativeSplatPath)),c=r.useRef(!1);$((()=>{c.current=!0}));let u=r.useCallback((function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void i.go(n);let s=A(n,JSON.parse(a),o,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:D([t,s.pathname])),(r.replace?i.replace:i.push)(s,r.state,r)}),[t,i,a,o,e]);return u}()}const Z=r.createContext(null);function ee(e,t){let{relative:n}=void 0===t?{}:t,{future:i}=r.useContext(H),{matches:s}=r.useContext(G),{pathname:o}=J(),a=JSON.stringify(O(s,i.v7_relativeSplatPath));return r.useMemo((()=>A(e,JSON.parse(a),o,"path"===n)),[e,a,o,n])}function te(e,n,i,s){Y()||l(!1);let{navigator:o}=r.useContext(H),{matches:a}=r.useContext(G),c=a[a.length-1],u=c?c.params:{},h=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let d,p=J();if(n){var m;let e="string"===typeof n?f(n):n;"/"===h||(null==(m=e.pathname)?void 0:m.startsWith(h))||l(!1),d=e}else d=p;let v=d.pathname||"/",y=v;if("/"!==h){let e=h.replace(/^\//,"").split("/");y="/"+v.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=g(e,{pathname:y});let _=oe(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:D([h,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:D([h,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,i,s);return n&&_?r.createElement(K.Provider,{value:{location:z({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:t.Pop}},_):_}function ne(){let e=function(){var e;let t=r.useContext(Q),n=ue(le.UseRouteError),i=he(le.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[i]}(),t=F(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const re=r.createElement(ne,null);class ie extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(G.Provider,{value:this.props.routeContext},r.createElement(Q.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:i}=e,s=r.useContext(q);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(G.Provider,{value:t},i)}function oe(e,t,n,i){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===i&&(i=null),null==e){var o;if(null==(o=n)||!o.errors)return null;e=n.matches}let a=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=a.findIndex((e=>e.route.id&&(null==c?void 0:c[e.route.id])));e>=0||l(!1),a=a.slice(0,Math.min(a.length,e+1))}let u=!1,h=-1;if(n&&i&&i.v7_partialHydration)for(let r=0;r<a.length;r++){let e=a[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(h=r),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,a=h>=0?a.slice(0,h+1):[a[0]];break}}}return a.reduceRight(((e,i,s)=>{let o,l=!1,d=null,f=null;var p;n&&(o=c&&i.route.id?c[i.route.id]:void 0,d=i.route.errorElement||re,u&&(h<0&&0===s?(p="route-fallback",!1||de[p]||(de[p]=!0),l=!0,f=null):h===s&&(l=!0,f=i.route.hydrateFallbackElement||null)));let m=t.concat(a.slice(0,s+1)),g=()=>{let t;return t=o?d:l?f:i.route.Component?r.createElement(i.route.Component,null):i.route.element?i.route.element:e,r.createElement(se,{match:i,routeContext:{outlet:e,matches:m,isDataRoute:null!=n},children:t})};return n&&(i.route.ErrorBoundary||i.route.errorElement||0===s)?r.createElement(ie,{location:n.location,revalidation:n.revalidation,component:d,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var ae=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ae||{}),le=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(le||{});function ce(e){let t=r.useContext(q);return t||l(!1),t}function ue(e){let t=r.useContext(W);return t||l(!1),t}function he(e){let t=function(e){let t=r.useContext(G);return t||l(!1),t}(),n=t.matches[t.matches.length-1];return n.route.id||l(!1),n.route.id}const de={};i.startTransition;function fe(e){let{to:t,replace:n,state:i,relative:s}=e;Y()||l(!1);let{future:o,static:a}=r.useContext(H),{matches:c}=r.useContext(G),{pathname:u}=J(),h=X(),d=A(t,O(c,o.v7_relativeSplatPath),u,"path"===s),f=JSON.stringify(d);return r.useEffect((()=>h(JSON.parse(f),{replace:n,state:i,relative:s})),[h,f,s,n,i]),null}function pe(e){return function(e){let t=r.useContext(G).outlet;return t?r.createElement(Z.Provider,{value:e},t):t}(e.context)}function me(e){l(!1)}function ge(e){let{basename:n="/",children:i=null,location:s,navigationType:o=t.Pop,navigator:a,static:c=!1,future:u}=e;Y()&&l(!1);let h=n.replace(/^\/*/,"/"),d=r.useMemo((()=>({basename:h,navigator:a,static:c,future:z({v7_relativeSplatPath:!1},u)})),[h,u,a,c]);"string"===typeof s&&(s=f(s));let{pathname:p="/",search:m="",hash:g="",state:v=null,key:y="default"}=s,b=r.useMemo((()=>{let e=L(p,h);return null==e?null:{location:{pathname:e,search:m,hash:g,state:v,key:y},navigationType:o}}),[h,p,m,g,v,y,o]);return null==b?null:r.createElement(H.Provider,{value:d},r.createElement(K.Provider,{children:i,value:b}))}function ve(e){let{children:t,location:n}=e;return te(ye(t),n)}new Promise((()=>{}));r.Component;function ye(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,((e,i)=>{if(!r.isValidElement(e))return;let s=[...t,i];if(e.type===r.Fragment)return void n.push.apply(n,ye(e.props.children,s));e.type!==me&&l(!1),e.props.index&&e.props.children&&l(!1);let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=ye(e.props.children,s)),n.push(o)})),n}const be=!1,_e=!1,we="${JSCORE_VERSION}",Ee=function(e,t){if(!e)throw Ce(t)},Ce=function(e){return new Error("Firebase Database ("+we+") INTERNAL ASSERT FAILED: "+e)},Se=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},xe={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Se(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new ke;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class ke extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Te=function(e){const t=Se(e);return xe.encodeByteArray(t,!0)},Ie=function(e){return Te(e).replace(/\./g,"")},Ne=function(e){try{return xe.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function Le(e){return Pe(void 0,e)}function Pe(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Pe(e[n],t[n]));return e}const Re=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Oe=()=>{try{return Re()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/pretemoiton_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}const t=e&&Ne(e[1]);return t&&JSON.parse(t)})()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},Ae=e=>{var t,n;return null===(n=null===(t=Oe())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},De=e=>{const t=Ae(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Me=()=>{var e;return null===(e=Oe())||void 0===e?void 0:e.config},je=e=>{var t;return null===(t=Oe())||void 0===t?void 0:t["_".concat(e)]};class Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Fe(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ie(JSON.stringify({alg:"none",type:"JWT"})),Ie(JSON.stringify(s)),""].join(".")}function Be(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Ve(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Be())}function ze(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function qe(){return!0===be||!0===_e}function We(){return!function(){var e;const t=null===(e=Oe())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(r){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function He(){try{return"object"===typeof indexedDB}catch(e){return!1}}class Ke extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ke.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ge.prototype.create)}}class Ge{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(Qe,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ke(n,s,t)}}const Qe=/\{\$([^}]+)}/g;function Ye(e){return JSON.parse(e)}function Je(e){return JSON.stringify(e)}const $e=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Ye(Ne(s[0])||""),n=Ye(Ne(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(s){}return{header:t,claims:n,data:r,signature:i}};function Xe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ze(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function et(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function tt(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function nt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(rt(n)&&rt(s)){if(!nt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rt(e){return null!==e&&"object"===typeof e}function it(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function st(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function ot(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class at{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class lt{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=ct),void 0===r.error&&(r.error=ct),void 0===r.complete&&(r.complete=ct);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!==typeof console&&console.error&&console.error(n)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function ct(){}function ut(e,t){return"".concat(e," failed: ").concat(t," argument ")}const ht=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function dt(e){return e&&e._delegate?e._delegate:e}class ft{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pt="[DEFAULT]";class mt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Ue;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:pt})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===pt?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt;return this.component?this.component.multipleInstances?e:pt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class gt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const vt=[];var yt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(yt||(yt={}));const bt={debug:yt.DEBUG,verbose:yt.VERBOSE,info:yt.INFO,warn:yt.WARN,error:yt.ERROR,silent:yt.SILENT},_t=yt.INFO,wt={[yt.DEBUG]:"log",[yt.VERBOSE]:"log",[yt.INFO]:"info",[yt.WARN]:"warn",[yt.ERROR]:"error"},Et=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=wt[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class Ct{constructor(e){this.name=e,this._logLevel=_t,this._logHandler=Et,this._userLogHandler=null,vt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in yt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?bt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.DEBUG,...t),this._logHandler(this,yt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.VERBOSE,...t),this._logHandler(this,yt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.INFO,...t),this._logHandler(this,yt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.WARN,...t),this._logHandler(this,yt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,yt.ERROR,...t),this._logHandler(this,yt.ERROR,...t)}}const St=(e,t)=>t.some((t=>e instanceof t));let xt,kt;const Tt=new WeakMap,It=new WeakMap,Nt=new WeakMap,Lt=new WeakMap,Pt=new WeakMap;let Rt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return It.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Nt.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function Ot(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(kt||(kt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Mt(this),n),Dt(Tt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dt(e.apply(Mt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Mt(this),t,...r);return Nt.set(s,t.sort?t.sort():[t]),Dt(s)}}function At(e){return"function"===typeof e?Ot(e):(e instanceof IDBTransaction&&function(e){if(It.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));It.set(e,t)}(e),St(e,xt||(xt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Rt):e)}function Dt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Dt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Tt.set(t,e)})).catch((()=>{})),Pt.set(t,e),t}(e);if(Lt.has(e))return Lt.get(e);const t=At(e);return t!==e&&(Lt.set(e,t),Pt.set(t,e)),t}const Mt=e=>Pt.get(e);const jt=["get","getKey","getAll","getAllKeys","count"],Ut=["put","add","delete","clear"],Ft=new Map;function Bt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ft.get(t))return Ft.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Ut.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!jt.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return Ft.set(t,s),s}Rt=(e=>({...e,get:(t,n,r)=>Bt(t,n)||e.get(t,n,r),has:(t,n)=>!!Bt(t,n)||e.has(t,n)}))(Rt);class Vt{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const zt="@firebase/app",qt="0.9.29",Wt=new Ct("@firebase/app"),Ht="[DEFAULT]",Kt={[zt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Gt=new Map,Qt=new Map;function Yt(e,t){try{e.container.addComponent(t)}catch(n){Wt.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Jt(e){const t=e.name;if(Qt.has(t))return Wt.debug("There were multiple attempts to register component ".concat(t,".")),!1;Qt.set(t,e);for(const n of Gt.values())Yt(n,e);return!0}function $t(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}const Xt=new Ge("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Zt{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new ft("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xt.create("app-deleted",{appName:this._name})}}const en="10.9.0";function tn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Ht,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Xt.create("bad-app-name",{appName:String(i)});if(n||(n=Me()),!n)throw Xt.create("no-options");const s=Gt.get(i);if(s){if(nt(n,s.options)&&nt(r,s.config))return s;throw Xt.create("duplicate-app",{appName:i})}const o=new gt(i);for(const l of Qt.values())o.addComponent(l);const a=new Zt(n,r,o);return Gt.set(i,a),a}function nn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;const t=Gt.get(e);if(!t&&e===Ht&&Me())return tn();if(!t)throw Xt.create("no-app",{appName:e});return t}function rn(e,t,n){var r;let i=null!==(r=Kt[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&o&&e.push("and"),o&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Wt.warn(e.join(" "))}Jt(new ft("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const sn="firebase-heartbeat-database",on=1,an="firebase-heartbeat-store";let ln=null;function cn(){return ln||(ln=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=Dt(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Dt(o.result),e.oldVersion,e.newVersion,Dt(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}(sn,on,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(an)}catch(n){console.warn(n)}}}).catch((e=>{throw Xt.create("idb-open",{originalErrorMessage:e.message})}))),ln}async function un(e,t){try{const n=(await cn()).transaction(an,"readwrite"),r=n.objectStore(an);await r.put(t,hn(e)),await n.done}catch(n){if(n instanceof Ke)Wt.warn(n.message);else{const e=Xt.create("idb-set",{originalErrorMessage:null===n||void 0===n?void 0:n.message});Wt.warn(e.message)}}}function hn(e){return"".concat(e.name,"!").concat(e.options.appId)}class dn{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new pn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=fn();if((null!=(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||(this._heartbeatsCache=await this._heartbeatsCachePromise,null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))&&this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=fn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),mn(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),mn(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Ie(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function fn(){return(new Date).toISOString().substring(0,10)}class pn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!He()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Ys){t(Ys)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await cn()).transaction(an),n=await t.objectStore(an).get(hn(e));return await t.done,n}catch(t){if(t instanceof Ke)Wt.warn(t.message);else{const e=Xt.create("idb-get",{originalErrorMessage:null===t||void 0===t?void 0:t.message});Wt.warn(e.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return un(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return un(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function mn(e){return Ie(JSON.stringify({version:2,heartbeats:e})).length}var gn;gn="",Jt(new ft("platform-logger",(e=>new Vt(e)),"PRIVATE")),Jt(new ft("heartbeat",(e=>new dn(e)),"PRIVATE")),rn(zt,qt,gn),rn(zt,qt,"esm2017"),rn("fire-js","");function vn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function yn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const bn=yn,_n=new Ge("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),wn=new Ct("@firebase/auth");function En(e){if(wn.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wn.error("Auth (".concat(en,"): ").concat(e),...n)}}function Cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw kn(e,...n)}function Sn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return kn(e,...n)}function xn(e,t,n){const r=Object.assign(Object.assign({},bn()),{[t]:n});return new Ge("auth","Firebase",r).create(t,{appName:e.name})}function kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return _n.create(e,...n)}function Tn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw kn(t,...r)}}function In(e){const t="INTERNAL ASSERTION FAILED: "+e;throw En(t),new Error(t)}function Nn(e,t){e||In(t)}function Ln(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Pn(){return"http:"===Rn()||"https:"===Rn()}function Rn(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function On(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Pn()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class An{constructor(e,t){this.shortDelay=e,this.longDelay=t,Nn(t>e,"Short delay should be less than long delay!"),this.isMobile=Ve()||ze()}get(){return On()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Dn(e,t){Nn(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Mn{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void In("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void In("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void In("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jn={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Un=new An(3e4,6e4);function Fn(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Bn(e,t,n,r){return Vn(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=it(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode),Mn.fetch()(qn(e,e.config.apiHost,n,o),Object.assign({method:t,headers:a,referrerPolicy:"no-referrer"},i))}))}async function Vn(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},jn),t);try{const t=new Hn(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Kn(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Kn(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Kn(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Kn(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw xn(e,a,o);Cn(e,a)}}catch(i){if(i instanceof Ke)throw i;Cn(e,"network-request-failed",{message:String(i)})}}async function zn(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Bn(e,t,n,r,i);return"mfaPendingCredential"in s&&Cn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function qn(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Dn(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Wn(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Hn{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Sn(this.auth,"network-request-failed"))),Un.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function Kn(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Sn(e,t,r);return i.customData._tokenResponse=n,i}function Gn(e){return void 0!==e&&void 0!==e.enterprise}class Qn{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Wn(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function Yn(e,t){return Bn(e,"GET","/v2/recaptchaConfig",Fn(e,t))}function Jn(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function $n(e){return 1e3*Number(e)}function Xn(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return En("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ne(n);return e?JSON.parse(e):(En("Failed to decode base64 JWT payload"),null)}catch(i){return En("Caught error parsing JWT payload as JSON",null===i||void 0===i?void 0:i.toString()),null}}async function Zn(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(n){throw n instanceof Ke&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(n)&&e.auth.currentUser===e&&await e.auth.signOut(),n}}class er{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){return void((null===e||void 0===e?void 0:e.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class tr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jn(this.lastLoginAt),this.creationTime=Jn(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await Zn(e,async function(e,t){return Bn(e,"POST","/v1/accounts:lookup",t)}(n,{idToken:r}));Tn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?s.providerUserInfo.map((e=>{var{providerId:t}=e,n=vn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[];const a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new tr(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}class rr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Tn(e.idToken,"internal-error"),Tn("undefined"!==typeof e.idToken,"internal-error"),Tn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){const t=Xn(e);return Tn(t,"internal-error"),Tn("undefined"!==typeof t.exp,"internal-error"),Tn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return Tn(!this.accessToken||this.refreshToken,e,"user-token-expired"),t||!this.accessToken||this.isExpired?this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null:this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Vn(e,{},(async()=>{const n=it({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=qn(e,r,"/v1/token","key=".concat(i)),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Mn.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new rr;return n&&(Tn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Tn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Tn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rr,this.toJSON())}_performRefresh(){return In("not implemented")}}function ir(e,t){Tn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class sr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=vn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new tr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await Zn(this,this.stsTokenManager.getToken(this.auth,e));return Tn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=dt(e),r=await n.getIdToken(t),i=Xn(r);Tn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jn($n(i.auth_time)),issuedAtTime:Jn($n(i.iat)),expirationTime:Jn($n(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=dt(e);await nr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Tn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Tn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await nr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Zn(this,async function(e,t){return Bn(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:_,providerData:w,stsTokenManager:E}=t;Tn(y&&E,e,"internal-error");const C=rr.fromJSON(this.name,E);Tn("string"===typeof y,e,"internal-error"),ir(u,e.name),ir(h,e.name),Tn("boolean"===typeof b,e,"internal-error"),Tn("boolean"===typeof _,e,"internal-error"),ir(d,e.name),ir(f,e.name),ir(p,e.name),ir(m,e.name),ir(g,e.name),ir(v,e.name);const S=new sr({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:_,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:C,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(S.providerData=w.map((e=>Object.assign({},e)))),m&&(S._redirectEventId=m),S}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new rr;r.updateFromServerResponse(t);const i=new sr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await nr(i),i}}const or=new Map;function ar(e){Nn(e instanceof Function,"Expected a class definition");let t=or.get(e);return t?(Nn(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,or.set(e,t),t)}class lr{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}lr.type="NONE";const cr=lr;function ur(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class hr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ur(this.userKey,r.apiKey,i),this.fullPersistenceKey=ur("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new hr(ar(cr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||ar(cr);const s=ur(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){const n=sr._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new hr(i,e,n)):new hr(i,e,n)}}function dr(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yr(t))return"Blackberry";if(br(t))return"Webos";if(pr(t))return"Safari";if((t.includes("chrome/")||mr(t))&&!t.includes("edge/"))return"Chrome";if(vr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function fr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/firefox\//i.test(e)}function pr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function mr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/crios\//i.test(e)}function gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/iemobile/i.test(e)}function vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/android/i.test(e)}function yr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/blackberry/i.test(e)}function br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/webos/i.test(e)}function _r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function wr(){return function(){const e=Be();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Er(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be();return _r(e)||vr(e)||br(e)||yr(e)||/windows phone/i.test(e)||gr(e)}function Cr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=dr(Be());break;case"Worker":t="".concat(dr(Be()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(en,"/").concat(r)}class Sr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(i){r(i)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const e of t)try{e()}catch(r){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===n||void 0===n?void 0:n.message})}}}class xr{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class kr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ir(this),this.idTokenSubscription=new Ir(this),this.beforeStateQueue=new Sr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_n,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ar(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await hr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(i){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUser(e){var t;const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(s){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(s)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Tn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(n){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await nr(e)}catch(t){if((null===t||void 0===t?void 0:t.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const t=e?dt(e):null;return t&&Tn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Tn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue((async()=>{await this.assertedPersistence.setPersistence(ar(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Bn(e,"GET","/v2/passwordPolicy",Fn(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new xr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ge("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Bn(e,"POST","/v2/accounts:revokeToken",Fn(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ar(e)||this._popupRedirectResolver;Tn(t,this,"argument-error"),this.redirectPersistenceManager=await hr.create(this,[ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tn(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Tn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Cr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(wn.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];wn.warn("Auth (".concat(en,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Tr(e){return dt(e)}class Ir{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new lt(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Tn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Nr={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lr(e){return Nr.loadJS(e)}function Pr(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Rr{constructor(e){this.type="recaptcha-enterprise",this.auth=Tr(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Gn(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Yn(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Qn(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Gn(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Nr.recaptchaEnterpriseScript;0!==t.length&&(t+=i),Lr(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Or(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new Rr(e);let s;try{s=await i.verify(n)}catch(Ys){s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ar(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Or(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Or(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function Dr(e,t,n){const r=Tr(e);Tn(r._canInitEmulator,r,"emulator-config-failed"),Tn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Mr(t),{host:o,port:a}=function(e){const t=Mr(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:jr(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:jr(t)}}}(t),l=null===a?"":":".concat(a);r.config.emulator={url:"".concat(s,"//").concat(o).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Mr(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function jr(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Ur{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return In("not implemented")}_getIdTokenResponse(e){return In("not implemented")}_linkToIdToken(e,t){return In("not implemented")}_getReauthenticationResolver(e){return In("not implemented")}}async function Fr(e,t){return Bn(e,"POST","/v1/accounts:signUp",t)}async function Br(e,t){return zn(e,"POST","/v1/accounts:signInWithPassword",Fn(e,t))}class Vr extends Ur{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Vr(e,t,"password")}static _fromEmailAndCode(e,t){return new Vr(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ar(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Br);case"emailLink":return async function(e,t){return zn(e,"POST","/v1/accounts:signInWithEmailLink",Fn(e,t))}(e,{email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ar(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Fr);case"emailLink":return async function(e,t){return zn(e,"POST","/v1/accounts:signInWithEmailLink",Fn(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Cn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function zr(e,t){return zn(e,"POST","/v1/accounts:signInWithIdp",Fn(e,t))}class qr extends Ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new qr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Cn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=vn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new qr(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return zr(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,zr(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,zr(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=it(t)}return e}}const Wr={USER_NOT_FOUND:"user-not-found"};class Hr extends Ur{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new Hr({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new Hr({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Fn(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Fn(e,t));if(n.temporaryProof)throw Kn(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return zn(e,"POST","/v1/accounts:signInWithPhoneNumber",Fn(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),Wr)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new Hr({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class Kr{constructor(e){var t,n,r,i,s,o;const a=st(ot(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Tn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=st(ot(e)).link,n=t?st(ot(t)).deep_link_id:null,r=st(ot(e)).deep_link_id;return(r?st(ot(r)).link:null)||r||n||t||e}(e);try{return new Kr(t)}catch(n){return null}}}class Gr{constructor(){this.providerId=Gr.PROVIDER_ID}static credential(e,t){return Vr._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=Kr.parseLink(t);return Tn(n,"argument-error"),Vr._fromEmailAndCode(e,n.code,n.tenantId)}}Gr.PROVIDER_ID="password",Gr.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Gr.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Qr{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Yr extends Qr{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Jr extends Yr{constructor(){super("facebook.com")}static credential(e){return qr._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Jr.credential(t.oauthAccessToken)}catch(n){return null}}}Jr.FACEBOOK_SIGN_IN_METHOD="facebook.com",Jr.PROVIDER_ID="facebook.com";class $r extends Yr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return qr._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return $r.credentialFromTaggedObject(e)}static credentialFromError(e){return $r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return $r.credential(n,r)}catch(i){return null}}}$r.GOOGLE_SIGN_IN_METHOD="google.com",$r.PROVIDER_ID="google.com";class Xr extends Yr{constructor(){super("github.com")}static credential(e){return qr._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Xr.credential(t.oauthAccessToken)}catch(n){return null}}}Xr.GITHUB_SIGN_IN_METHOD="github.com",Xr.PROVIDER_ID="github.com";class Zr extends Yr{constructor(){super("twitter.com")}static credential(e,t){return qr._fromParams({providerId:Zr.PROVIDER_ID,signInMethod:Zr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Zr.credentialFromTaggedObject(e)}static credentialFromError(e){return Zr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Zr.credential(n,r)}catch(i){return null}}}async function ei(e,t){return zn(e,"POST","/v1/accounts:signUp",Fn(e,t))}Zr.TWITTER_SIGN_IN_METHOD="twitter.com",Zr.PROVIDER_ID="twitter.com";class ti{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await sr._fromIdTokenResponse(e,n,r),s=ni(n);return new ti({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ni(n);return new ti({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ni(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class ri extends Ke{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,ri.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new ri(e,t,n,r)}}function ii(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw ri._fromErrorAndOperation(e,n,t,r);throw n}))}async function si(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await Zn(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return ti._forOperation(e,"link",r)}async function oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e,i="reauthenticate";try{const s=await Zn(e,ii(r,i,t,e),n);Tn(s.idToken,r,"internal-error");const o=Xn(s.idToken);Tn(o,r,"internal-error");const{sub:a}=o;return Tn(e.uid===a,r,"user-mismatch"),ti._forOperation(e,i,s)}catch(s){throw(null===s||void 0===s?void 0:s.code)==="auth/".concat("user-not-found")&&Cn(r,"user-mismatch"),s}}async function ai(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r="signIn",i=await ii(e,r,t),s=await ti._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function li(e,t){return ai(Tr(e),t)}async function ci(e){const t=Tr(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function ui(e,t,n){const r=Tr(e),i=Ar(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",ei),s=await i.catch((t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ci(e),t})),o=await ti._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}new WeakMap;const hi="__sak";class di{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(hi,"1"),this.storage.removeItem(hi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class fi extends di{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=Be();return pr(e)||_r(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Er(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);wr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}fi.type="LOCAL";const pi=fi;class mi extends di{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}mi.type="SESSION";const gi=mi;class vi{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new vi(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function yi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}vi.receivers=[];class bi{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=yi("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function _i(){return window}function wi(){return"undefined"!==typeof _i().WorkerGlobalScope&&"function"===typeof _i().importScripts}const Ei="firebaseLocalStorageDb",Ci="firebaseLocalStorage",Si="fbase_key";class xi{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function ki(e,t){return e.transaction([Ci],t?"readwrite":"readonly").objectStore(Ci)}function Ti(){const e=indexedDB.open(Ei,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Ci,{keyPath:Si})}catch(r){n(r)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Ci)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Ei);return new xi(e).toPromise()}(),t(await Ti()))}))}))}async function Ii(e,t,n){const r=ki(e,!0).put({[Si]:t,value:n});return new xi(r).toPromise()}function Ni(e,t){const n=ki(e,!0).delete(t);return new xi(n).toPromise()}class Li{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Ti()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(n){if(t++>3)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vi._getInstance(wi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new bi(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Ti();return await Ii(e,hi,"1"),await Ni(e,hi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Ii(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=ki(e,!1).get(t),r=await new xi(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ni(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=ki(e,!1).getAll();return new xi(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Li.type="LOCAL";const Pi=Li;Pr("rcb"),new An(3e4,6e4);const Ri="recaptcha";async function Oi(e,t,n){var r;const i=await n.verify();try{let s;if(Tn("string"===typeof i,e,"argument-error"),Tn(n.type===Ri,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Tn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return Bn(e,"POST","/v2/accounts/mfaEnrollment:start",Fn(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Tn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Tn(n,e,"missing-multi-factor-info");const o=await function(e,t){return Bn(e,"POST","/v2/accounts/mfaSignIn:start",Fn(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return o.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return Bn(e,"POST","/v1/accounts:sendVerificationCode",Fn(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class Ai{constructor(e){this.providerId=Ai.PROVIDER_ID,this.auth=Tr(e)}verifyPhoneNumber(e,t){return Oi(this.auth,e,dt(t))}static credential(e,t){return Hr._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ai.credentialFromTaggedObject(t)}static credentialFromError(e){return Ai.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?Hr._fromTokenResponse(n,r):null}}function Di(e,t){return t?ar(t):(Tn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ai.PROVIDER_ID="phone",Ai.PHONE_SIGN_IN_METHOD="phone";class Mi extends Ur{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return zr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function ji(e){return ai(e.auth,new Mi(e),e.bypassAuthState)}function Ui(e){const{auth:t,user:n}=e;return Tn(n,t,"internal-error"),oi(n,new Mi(e),e.bypassAuthState)}async function Fi(e){const{auth:t,user:n}=e;return Tn(n,t,"internal-error"),si(n,new Mi(e),e.bypassAuthState)}class Bi{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(l){this.reject(l)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ji;case"linkViaPopup":case"linkViaRedirect":return Fi;case"reauthViaPopup":case"reauthViaRedirect":return Ui;default:Cn(this.auth,"internal-error")}}resolve(e){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Nn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Vi=new An(2e3,1e4);class zi extends Bi{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,zi.currentPopupAction&&zi.currentPopupAction.cancel(),zi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Tn(e,this.auth,"internal-error"),e}async onExecution(){Nn(1===this.filter.length,"Popup operations only handle one event");const e=yi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Sn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Sn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Sn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,Vi.get())};e()}}zi.currentPopupAction=null;const qi="pendingRedirect",Wi=new Map;class Hi extends Bi{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=Wi.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=Qi(t),r=Gi(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Wi.set(this.auth._key(),e)}return this.bypassAuthState||Wi.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function Ki(e,t){Wi.set(e._key(),t)}function Gi(e){return ar(e._redirectPersistence)}function Qi(e){return ur(qi,e.config.apiKey,e.name)}async function Yi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=Tr(e),i=Di(r,t),s=new Hi(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class Ji{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Xi(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Xi(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Sn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($i(e))}saveEventToCache(e){this.cachedEventUids.add($i(e)),this.lastProcessedEventTime=Date.now()}}function $i(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Xi(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const Zi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,es=/^https?/;async function ts(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Bn(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(ns(r))return}catch(n){}Cn(e,"unauthorized-domain")}function ns(e){const t=Ln(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!es.test(n))return!1;if(Zi.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const rs=new An(3e4,6e4);function is(){const e=_i().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function ss(e){return new Promise(((t,n)=>{var r,i,s;function o(){is(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{is(),n(Sn(e,"network-request-failed"))},timeout:rs.get()})}if(null===(i=null===(r=_i().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=_i().gapi)||void 0===s?void 0:s.load)){const t=Pr("iframefcb");return _i()[t]=()=>{gapi.load?o():n(Sn(e,"network-request-failed"))},Lr("".concat(Nr.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}o()}})).catch((e=>{throw os=null,e}))}let os=null;const as=new An(5e3,15e3),ls="__/auth/iframe",cs="emulator/auth/iframe",us={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hs=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ds(e){const t=e.config;Tn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Dn(t,cs):"https://".concat(e.config.authDomain,"/").concat(ls),r={apiKey:t.apiKey,appName:e.name,v:en},i=hs.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(it(r).slice(1))}async function fs(e){const t=await function(e){return os=os||ss(e),os}(e),n=_i().gapi;return Tn(n,e,"internal-error"),t.open({where:document.body,url:ds(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:us,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Sn(e,"network-request-failed"),s=_i().setTimeout((()=>{r(i)}),as.get());function o(){_i().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const ps={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ms{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function gs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},ps),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Be().toLowerCase();n&&(a=mr(c)?"_blank":n),fr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return _r(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Be())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new ms(null);const h=window.open(t||"",a,u);Tn(h,e,"popup-blocked");try{h.focus()}catch(d){}return new ms(h)}const vs="__/auth/handler",ys="emulator/auth/handler",bs=encodeURIComponent("fac");async function _s(e,t,n,r,i,s){Tn(e.config.authDomain,e,"auth-domain-config-required"),Tn(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:en,eventId:i};if(t instanceof Qr){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",et(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof Yr){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?"#".concat(bs,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(vs);return Dn(t,ys)}(e),"?").concat(it(a).slice(1)).concat(c)}const ws="webStorageSupport";const Es=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=gi,this._completeRedirectFn=Yi,this._overrideRedirectResult=Ki}async _openPopup(e,t,n,r){var i;Nn(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return gs(e,await _s(e,t,n,Ln(),r),yi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){_i().location.href=e}(await _s(e,t,n,Ln(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Nn(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await fs(e),n=new Ji(e);return t.register("authEvent",(t=>{Tn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ws,{type:ws},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[ws];void 0!==i&&t(!!i),Cn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ts(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Er()||pr()||_r()}};var Cs="@firebase/auth",Ss="1.6.2";class xs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Tn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ks=je("authIdTokenMaxAge")||300;let Ts=null;const Is=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>ks)return;const i=null===n||void 0===n?void 0:n.token;Ts!==i&&(Ts=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:"Bearer ".concat(i)}:{}}))};function Ns(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn();const t=$t(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=$t(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(nt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Cn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Es,persistence:[Pi,pi,gi]}),r=je("authTokenSyncURL");if(r&&r.match(/^\/[^\/].*/)){const e=Is(r);!function(e,t,n){dt(e).beforeAuthStateChanged(t,n)}(n,e,(()=>e(n.currentUser))),function(e,t,n,r){dt(e).onIdTokenChanged(t,n,r)}(n,(t=>e(t)))}const i=Ae("auth");return i&&Dr(n,"http://".concat(i)),n}var Ls;!function(e){Nr=e}({loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Sn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),Ls="Browser",Jt(new ft("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Tn(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:Ls,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Cr(Ls)},c=new kr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ar);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Jt(new ft("auth-internal",(e=>(e=>new xs(e))(Tr(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),rn(Cs,Ss,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Ls)),rn(Cs,Ss,"esm2017");rn("firebase","10.9.0","app");const Ps="@firebase/database",Rs="1.0.3";let Os="";function As(e){Os=e}class Ds{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Je(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:Ye(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Ms{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return Xe(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const js=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ds(t)}}catch(t){}return new Ms},Us=js("localStorage"),Fs=js("sessionStorage"),Bs=new Ct("@firebase/database"),Vs=function(){let e=1;return function(){return e++}}(),zs=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Ee(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new at;n.update(t);const r=n.digest();return xe.encodeByteArray(r)},qs=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=qs.apply(null,n):e+="object"===typeof n?Je(n):n,e+=" "}return e};let Ws=null,Hs=!0;const Ks=function(e,t){Ee(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(Bs.logLevel=yt.VERBOSE,Ws=Bs.log.bind(Bs),t&&Fs.set("logging_enabled",!0)):"function"===typeof e?Ws=e:(Ws=null,Fs.remove("logging_enabled"))},Gs=function(){if(!0===Hs&&(Hs=!1,null===Ws&&!0===Fs.get("logging_enabled")&&Ks(!0)),Ws){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=qs.apply(null,t);Ws(r)}},Qs=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Gs(e,...n)}},Ys=function(){const e="FIREBASE INTERNAL ERROR: "+qs(...arguments);Bs.error(e)},Js=function(){const e="FIREBASE FATAL ERROR: ".concat(qs(...arguments));throw Bs.error(e),new Error(e)},$s=function(){const e="FIREBASE WARNING: "+qs(...arguments);Bs.warn(e)},Xs=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},Zs="[MIN_NAME]",eo="[MAX_NAME]",to=function(e,t){if(e===t)return 0;if(e===Zs||t===eo)return-1;if(t===Zs||e===eo)return 1;{const n=co(e),r=co(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},no=function(e,t){return e===t?0:e<t?-1:1},ro=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+Je(t))},io=function(e){if("object"!==typeof e||null===e)return Je(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=Je(t[r]),n+=":",n+=io(e[t[r]]);return n+="}",n},so=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function oo(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const ao=function(e){Ee(!Xs(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const lo=new RegExp("^-?(0*)\\d{1,10}$"),co=function(e){if(lo.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},uo=function(e){try{e()}catch(t){setTimeout((()=>{const e=t.stack||"";throw $s("Exception was thrown by user callback.",e),t}),Math.floor(0))}},ho=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class fo{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){$s('Provided AppCheck credentials for the app named "'.concat(this.appName_,'" ')+"are invalid. This usually indicates your app was not initialized correctly.")}}class po{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Gs("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',$s(e)}}class mo{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}mo.OWNER="owner";const go="5",vo=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,yo="ac",bo="websocket",_o="long_polling";class wo{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Us.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Us.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?"?ns=".concat(this.namespace):"";return"".concat(e).concat(this.host,"/").concat(t)}}function Eo(e,t,n){let r;if(Ee("string"===typeof t,"typeof type must == string"),Ee("object"===typeof n,"typeof params must == object"),t===bo)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==_o)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return oo(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class Co{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;Xe(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return Le(this.counters_)}}const So={},xo={};function ko(e){const t=e.toString();return So[t]||(So[t]=new Co),So[t]}class To{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&uo((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Io="start";class No{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Qs(e),this.stats_=ko(t),this.urlFn=e=>(this.appCheckToken&&(e[yo]=this.appCheckToken),Eo(t,_o,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new To(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(qe()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Lo((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Io)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Io]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=go,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[yo]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&vo.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){No.forceAllow_=!0}static forceDisallow(){No.forceDisallow_=!0}static isAvailable(){return!qe()&&(!!No.forceAllow_||!No.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=Je(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Te(t),r=so(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(qe())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=Je(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Lo{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,qe())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Vs(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Lo.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){Gs("frame writing exception"),i.stack&&Gs(i.stack),Gs(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Gs("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){qe()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Gs("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}}),Math.floor(1))}}let Po=null;"undefined"!==typeof MozWebSocket?Po=MozWebSocket:"undefined"!==typeof WebSocket&&(Po=WebSocket);class Ro{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Qs(this.connId),this.stats_=ko(t),this.connURL=Ro.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=go,!qe()&&"undefined"!==typeof location&&location.hostname&&vo.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[yo]=r),i&&(s.p=i),Eo(e,bo,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Us.set("previous_websocket_failure",!0);try{let e;if(qe()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":"Firebase/".concat(go,"/").concat(Os,"/").concat(process.platform,"/").concat(t),"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization="Bearer ".concat(this.authToken)),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/pretemoiton_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Po(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Ro.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Po&&!Ro.forceDisallow_}static previouslyFailed(){return Us.isInMemoryStorage||!0===Us.get("previous_websocket_failure")}markConnectionHealthy(){Us.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=Ye(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ee(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=Je(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=so(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ro.responsesRequiredToBeHealthy=2,Ro.healthyTimeout=3e4;class Oo{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[No,Ro]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const t=Ro&&Ro.isAvailable();let n=t&&!Ro.previouslyFailed();if(e.webSocketOnly&&(t||$s("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Ro];else{const e=this.transports_=[];for(const t of Oo.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Oo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Oo.globalTransportInitialized_=!1;class Ao{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Qs("c:"+this.id+":"),this.transportManager_=new Oo(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ho((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=ro("t",e),n=ro("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=ro("t",e),n=ro("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=ro("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Ys("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Ys("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),go!==n&&$s("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),ho((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ho((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Us.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Do{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Mo{constructor(e){this.allowedEvents_=e,this.listeners_={},Ee(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Ee(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class jo extends Mo{constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||Ve()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}static getInstance(){return new jo}getInitialEvent(e){return Ee("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}const Uo=32,Fo=768;class Bo{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Vo(){return new Bo("")}function zo(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function qo(e){return e.pieces_.length-e.pieceNum_}function Wo(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Bo(e.pieces_,t)}function Ho(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Ko(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Go(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Bo(t,0)}function Qo(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Bo)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Bo(n,0)}function Yo(e){return e.pieceNum_>=e.pieces_.length}function Jo(e,t){const n=zo(e),r=zo(t);if(null===n)return t;if(n===r)return Jo(Wo(e),Wo(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function $o(e,t){if(qo(e)!==qo(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Xo(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(qo(e)>qo(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Zo{constructor(e,t){this.errorPrefix_=t,this.parts_=Ko(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=ht(this.parts_[n]);ea(this)}}function ea(e){if(e.byteLength_>Fo)throw new Error(e.errorPrefix_+"has a key path longer than "+Fo+" bytes ("+e.byteLength_+").");if(e.parts_.length>Uo)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Uo+") or object contains a cycle "+ta(e))}function ta(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class na extends Mo{constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}static getInstance(){return new na}getInitialEvent(e){return Ee("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ra=1e3;class ia extends Do{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=ia.nextPersistentConnectionId_++,this.log_=Qs("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ra,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!qe())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");na.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&jo.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(Je(i)),Ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ue,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ee(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;ia.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&Xe(e,"w")){const n=Ze(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();$s("Using an unspecified index. Your data will be downloaded and "+"filtered on the client. Consider adding ".concat(e," at ")+"".concat(n," to your security rules for better performance."))}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=$e(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=$e(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ee(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Je(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Ys("Unrecognized action received from server: "+Je(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ra),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+ia.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){Ee(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Gs("getToken() completed but was canceled"):(Gs("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new Ao(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{$s(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Ys){this.log_("Failed to get token: "+Ys),s||(this.repoInfo_.nodeAdmin&&$s(Ys),a())}}}interrupt(e){Gs("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Gs("Resuming connection for reason: "+e),delete this.interruptReasons_[e],et(this.interruptReasons_)&&(this.reconnectDelay_=ra,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>io(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Bo(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Gs("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Gs("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";qe()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Os.replace(/\./g,"-")]=1,Ve()?e["framework.cordova"]=1:ze()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jo.getInstance().currentlyOnline();return et(this.interruptReasons_)&&e}}ia.nextPersistentConnectionId_=0,ia.nextConnectionId_=0;class sa{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new sa(e,t)}}class oa{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new sa(Zs,e),r=new sa(Zs,t);return 0!==this.compare(n,r)}minPost(){return sa.MIN}}let aa;class la extends oa{static get __EMPTY_NODE(){return aa}static set __EMPTY_NODE(e){aa=e}compare(e,t){return to(e.name,t.name)}isDefinedOn(e){throw Ce("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return sa.MIN}maxPost(){return new sa(eo,aa)}makePost(e,t){return Ee("string"===typeof e,"KeyIndex indexValue must always be a string."),new sa(e,aa)}toString(){return".key"}}const ca=new la;class ua{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ha{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ha.RED,this.left=null!=r?r:da.EMPTY_NODE,this.right=null!=i?i:da.EMPTY_NODE}copy(e,t,n,r,i){return new ha(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return da.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return da.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ha.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ha.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ha.RED=!0,ha.BLACK=!1;class da{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:da.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new da(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,ha.BLACK,null,null))}remove(e){return new da(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ha.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ua(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new ua(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new ua(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new ua(this.root_,null,this.comparator_,!0,e)}}function fa(e,t){return to(e.name,t.name)}function pa(e,t){return to(e,t)}let ma;da.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new ha(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const ga=function(e){return"number"===typeof e?"number:"+ao(e):"string:"+e},va=function(e){if(e.isLeafNode()){const t=e.val();Ee("string"===typeof t||"number"===typeof t||"object"===typeof t&&Xe(t,".sv"),"Priority must be a string or number.")}else Ee(e===ma||e.isEmpty(),"priority of unexpected type.");Ee(e===ma||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let ya,ba,_a;class wa{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wa.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ee(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),va(this.priorityNode_)}static set __childrenNodeConstructor(e){ya=e}static get __childrenNodeConstructor(){return ya}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new wa(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:wa.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Yo(e)?this:".priority"===zo(e)?this.priorityNode_:wa.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:wa.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=zo(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Ee(".priority"!==n||1===qo(e),".priority must be the last token in a path"),this.updateImmediateChild(n,wa.__childrenNodeConstructor.EMPTY_NODE.updateChild(Wo(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+ga(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?ao(this.value_):this.value_,this.lazyHash_=zs(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===wa.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof wa.__childrenNodeConstructor?-1:(Ee(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=wa.VALUE_TYPE_ORDER.indexOf(t),i=wa.VALUE_TYPE_ORDER.indexOf(n);return Ee(r>=0,"Unknown leaf type: "+t),Ee(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}wa.VALUE_TYPE_ORDER=["object","boolean","number","string"];const Ea=new class extends oa{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?to(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return sa.MIN}maxPost(){return new sa(eo,new wa("[PRIORITY-POST]",_a))}makePost(e,t){const n=ba(e);return new sa(t,new wa("[PRIORITY-POST]",n))}toString(){return".priority"}},Ca=Math.log(2);class Sa{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ca,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xa=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new ha(a,o.node,ha.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new ha(a,o.node,ha.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new ha(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,ha.BLACK):(a(r,ha.BLACK),a(r,ha.RED))}return s}(new Sa(e.length));return new da(r||t,s)};let ka;const Ta={};class Ia{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return Ee(Ta&&Ea,"ChildrenNode.ts has not been loaded"),ka=ka||new Ia({".priority":Ta},{".priority":Ea}),ka}get(e){const t=Ze(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof da?t:null}hasIndex(e){return Xe(this.indexSet_,e.toString())}addIndex(e,t){Ee(e!==ca,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(sa.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?xa(n,e.getCompare()):Ta;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new Ia(c,l)}addToIndexes(e,t){const n=tt(this.indexes_,((n,r)=>{const i=Ze(this.indexSet_,r);if(Ee(i,"Missing index implementation for "+r),n===Ta){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(sa.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),xa(n,i.getCompare())}return Ta}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new sa(e.name,r))),i.insert(e,e.node)}}));return new Ia(n,this.indexSet_)}removeFromIndexes(e,t){const n=tt(this.indexes_,(n=>{if(n===Ta)return n;{const r=t.get(e.name);return r?n.remove(new sa(e.name,r)):n}}));return new Ia(n,this.indexSet_)}}let Na;class La{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&va(this.priorityNode_),this.children_.isEmpty()&&Ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Na||(Na=new La(new da(pa),null,Ia.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Na}updatePriority(e){return this.children_.isEmpty()?this:new La(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Na:t}}getChild(e){const t=zo(e);return null===t?this:this.getImmediateChild(t).getChild(Wo(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Ee(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new sa(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?Na:this.priorityNode_;return new La(r,s,i)}}updateChild(e,t){const n=zo(e);if(null===n)return t;{Ee(".priority"!==zo(e)||1===qo(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(Wo(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(Ea,((s,o)=>{t[s]=o.val(e),n++,i&&La.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+ga(this.getPriority().val())+":"),this.forEachChild(Ea,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":zs(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new sa(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new sa(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new sa(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,sa.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,sa.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Pa?-1:0}withIndex(e){if(e===ca||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new La(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===ca||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(Ea),n=t.getIterator(Ea);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===ca?null:this.indexMap_.get(e.toString())}}La.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Pa=new class extends La{constructor(){super(new da(pa),La.EMPTY_NODE,Ia.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return La.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(sa,{MIN:{value:new sa(Zs,La.EMPTY_NODE)},MAX:{value:new sa(eo,Pa)}}),la.__EMPTY_NODE=La.EMPTY_NODE,wa.__childrenNodeConstructor=La,ma=Pa,function(e){_a=e}(Pa);const Ra=!0;function Oa(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return La.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ee(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new wa(e,Oa(t))}if(e instanceof Array||!Ra){let n=La.EMPTY_NODE;return oo(e,((t,r)=>{if(Xe(e,t)&&"."!==t.substring(0,1)){const e=Oa(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Oa(t))}{const n=[];let r=!1;if(oo(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Oa(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new sa(e,i)))}})),0===n.length)return La.EMPTY_NODE;const i=xa(n,fa,(e=>e.name),pa);if(r){const e=xa(n,Ea.getCompare());return new La(i,Oa(t),new Ia({".priority":e},{".priority":Ea}))}return new La(i,Oa(t),Ia.Default)}}!function(e){ba=e}(Oa);class Aa extends oa{constructor(e){super(),this.indexPath_=e,Ee(!Yo(e)&&".priority"!==zo(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?to(e.name,t.name):i}makePost(e,t){const n=Oa(e),r=La.EMPTY_NODE.updateChild(this.indexPath_,n);return new sa(t,r)}maxPost(){const e=La.EMPTY_NODE.updateChild(this.indexPath_,Pa);return new sa(eo,e)}toString(){return Ko(this.indexPath_,0).join("/")}}const Da=new class extends oa{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?to(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return sa.MIN}maxPost(){return sa.MAX}makePost(e,t){const n=Oa(e);return new sa(t,n)}toString(){return".value"}};function Ma(e){return{type:"value",snapshotNode:e}}function ja(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Ua(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Fa(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class Ba{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ea}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Zs}hasEnd(){return this.endSet_}getIndexEndValue(){return Ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:eo}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Ea}copy(){const e=new Ba;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function Va(e){const t={};if(e.isDefault())return t;let n;if(e.index_===Ea?n="$priority":e.index_===Da?n="$value":e.index_===ca?n="$key":(Ee(e.index_ instanceof Aa,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=Je(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=Je(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+Je(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=Je(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+Je(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function za(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==Ea&&(t.i=e.index_.toString()),t}class qa extends Do{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Qs("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ee(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=qa.getListenId_(e,n),o={};this.listens_[s]=o;const a=Va(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),Ze(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=qa.getListenId_(e,t);delete this.listens_[n]}get(e){const t=Va(e._queryParams),n=e._path.toString(),r=new Ue;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+it(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let t=null;if(a.status>=200&&a.status<300){try{t=Ye(a.responseText)}catch(e){$s("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&$s("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class Wa{constructor(){this.rootNode_=La.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Ha(){return{value:null,children:new Map}}function Ka(e,t,n){if(Yo(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=zo(t);e.children.has(r)||e.children.set(r,Ha());Ka(e.children.get(r),t=Wo(t),n)}}function Ga(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Ga(r,new Bo(t.toString()+"/"+e),n)}))}class Qa{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&oo(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Ya{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Qa(e);const n=1e4+2e4*Math.random();ho(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;oo(e,((e,r)=>{r>0&&Xe(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),ho(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Ja;function $a(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Ja||(Ja={}));class Xa{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Ja.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Yo(this.path)){if(null!=this.affectedTree.value)return Ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Bo(e));return new Xa(Vo(),t,this.revert)}}return Ee(zo(this.path)===e,"operationForChild called for unrelated child."),new Xa(Wo(this.path),this.affectedTree,this.revert)}}class Za{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Ja.OVERWRITE}operationForChild(e){return Yo(this.path)?new Za(this.source,Vo(),this.snap.getImmediateChild(e)):new Za(this.source,Wo(this.path),this.snap)}}class el{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Ja.MERGE}operationForChild(e){if(Yo(this.path)){const t=this.children.subtree(new Bo(e));return t.isEmpty()?null:t.value?new Za(this.source,Vo(),t.value):new el(this.source,Vo(),t)}return Ee(zo(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new el(this.source,Wo(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class tl{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Yo(e))return this.isFullyInitialized()&&!this.filtered_;const t=zo(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function nl(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ce("Should only compare child_ events.");const r=new sa(t.childName,t.snapshotNode),i=new sa(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function rl(e,t){return{eventCache:e,serverCache:t}}function il(e,t,n,r){return rl(new tl(t,n,r),e.serverCache)}function sl(e,t,n,r){return rl(e.eventCache,new tl(t,n,r))}function ol(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function al(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let ll;class cl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(ll||(ll=new da(no)),ll);this.value=e,this.children=t}static fromObject(e){let t=new cl(null);return oo(e,((e,n)=>{t=t.set(new Bo(e),n)})),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Vo(),value:this.value};if(Yo(e))return null;{const n=zo(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(Wo(e),t);if(null!=i){return{path:Qo(new Bo(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Yo(e))return this;{const t=zo(e),n=this.children.get(t);return null!==n?n.subtree(Wo(e)):new cl(null)}}set(e,t){if(Yo(e))return new cl(t,this.children);{const n=zo(e),r=(this.children.get(n)||new cl(null)).set(Wo(e),t),i=this.children.insert(n,r);return new cl(this.value,i)}}remove(e){if(Yo(e))return this.children.isEmpty()?new cl(null):new cl(null,this.children);{const t=zo(e),n=this.children.get(t);if(n){const r=n.remove(Wo(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new cl(null):new cl(this.value,i)}return this}}get(e){if(Yo(e))return this.value;{const t=zo(e),n=this.children.get(t);return n?n.get(Wo(e)):null}}setTree(e,t){if(Yo(e))return t;{const n=zo(e),r=(this.children.get(n)||new cl(null)).setTree(Wo(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new cl(this.value,i)}}fold(e){return this.fold_(Vo(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Qo(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Vo(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Yo(e))return null;{const r=zo(e),i=this.children.get(r);return i?i.findOnPath_(Wo(e),Qo(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Vo(),t)}foreachOnPath_(e,t,n){if(Yo(e))return this;{this.value&&n(t,this.value);const r=zo(e),i=this.children.get(r);return i?i.foreachOnPath_(Wo(e),Qo(t,r),n):new cl(null)}}foreach(e){this.foreach_(Vo(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Qo(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class ul{constructor(e){this.writeTree_=e}static empty(){return new ul(new cl(null))}}function hl(e,t,n){if(Yo(t))return new ul(new cl(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Jo(i,t);return s=s.updateChild(o,n),new ul(e.writeTree_.set(i,s))}{const r=new cl(n),i=e.writeTree_.setTree(t,r);return new ul(i)}}}function dl(e,t,n){let r=e;return oo(n,((e,n)=>{r=hl(r,Qo(t,e),n)})),r}function fl(e,t){if(Yo(t))return ul.empty();{const n=e.writeTree_.setTree(t,new cl(null));return new ul(n)}}function pl(e,t){return null!=ml(e,t)}function ml(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Jo(n.path,t)):null}function gl(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(Ea,((e,n)=>{t.push(new sa(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new sa(e,n.value))})),t}function vl(e,t){if(Yo(t))return e;{const n=ml(e,t);return new ul(null!=n?new cl(n):e.writeTree_.subtree(t))}}function yl(e){return e.writeTree_.isEmpty()}function bl(e,t){return _l(Vo(),e.writeTree_,t)}function _l(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Ee(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=_l(Qo(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Qo(e,".priority"),r)),n}}function wl(e,t){return Al(t,e)}function El(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Ee(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Cl(t,r.path)?i=!1:Xo(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=xl(e.allWrites,Sl,Vo()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=fl(e.visibleWrites,r.path);else{oo(r.children,(t=>{e.visibleWrites=fl(e.visibleWrites,Qo(r.path,t))}))}return!0}return!1}function Cl(e,t){if(e.snap)return Xo(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Xo(Qo(e.path,n),t))return!0;return!1}function Sl(e){return e.visible}function xl(e,t,n){let r=ul.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Xo(n,e)?(t=Jo(n,e),r=hl(r,t,s.snap)):Xo(e,n)&&(t=Jo(e,n),r=hl(r,Vo(),s.snap.getChild(t)));else{if(!s.children)throw Ce("WriteRecord should have .snap or .children");if(Xo(n,e))t=Jo(n,e),r=dl(r,t,s.children);else if(Xo(e,n))if(t=Jo(e,n),Yo(t))r=dl(r,Vo(),s.children);else{const e=Ze(s.children,zo(t));if(e){const n=e.getChild(Wo(t));r=hl(r,Vo(),n)}}}}}return r}function kl(e,t,n,r,i){if(r||i){const s=vl(e.visibleWrites,t);if(!i&&yl(s))return n;if(i||null!=n||pl(s,Vo())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Xo(e.path,t)||Xo(t,e.path))};return bl(xl(e.allWrites,s,t),n||La.EMPTY_NODE)}return null}{const r=ml(e.visibleWrites,t);if(null!=r)return r;{const r=vl(e.visibleWrites,t);if(yl(r))return n;if(null!=n||pl(r,Vo())){return bl(r,n||La.EMPTY_NODE)}return null}}}function Tl(e,t,n,r){return kl(e.writeTree,e.treePath,t,n,r)}function Il(e,t){return function(e,t,n){let r=La.EMPTY_NODE;const i=ml(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(Ea,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=vl(e.visibleWrites,t);return n.forEachChild(Ea,((e,t)=>{const n=bl(vl(i,new Bo(e)),t);r=r.updateImmediateChild(e,n)})),gl(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return gl(vl(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Nl(e,t,n,r){return function(e,t,n,r,i){Ee(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Qo(t,n);if(pl(e.visibleWrites,s))return null;{const t=vl(e.visibleWrites,s);return yl(t)?i.getChild(n):bl(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Ll(e,t){return function(e,t){return ml(e.visibleWrites,t)}(e.writeTree,Qo(e.treePath,t))}function Pl(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=vl(e.visibleWrites,t),c=ml(l,Vo());if(null!=c)a=c;else{if(null==n)return[];a=bl(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function Rl(e,t,n){return function(e,t,n,r){const i=Qo(t,n),s=ml(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return bl(vl(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Ol(e,t){return Al(Qo(e.treePath,t),e.writeTree)}function Al(e,t){return{treePath:e,writeTree:t}}class Dl{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Ee("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ee(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Fa(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Ua(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,ja(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ce("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Fa(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Ml=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class jl{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new tl(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rl(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:al(this.viewCache_),i=Pl(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function Ul(e,t,n,r,i){const s=new Dl;let o,a;if(n.type===Ja.OVERWRITE){const l=n;l.source.fromUser?o=Vl(e,t,l.path,l.snap,r,i,s):(Ee(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Yo(l.path),o=Bl(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===Ja.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,l)=>{const c=Qo(n,r);zl(t,zo(c))&&(a=Vl(e,a,c,l,i,s,o))})),r.foreach(((r,l)=>{const c=Qo(n,r);zl(t,zo(c))||(a=Vl(e,a,c,l,i,s,o))})),a}(e,t,l.path,l.children,r,i,s):(Ee(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Wl(e,t,l.path,l.children,r,i,a,s))}else if(n.type===Ja.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=Ll(r,n))return t;{const a=new jl(r,t,i),l=t.eventCache.getNode();let c;if(Yo(n)||".priority"===zo(n)){let n;if(t.serverCache.isFullyInitialized())n=Tl(r,al(t));else{const e=t.serverCache.getNode();Ee(e instanceof La,"serverChildren would be complete if leaf node"),n=Il(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=zo(n);let u=Rl(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,Wo(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,La.EMPTY_NODE,Wo(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Tl(r,al(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=Ll(r,Vo()),il(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=Ll(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Yo(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Bl(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Yo(n)){let r=new cl(null);return l.getNode().forEachChild(ca,((e,t)=>{r=r.set(new Bo(e),t)})),Wl(e,t,n,r,i,s,a,o)}return t}{let c=new cl(null);return r.foreach(((e,t)=>{const r=Qo(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Wl(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==Ja.LISTEN_COMPLETE)throw Ce("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=sl(t,s.getNode(),s.isFullyInitialized()||Yo(n),s.isFiltered());return Fl(e,o,n,r,Ml,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=ol(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Ma(ol(t)))}}(t,o,l),{viewCache:o,changes:l}}function Fl(e,t,n,r,i,s){const o=t.eventCache;if(null!=Ll(r,n))return t;{let a,l;if(Yo(n))if(Ee(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=al(t),i=Il(r,n instanceof La?n:La.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Tl(r,al(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=zo(n);if(".priority"===c){Ee(1===qo(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=Nl(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=Wo(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Nl(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=Rl(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return il(t,a,o.isFullyInitialized()||Yo(n),e.filter.filtersNodes())}}function Bl(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Yo(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=zo(n);if(!l.isCompleteForPath(n)&&qo(n)>1)return t;const i=Wo(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,Ml,null)}const h=sl(t,c,l.isFullyInitialized()||Yo(n),u.filtersNodes());return Fl(e,h,n,i,new jl(i,h,s),a)}function Vl(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new jl(i,t,s);if(Yo(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=il(t,c,!0,e.filter.filtersNodes());else{const i=zo(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=il(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=Wo(n),c=a.getNode().getImmediateChild(i);let h;if(Yo(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Ho(s)&&e.getChild(Go(s)).isEmpty()?e:e.updateChild(s,r):La.EMPTY_NODE}if(c.equals(h))l=t;else{l=il(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function zl(e,t){return e.eventCache.isCompleteForChild(t)}function ql(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Wl(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Yo(n)?r:new cl(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=ql(0,t.serverCache.getNode().getImmediateChild(n),r);c=Bl(e,c,new Bo(n),l,i,s,o,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=ql(0,t.serverCache.getNode().getImmediateChild(n),r);c=Bl(e,c,new Bo(n),l,i,s,o,a)}})),c}function Hl(e,t){const n=al(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Yo(t)&&!n.getImmediateChild(zo(t)).isEmpty())?n.getChild(t):null}function Kl(e,t,n,r){t.type===Ja.MERGE&&null!==t.source.queryId&&(Ee(al(e.viewCache_),"We should always have a full cache before handling merges"),Ee(ol(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Ul(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,Ee(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Ee(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Ee(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Gl(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Gl(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),nl(e,i,"child_removed",t,r,n),nl(e,i,"child_added",t,r,n),nl(e,i,"child_moved",s,r,n),nl(e,i,"child_changed",t,r,n),nl(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let Ql,Yl;function Jl(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return Ee(null!=s,"SyncTree gave us an op for an invalid query."),Kl(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(Kl(s,t,n,r));return i}}function $l(e,t){let n=null;for(const r of e.views.values())n=n||Hl(r,t);return n}class Xl{constructor(e){this.listenProvider_=e,this.syncPointTree_=new cl(null),this.pendingWriteTree_={visibleWrites:ul.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Zl(e,t,n,r,i){return function(e,t,n,r,i){Ee(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=hl(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?ic(e,new Za({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function ec(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(El(e.pendingWriteTree_,t)){let t=new cl(null);return null!=r.snap?t=t.set(Vo(),!0):oo(r.children,(e=>{t=t.set(new Bo(e),!0)})),ic(e,new Xa(r.path,t,n))}return[]}function tc(e,t,n){return ic(e,new Za({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function nc(e,t,n,r){const i=ac(e,r);if(null!=i){const r=lc(i),s=r.path,o=r.queryId,a=Jo(s,t);return cc(e,s,new Za($a(o),a,n))}return[]}function rc(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=$l(n,Jo(e,t));if(r)return r}));return kl(r,t,i,n,!0)}function ic(e,t){return sc(t,e.syncPointTree_,null,wl(e.pendingWriteTree_,Vo()))}function sc(e,t,n,r){if(Yo(e.path))return oc(e,t,n,r);{const i=t.get(Vo());null==n&&null!=i&&(n=$l(i,Vo()));let s=[];const o=zo(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Ol(r,o);s=s.concat(sc(a,l,e,t))}return i&&(s=s.concat(Jl(i,e,r,n))),s}}function oc(e,t,n,r){const i=t.get(Vo());null==n&&null!=i&&(n=$l(i,Vo()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=Ol(r,t),l=e.operationForChild(t);l&&(s=s.concat(oc(l,i,o,a)))})),i&&(s=s.concat(Jl(i,e,r,n))),s}function ac(e,t){return e.tagToQueryMap.get(t)}function lc(e){const t=e.indexOf("$");return Ee(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Bo(e.substr(0,t))}}function cc(e,t,n){const r=e.syncPointTree_.get(t);Ee(r,"Missing sync point for query tag that we're tracking");return Jl(r,n,wl(e.pendingWriteTree_,t),null)}class uc{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new uc(t)}node(){return this.node_}}class hc{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Qo(this.path_,e);return new hc(this.syncTree_,t)}node(){return rc(this.syncTree_,this.path_)}}const dc=function(e){return(e=e||{}).timestamp=e.timestamp||(new Date).getTime(),e},fc=function(e,t,n){return e&&"object"===typeof e?(Ee(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?pc(e[".sv"],t,n):"object"===typeof e[".sv"]?mc(e[".sv"],t):void Ee(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},pc=function(e,t,n){if("timestamp"===e)return n.timestamp;Ee(!1,"Unexpected server value: "+e)},mc=function(e,t,n){e.hasOwnProperty("increment")||Ee(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Ee(!1,"Unexpected increment value: "+r);const i=t.node();if(Ee(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},gc=function(e,t,n,r){return yc(t,new hc(n,e),r)},vc=function(e,t,n){return yc(e,new uc(t),n)};function yc(e,t,n){const r=e.getPriority().val(),i=fc(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=fc(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new wa(s,Oa(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new wa(i))),r.forEachChild(Ea,((e,r)=>{const i=yc(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class bc{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function _c(e,t){let n=t instanceof Bo?t:new Bo(t),r=e,i=zo(n);for(;null!==i;){const e=Ze(r.node.children,i)||{children:{},childCount:0};r=new bc(i,r,e),n=Wo(n),i=zo(n)}return r}function wc(e){return e.node.value}function Ec(e,t){e.node.value=t,Tc(e)}function Cc(e){return e.node.childCount>0}function Sc(e,t){oo(e.node.children,((n,r)=>{t(new bc(n,e,r))}))}function xc(e,t,n,r){n&&!r&&t(e),Sc(e,(e=>{xc(e,t,!0,r)})),n&&r&&t(e)}function kc(e){return new Bo(null===e.parent?e.name:kc(e.parent)+"/"+e.name)}function Tc(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===wc(e)&&!Cc(e)}(n),i=Xe(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Tc(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Tc(e))}(e.parent,e.name,e)}const Ic=/[\[\].#$\/\u0000-\u001F\u007F]/,Nc=/[\[\].#$\u0000-\u001F\u007F]/,Lc=10485760,Pc=function(e){return"string"===typeof e&&0!==e.length&&!Ic.test(e)},Rc=function(e){return"string"===typeof e&&0!==e.length&&!Nc.test(e)},Oc=function(e,t,n){const r=n instanceof Bo?new Zo(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+ta(r));if("function"===typeof t)throw new Error(e+"contains a function "+ta(r)+" with contents = "+t.toString());if(Xs(t))throw new Error(e+"contains "+t.toString()+" "+ta(r));if("string"===typeof t&&t.length>Lc/3&&ht(t)>Lc)throw new Error(e+"contains a string greater than "+Lc+" utf8 bytes "+ta(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(oo(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Pc(t)))throw new Error(e+" contains an invalid key ("+t+") "+ta(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ht(t),ea(e)}(r,t),Oc(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=ht(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+ta(r)+" in addition to actual children.")}},Ac=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Pc(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Rc(e)}(n))throw new Error(ut(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class Dc{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Mc(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||$o(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function jc(e,t,n){Mc(e,n),Uc(e,(e=>Xo(e,t)||Xo(t,e)))}function Uc(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(Fc(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function Fc(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Ws&&Gs("event: "+n.toString()),uo(r)}}}const Bc="repo_interrupt",Vc=25;class zc{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Dc,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Ha(),this.transactionQueueTree_=new bc,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function qc(e,t,n){if(e.stats_=ko(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new qa(e.repoInfo_,((t,n,r,i)=>{Kc(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>Gc(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Je(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ia(e.repoInfo_,t,((t,n,r,i)=>{Kc(e,t,n,r,i)}),(t=>{Gc(e,t)}),(t=>{!function(e,t){oo(t,((t,n)=>{Qc(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return xo[n]||(xo[n]=t()),xo[n]}(e.repoInfo_,(()=>new Ya(e.stats_,e.server_))),e.infoData_=new Wa,e.infoSyncTree_=new Xl({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=tc(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),Qc(e,"connected",!1),e.serverSyncTree_=new Xl({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);jc(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function Wc(e){const t=e.infoData_.getNode(new Bo(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Hc(e){return dc({timestamp:Wc(e)})}function Kc(e,t,n,r,i){e.dataUpdateCount++;const s=new Bo(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=tt(n,(e=>Oa(e)));o=function(e,t,n,r){const i=ac(e,r);if(i){const r=lc(i),s=r.path,o=r.queryId,a=Jo(s,t),l=cl.fromObject(n);return cc(e,s,new el($a(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Oa(n);o=nc(e.serverSyncTree_,s,t,i)}else if(r){const t=tt(n,(e=>Oa(e)));o=function(e,t,n){const r=cl.fromObject(n);return ic(e,new el({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Oa(n);o=tc(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=eu(e,s)),jc(e.eventQueue_,a,o)}function Gc(e,t){Qc(e,"connected",t),!1===t&&function(e){$c(e,"onDisconnectEvents");const t=Hc(e),n=Ha();Ga(e.onDisconnect_,Vo(),((r,i)=>{const s=gc(r,i,e.serverSyncTree_,t);Ka(n,r,s)}));let r=[];Ga(n,Vo(),((t,n)=>{r=r.concat(tc(e.serverSyncTree_,t,n));const i=su(e,t);eu(e,i)})),e.onDisconnect_=Ha(),jc(e.eventQueue_,Vo(),r)}(e)}function Qc(e,t,n){const r=new Bo("/.info/"+t),i=Oa(n);e.infoData_.updateSnapshot(r,i);const s=tc(e.infoSyncTree_,r,i);jc(e.eventQueue_,r,s)}function Yc(e){return e.nextWriteId_++}function Jc(e){e.persistentConnection_&&e.persistentConnection_.interrupt(Bc)}function $c(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Gs(t,...r)}function Xc(e,t,n){return rc(e.serverSyncTree_,t,n)||La.EMPTY_NODE}function Zc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||iu(e,t),wc(t)){const n=nu(e,t);Ee(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Xc(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Ee(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Jo(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{$c(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(ec(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();iu(e,_c(e.transactionQueueTree_,t)),Zc(e,e.transactionQueueTree_),jc(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)uo(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{$s("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}eu(e,t)}}),o)}(e,kc(t),n)}else Cc(t)&&Sc(t,(t=>{Zc(e,t)}))}function eu(e,t){const n=tu(e,t),r=kc(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),o=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],c=Jo(n,s.path);let u,h=!1;if(Ee(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,u=s.abortReason,i=i.concat(ec(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=Vc)h=!0,u="maxretry",i=i.concat(ec(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Xc(e,s.path,o);s.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){Oc("transaction failed: Data returned ",r,s.path);let t=Oa(r);"object"===typeof r&&null!=r&&Xe(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=Hc(e),c=vc(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=Yc(e),o.splice(o.indexOf(a),1),i=i.concat(Zl(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(ec(e.serverSyncTree_,a,!0))}else h=!0,u="nodata",i=i.concat(ec(e.serverSyncTree_,s.currentWriteId,!0))}jc(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;iu(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)uo(r[l]);Zc(e,e.transactionQueueTree_)}(e,nu(e,n),r),r}function tu(e,t){let n,r=e.transactionQueueTree_;for(n=zo(t);null!==n&&void 0===wc(r);)r=_c(r,n),n=zo(t=Wo(t));return r}function nu(e,t){const n=[];return ru(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function ru(e,t,n){const r=wc(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Sc(t,(t=>{ru(e,t,n)}))}function iu(e,t){const n=wc(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Ec(t,n.length>0?n:void 0)}Sc(t,(t=>{iu(e,t)}))}function su(e,t){const n=kc(tu(e,t)),r=_c(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{ou(e,t)})),ou(e,r),xc(r,(t=>{ou(e,t)})),n}function ou(e,t){const n=wc(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Ee(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Ee(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(ec(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Ec(t,void 0):n.length=s+1,jc(e.eventQueue_,kc(t),i);for(let e=0;e<r.length;e++)uo(r[e])}}const au=function(e,t){const n=lu(e),r=n.namespace;"firebase.com"===n.domain&&Js(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Js("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&$s("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new wo(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Bo(n.pathString)}},lu=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):$s("Invalid query segment '".concat(n,"' in query '").concat(e,"'"))}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},cu="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class uu{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Yo(this._path)?null:Ho(this._path)}get ref(){return new hu(this._repo,this._path)}get _queryIdentifier(){const e=za(this._queryParams),t=io(e);return"{}"===t?"default":t}get _queryObject(){return za(this._queryParams)}isEqual(e){if(!((e=dt(e))instanceof uu))return!1;const t=this._repo===e._repo,n=$o(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class hu extends uu{constructor(e,t){super(e,t,new Ba,!1)}get parent(){const e=Go(this._path);return null===e?null:new hu(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}!function(e){Ee(!Ql,"__referenceConstructor has already been defined"),Ql=e}(hu),function(e){Ee(!Yl,"__referenceConstructor has already been defined"),Yl=e}(hu);const du="FIREBASE_DATABASE_EMULATOR_HOST",fu={};let pu=!1;function mu(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Js("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Gs("Using default host for project ",e.options.projectId),s="".concat(e.options.projectId,"-default-rtdb.firebaseio.com"));let o,a,l=au(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/pretemoiton_app",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}[du]),a?(o=!0,s="http://".concat(a,"?ns=").concat(c.namespace),l=au(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new mo(mo.OWNER):new po(e.name,e.options,t);Ac("Invalid Firebase Database URL",l),Yo(l.path)||Js("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=fu[t.name];i||(i={},fu[t.name]=i);let s=i[e.toURLString()];s&&Js("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new zc(e,pu,n,r),i[e.toURLString()]=s,s}(c,e,u,new fo(e.name,n));return new gu(h,e)}class gu{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(qc(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new hu(this._repo,Vo())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=fu[t];n&&n[e.key]===e||Js("Database ".concat(t,"(").concat(e.repoInfo_,") has already been deleted.")),Jc(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Js("Cannot call "+e+" on a deleted database.")}}ia.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},ia.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){As(en),Jt(new ft("database",((e,t)=>{let{instanceIdentifier:n}=t;return mu(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),rn(Ps,Rs,e),rn(Ps,Rs,"esm2017")}();var vu,yu="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},bu={},_u=_u||{},wu=yu||self;function Eu(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Cu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Su="closure_uid_"+(1e9*Math.random()>>>0),xu=0;function ku(e,t,n){return e.call.apply(e.bind,arguments)}function Tu(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Iu(e,t,n){return(Iu=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ku:Tu).apply(null,arguments)}function Nu(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Lu(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Pu(){this.s=this.s,this.o=this.o}Pu.prototype.s=!1,Pu.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Su)&&e[Su]||(e[Su]=++xu))},Pu.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Ru=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ou(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Au(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(Eu(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function Du(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}Du.prototype.h=function(){this.defaultPrevented=!0};var Mu=function(){if(!wu.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};wu.addEventListener("test",e,t),wu.removeEventListener("test",e,t)}catch(n){}return e}();function ju(e){return/^[\s\xa0]*$/.test(e)}function Uu(){var e=wu.navigator;return e&&(e=e.userAgent)?e:""}function Fu(e){return-1!=Uu().indexOf(e)}function Bu(e){return Bu[" "](e),e}Bu[" "]=function(){};var Vu,zu,qu=Fu("Opera"),Wu=Fu("Trident")||Fu("MSIE"),Hu=Fu("Edge"),Ku=Hu||Wu,Gu=Fu("Gecko")&&!(-1!=Uu().toLowerCase().indexOf("webkit")&&!Fu("Edge"))&&!(Fu("Trident")||Fu("MSIE"))&&!Fu("Edge"),Qu=-1!=Uu().toLowerCase().indexOf("webkit")&&!Fu("Edge");function Yu(){var e=wu.document;return e?e.documentMode:void 0}e:{var Ju="",$u=function(){var e=Uu();return Gu?/rv:([^\);]+)(\)|;)/.exec(e):Hu?/Edge\/([\d\.]+)/.exec(e):Wu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):Qu?/WebKit\/(\S+)/.exec(e):qu?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if($u&&(Ju=$u?$u[1]:""),Wu){var Xu=Yu();if(null!=Xu&&Xu>parseFloat(Ju)){Vu=String(Xu);break e}}Vu=Ju}if(wu.document&&Wu){var Zu=Yu();zu=Zu||(parseInt(Vu,10)||void 0)}else zu=void 0;var eh=zu;function th(e,t){if(Du.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Gu){e:{try{Bu(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:nh[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&th.$.h.call(this)}}Lu(th,Du);var nh={2:"touch",3:"pen",4:"mouse"};th.prototype.h=function(){th.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var rh="closure_listenable_"+(1e6*Math.random()|0),ih=0;function sh(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++ih,this.fa=this.ia=!1}function oh(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function ah(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function lh(e){const t={};for(const n in e)t[n]=e[n];return t}const ch="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function uh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<ch.length;t++)n=ch[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hh(e){this.src=e,this.g={},this.h=0}function dh(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Ru(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(oh(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function fh(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}hh.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=fh(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new sh(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var ph="closure_lm_"+(1e6*Math.random()|0),mh={};function gh(e,t,n,r,i){if(r&&r.once)return yh(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)gh(e,t[s],n,r,i);return null}return n=xh(n),e&&e[rh]?e.O(t,n,Cu(r)?!!r.capture:!!r,i):vh(e,t,n,!1,r,i)}function vh(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Cu(i)?!!i.capture:!!i,a=Ch(e);if(a||(e[ph]=a=new hh(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=Eh;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Mu||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(wh(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function yh(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)yh(e,t[s],n,r,i);return null}return n=xh(n),e&&e[rh]?e.P(t,n,Cu(r)?!!r.capture:!!r,i):vh(e,t,n,!0,r,i)}function bh(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)bh(e,t[s],n,r,i);else r=Cu(r)?!!r.capture:!!r,n=xh(n),e&&e[rh]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=fh(s=e.g[t],n,r,i))&&(oh(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Ch(e))&&(t=e.g[t.toString()],e=-1,t&&(e=fh(t,n,r,i)),(n=-1<e?t[e]:null)&&_h(n))}function _h(e){if("number"!==typeof e&&e&&!e.fa){var t=e.src;if(t&&t[rh])dh(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(wh(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ch(t))?(dh(n,e),0==n.h&&(n.src=null,t[ph]=null)):oh(e)}}}function wh(e){return e in mh?mh[e]:mh[e]="on"+e}function Eh(e,t){if(e.fa)e=!0;else{t=new th(t,this);var n=e.listener,r=e.la||e.src;e.ia&&_h(e),e=n.call(r,t)}return e}function Ch(e){return(e=e[ph])instanceof hh?e:null}var Sh="__closure_events_fn_"+(1e9*Math.random()>>>0);function xh(e){return"function"===typeof e?e:(e[Sh]||(e[Sh]=function(t){return e.handleEvent(t)}),e[Sh])}function kh(){Pu.call(this),this.i=new hh(this),this.S=this,this.J=null}function Th(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"===typeof t)t=new Du(t,e);else if(t instanceof Du)t.target=t.target||e;else{var i=t;uh(t=new Du(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Ih(o,r,!0,t)&&i}if(i=Ih(o=t.g=e,r,!0,t)&&i,i=Ih(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Ih(o=t.g=n[s],r,!1,t)&&i}function Ih(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&dh(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Lu(kh,Pu),kh.prototype[rh]=!0,kh.prototype.removeEventListener=function(e,t,n,r){bh(this,e,t,n,r)},kh.prototype.N=function(){if(kh.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)oh(n[r]);delete t.g[e],t.h--}}this.J=null},kh.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},kh.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Nh=wu.JSON.stringify;function Lh(){var e=jh;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Ph=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new Rh),(e=>e.reset()));class Rh{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Oh(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Ah(e){wu.setTimeout((()=>{throw e}),0)}let Dh,Mh=!1,jh=new class{constructor(){this.h=this.g=null}add(e,t){const n=Ph.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},Uh=()=>{const e=wu.Promise.resolve(void 0);Dh=()=>{e.then(Fh)}};var Fh=()=>{for(var e;e=Lh();){try{e.h.call(e.g)}catch(n){Ah(n)}var t=Ph;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Mh=!1};function Bh(e,t){kh.call(this),this.h=e||1,this.g=t||wu,this.j=Iu(this.qb,this),this.l=Date.now()}function Vh(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function zh(e,t,n){if("function"===typeof e)n&&(e=Iu(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Iu(e.handleEvent,e)}return 2147483647<Number(t)?-1:wu.setTimeout(e,t||0)}function qh(e){e.g=zh((()=>{e.g=null,e.i&&(e.i=!1,qh(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Lu(Bh,kh),(vu=Bh.prototype).ga=!1,vu.T=null,vu.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Th(this,"tick"),this.ga&&(Vh(this),this.start()))}},vu.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},vu.N=function(){Bh.$.N.call(this),Vh(this),delete this.g};class Wh extends Pu{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qh(this)}N(){super.N(),this.g&&(wu.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hh(e){Pu.call(this),this.h=e,this.g={}}Lu(Hh,Pu);var Kh=[];function Gh(e,t,n,r){Array.isArray(n)||(n&&(Kh[0]=n.toString()),n=Kh);for(var i=0;i<n.length;i++){var s=gh(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function Qh(e){ah(e.g,(function(e,t){this.g.hasOwnProperty(t)&&_h(e)}),e),e.g={}}function Yh(){this.g=!0}function Jh(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Nh(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}Hh.prototype.N=function(){Hh.$.N.call(this),Qh(this)},Hh.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Yh.prototype.Ea=function(){this.g=!1},Yh.prototype.info=function(){};var $h={},Xh=null;function Zh(){return Xh=Xh||new kh}function ed(e){Du.call(this,$h.Ta,e)}function td(e){const t=Zh();Th(t,new ed(t))}function nd(e,t){Du.call(this,$h.STAT_EVENT,e),this.stat=t}function rd(e){const t=Zh();Th(t,new nd(t,e))}function id(e,t){Du.call(this,$h.Ua,e),this.size=t}function sd(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return wu.setTimeout((function(){e()}),t)}$h.Ta="serverreachability",Lu(ed,Du),$h.STAT_EVENT="statevent",Lu(nd,Du),$h.Ua="timingevent",Lu(id,Du);var od={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},ad={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function ld(){}function cd(e){return e.h||(e.h=e.i())}function ud(){}ld.prototype.h=null;var hd,dd={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function fd(){Du.call(this,"d")}function pd(){Du.call(this,"c")}function md(){}function gd(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new Hh(this),this.P=yd,e=Ku?125:void 0,this.V=new Bh(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new vd}function vd(){this.i=null,this.g="",this.h=!1}Lu(fd,Du),Lu(pd,Du),Lu(md,ld),md.prototype.g=function(){return new XMLHttpRequest},md.prototype.i=function(){return{}},hd=new md;var yd=45e3,bd={},_d={};function wd(e,t,n){e.L=1,e.A=Bd(Dd(t)),e.u=n,e.S=!0,Ed(e,null)}function Ed(e,t){e.G=Date.now(),kd(e),e.B=Dd(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),Zd(n.i,"t",r),e.o=0,n=e.l.J,e.h=new vd,e.g=tp(e.l,n?t:null,!e.u),0<e.O&&(e.M=new Wh(Iu(e.Pa,e,e.g),e.O)),Gh(e.U,e.g,"readystatechange",e.nb),t=e.I?lh(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),td(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Cd(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Sd(e,t,n){let r,i=!0;for(;!e.J&&e.o<n.length;){if(r=xd(e,n),r==_d){4==t&&(e.s=4,rd(14),i=!1),Jh(e.j,e.m,null,"[Incomplete Response]");break}if(r==bd){e.s=4,rd(15),Jh(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Jh(e.j,e.m,r,null),Pd(e,r)}Cd(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,rd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Gf(t),t.M=!0,rd(11))):(Jh(e.j,e.m,n,"[Invalid Chunked Response]"),Ld(e),Nd(e))}function xd(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?_d:(n=Number(t.substring(n,r)),isNaN(n)?bd:(r+=1)+n>t.length?_d:(t=t.slice(r,r+n),e.o=r+n,t))}function kd(e){e.Y=Date.now()+e.P,Td(e,e.P)}function Td(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=sd(Iu(e.lb,e),t)}function Id(e){e.C&&(wu.clearTimeout(e.C),e.C=null)}function Nd(e){0==e.l.H||e.J||Jf(e.l,e)}function Ld(e){Id(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Vh(e.V),Qh(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Pd(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||af(n.i,e)))if(!e.K&&af(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;Yf(n),Ff(n)}Kf(n),rd(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=sd(Iu(n.ib,n),6e3));if(1>=of(n.i)&&n.oa){try{n.oa()}catch(c){}n.oa=void 0}}else Xf(n,11)}else if((e.K||n.g==e)&&Yf(n),!ju(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.V=c[0],c=c[1],2==n.H)if("c"==c[0]){n.K=c[1],n.pa=c[2];const t=c[3];null!=t&&(n.ra=t,n.l.info("VER="+n.ra));const i=c[4];null!=i&&(n.Ga=i,n.l.info("SVER="+n.Ga));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.i;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(lf(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Fd(r.I,r.F,e))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=ep(r,r.J?r.pa:null,r.Y),o.K){cf(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(Id(a),kd(a)),r.g=o}else Hf(r);0<n.j.length&&Vf(n)}else"stop"!=c[0]&&"close"!=c[0]||Xf(n,7);else 3==n.H&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Xf(n,7):Uf(n):"noop"!=c[0]&&n.h&&n.h.Aa(c),n.A=0)}td()}catch(c){}}function Rd(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Eu(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Eu(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Eu(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(vu=gd.prototype).setTimeout=function(e){this.P=e},vu.nb=function(e){e=e.target;const t=this.M;t&&3==Rf(e)?t.l():this.Pa(e)},vu.Pa=function(e){try{if(e==this.g)e:{const u=Rf(this.g);var t=this.g.Ia();this.g.da();if(!(3>u)&&(3!=u||Ku||this.g&&(this.h.h||this.g.ja()||Of(this.g)))){this.J||4!=u||7==t||td(),Id(this);var n=this.g.da();this.ca=n;t:if(Cd(this)){var r=Of(this.g);e="";var i=r.length,s=4==Rf(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ld(this),Nd(this);var o="";break t}this.h.i=new wu.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.length=0,this.h.g+=e,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.j,this.v,this.B,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ju(a)){var c=a;break t}}c=null}if(!(n=c)){this.i=!1,this.s=3,rd(12),Ld(this),Nd(this);break e}Jh(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Pd(this,n)}this.S?(Sd(this,u,o),Ku&&this.i&&3==u&&(Gh(this.U,this.V,"tick",this.mb),this.V.start())):(Jh(this.j,this.m,o,null),Pd(this,o)),4==u&&Ld(this),this.i&&!this.J&&(4==u?Jf(this.l,this):(this.i=!1,kd(this)))}else(function(e){const t={};e=(e.g&&2<=Rf(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(ju(e[r]))continue;var n=Oh(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,rd(12)):(this.s=0,rd(13)),Ld(this),Nd(this)}}}catch(u){}},vu.mb=function(){if(this.g){var e=Rf(this.g),t=this.g.ja();this.o<t.length&&(Id(this),Sd(this,e,t),this.i&&4!=e&&kd(this))}},vu.cancel=function(){this.J=!0,Ld(this)},vu.lb=function(){this.C=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(td(),rd(17)),Ld(this),this.s=2,Nd(this)):Td(this,this.Y-e)};var Od=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ad(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ad){this.h=e.h,Md(this,e.j),this.s=e.s,this.g=e.g,jd(this,e.m),this.l=e.l;var t=e.i,n=new Yd;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Ud(this,n),this.o=e.o}else e&&(t=String(e).match(Od))?(this.h=!1,Md(this,t[1]||"",!0),this.s=Vd(t[2]||""),this.g=Vd(t[3]||"",!0),jd(this,t[4]),this.l=Vd(t[5]||"",!0),Ud(this,t[6]||"",!0),this.o=Vd(t[7]||"")):(this.h=!1,this.i=new Yd(null,this.h))}function Dd(e){return new Ad(e)}function Md(e,t,n){e.j=n?Vd(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jd(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Ud(e,t,n){t instanceof Yd?(e.i=t,function(e,t){t&&!e.j&&(Jd(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&($d(this,t),Zd(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=zd(t,Gd)),e.i=new Yd(t,e.h))}function Fd(e,t,n){e.i.set(t,n)}function Bd(e){return Fd(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Vd(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function zd(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,qd),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function qd(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ad.prototype.toString=function(){var e=[],t=this.j;t&&e.push(zd(t,Wd,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(zd(t,Wd,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(zd(n,"/"==n.charAt(0)?Kd:Hd,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",zd(n,Qd)),e.join("")};var Wd=/[#\/\?@]/g,Hd=/[#\?:]/g,Kd=/[#\?]/g,Gd=/[#\?@]/g,Qd=/#/g;function Yd(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jd(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function $d(e,t){Jd(e),t=ef(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Xd(e,t){return Jd(e),t=ef(e,t),e.g.has(t)}function Zd(e,t,n){$d(e,t),0<n.length&&(e.i=null,e.g.set(ef(e,t),Ou(n)),e.h+=n.length)}function ef(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(vu=Yd.prototype).add=function(e,t){Jd(this),this.i=null,e=ef(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},vu.forEach=function(e,t){Jd(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},vu.ta=function(){Jd(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},vu.Z=function(e){Jd(this);let t=[];if("string"===typeof e)Xd(this,e)&&(t=t.concat(this.g.get(ef(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},vu.set=function(e,t){return Jd(this),this.i=null,Xd(this,e=ef(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},vu.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},vu.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var tf=class{constructor(e,t){this.g=e,this.map=t}};function nf(e){this.l=e||rf,wu.PerformanceNavigationTiming?e=0<(e=wu.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(wu.g&&wu.g.Ka&&wu.g.Ka()&&wu.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var rf=10;function sf(e){return!!e.h||!!e.g&&e.g.size>=e.j}function of(e){return e.h?1:e.g?e.g.size:0}function af(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function lf(e,t){e.g?e.g.add(t):e.h=t}function cf(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function uf(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return Ou(e.i)}nf.prototype.cancel=function(){if(this.i=uf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var hf,df=class{stringify(e){return wu.JSON.stringify(e,void 0)}parse(e){return wu.JSON.parse(e,void 0)}};function ff(){this.g=new df}function pf(e,t,n){const r=n||"";try{Rd(e,(function(e,n){let i=e;Cu(e)&&(i=Nh(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function mf(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(s){}}function gf(e){this.l=e.ec||null,this.j=e.ob||!1}function vf(e,t){kh.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=yf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Lu(gf,ld),gf.prototype.g=function(){return new vf(this.l,this.j)},gf.prototype.i=(hf={},function(){return hf}),Lu(vf,kh);var yf=0;function bf(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function _f(e){e.readyState=4,e.l=null,e.j=null,e.A=null,wf(e)}function wf(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(vu=vf.prototype).open=function(e,t){if(this.readyState!=yf)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,wf(this)},vu.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||wu).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},vu.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,_f(this)),this.readyState=yf},vu.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,wf(this)),this.g&&(this.readyState=3,wf(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if("undefined"!==typeof wu.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;bf(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},vu.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?_f(this):wf(this),3==this.readyState&&bf(this)}},vu.Za=function(e){this.g&&(this.response=this.responseText=e,_f(this))},vu.Ya=function(e){this.g&&(this.response=e,_f(this))},vu.ka=function(){this.g&&_f(this)},vu.setRequestHeader=function(e,t){this.v.append(e,t)},vu.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},vu.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(vf.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ef=wu.JSON.parse;function Cf(e){kh.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Sf,this.L=this.M=!1}Lu(Cf,kh);var Sf="",xf=/^https?$/i,kf=["POST","PUT"];function Tf(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,If(e),Lf(e)}function If(e){e.F||(e.F=!0,Th(e,"complete"),Th(e,"error"))}function Nf(e){if(e.h&&"undefined"!=typeof _u&&(!e.C[1]||4!=Rf(e)||2!=e.da()))if(e.v&&4==Rf(e))zh(e.La,0,e);else if(Th(e,"readystatechange"),4==Rf(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(Od)[1]||null;!i&&wu.self&&wu.self.location&&(i=wu.self.location.protocol.slice(0,-1)),r=!xf.test(i?i.toLowerCase():"")}n=r}if(n)Th(e,"complete"),Th(e,"success");else{e.m=6;try{var s=2<Rf(e)?e.g.statusText:""}catch(o){s=""}e.j=s+" ["+e.da()+"]",If(e)}}finally{Lf(e)}}}function Lf(e,t){if(e.g){Pf(e);const r=e.g,i=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Th(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Pf(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(wu.clearTimeout(e.A),e.A=null)}function Rf(e){return e.g?e.g.readyState:0}function Of(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Sf:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Bp){return null}}function Af(e){let t="";return ah(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Df(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Af(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):Fd(e,t,n))}function Mf(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function jf(e){this.Ga=0,this.j=[],this.l=new Yh,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Mf("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Mf("baseRetryDelayMs",5e3,e),this.hb=Mf("retryDelaySeedMs",1e4,e),this.eb=Mf("forwardChannelMaxRetries",2,e),this.xa=Mf("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new nf(e&&e.concurrentRequestLimit),this.Ja=new ff,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Uf(e){if(Bf(e),3==e.H){var t=e.W++,n=Dd(e.I);if(Fd(n,"SID",e.K),Fd(n,"RID",t),Fd(n,"TYPE","terminate"),qf(e,n),(t=new gd(e,e.l,t)).L=2,t.A=Bd(Dd(n)),n=!1,wu.navigator&&wu.navigator.sendBeacon)try{n=wu.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&wu.Image&&((new Image).src=t.A,n=!0),n||(t.g=tp(t.l,null),t.g.ha(t.A)),t.G=Date.now(),kd(t)}Zf(e)}function Ff(e){e.g&&(Gf(e),e.g.cancel(),e.g=null)}function Bf(e){Ff(e),e.u&&(wu.clearTimeout(e.u),e.u=null),Yf(e),e.i.cancel(),e.m&&("number"===typeof e.m&&wu.clearTimeout(e.m),e.m=null)}function Vf(e){if(!sf(e.i)&&!e.m){e.m=!0;var t=e.Na;Dh||Uh(),Mh||(Dh(),Mh=!0),jh.add(t,e),e.C=0}}function zf(e,t){var n;n=t?t.m:e.W++;const r=Dd(e.I);Fd(r,"SID",e.K),Fd(r,"RID",n),Fd(r,"AID",e.V),qf(e,r),e.o&&e.s&&Df(r,e.o,e.s),n=new gd(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Wf(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),lf(e.i,n),wd(n,r,t)}function qf(e,t){e.na&&ah(e.na,(function(e,n){Fd(t,n,e)})),e.h&&Rd({},(function(e,n){Fd(t,n,e)}))}function Wf(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Iu(e.h.Va,e.h,e):null;e:{var i=e.j;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{pf(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function Hf(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Dh||Uh(),Mh||(Dh(),Mh=!0),jh.add(t,e),e.A=0}}function Kf(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=sd(Iu(e.Ma,e),$f(e,e.A)),e.A++,!0)}function Gf(e){null!=e.B&&(wu.clearTimeout(e.B),e.B=null)}function Qf(e){e.g=new gd(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Dd(e.wa);Fd(t,"RID","rpc"),Fd(t,"SID",e.K),Fd(t,"AID",e.V),Fd(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Fd(t,"TO",e.qa),Fd(t,"TYPE","xmlhttp"),qf(e,t),e.o&&e.s&&Df(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=Bd(Dd(t)),n.u=null,n.S=!0,Ed(n,e)}function Yf(e){null!=e.v&&(wu.clearTimeout(e.v),e.v=null)}function Jf(e,t){var n=null;if(e.g==t){Yf(e),Gf(e),e.g=null;var r=2}else{if(!af(e.i,t))return;n=t.F,cf(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Th(r=Zh(),new id(r,n)),Vf(e)}else Hf(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(of(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.j=t.F.concat(e.j),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=sd(Iu(e.Na,e,t),$f(e,e.C)),e.C++,!0))}(e,t)||2==r&&Kf(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Xf(e,5);break;case 4:Xf(e,10);break;case 3:Xf(e,6);break;default:Xf(e,2)}}function $f(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function Xf(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Iu(e.pb,e);n||(n=new Ad("//www.google.com/images/cleardot.gif"),wu.location&&"http"==wu.location.protocol||Md(n,"https"),Bd(n)),function(e,t){const n=new Yh;if(wu.Image){const r=new Image;r.onload=Nu(mf,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Nu(mf,n,r,"TestLoadImage: error",!1,t),r.onabort=Nu(mf,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Nu(mf,n,r,"TestLoadImage: timeout",!1,t),wu.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else rd(2);e.H=0,e.h&&e.h.za(t),Zf(e),Bf(e)}function Zf(e){if(e.H=0,e.ma=[],e.h){const t=uf(e.i);0==t.length&&0==e.j.length||(Au(e.ma,t),Au(e.ma,e.j),e.i.i.length=0,Ou(e.j),e.j.length=0),e.h.ya()}}function ep(e,t,n){var r=n instanceof Ad?Dd(n):new Ad(n);if(""!=r.g)t&&(r.g=t+"."+r.g),jd(r,r.m);else{var i=wu.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ad(null);r&&Md(s,r),t&&(s.g=t),i&&jd(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Fd(r,n,t),Fd(r,"VER",e.ra),qf(e,r),r}function tp(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Cf(new gf({ob:n})):new Cf(e.va)).Oa(e.J),t}function np(){}function rp(){if(Wu&&!(10<=Number(eh)))throw Error("Environmental error: no available transport.")}function ip(e,t){kh.call(this),this.g=new jf(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!ju(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ju(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new ap(this)}function sp(e){fd.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function op(){pd.call(this),this.status=1}function ap(e){this.g=e}function lp(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function cp(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function up(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(vu=Cf.prototype).Oa=function(e){this.M=e},vu.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():hd.g(),this.C=this.u?cd(this.u):cd(hd),this.g.onreadystatechange=Iu(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Tf(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=wu.FormData&&e instanceof wu.FormData,!(0<=Ru(kf,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,a]of n)this.g.setRequestHeader(o,a);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Pf(this),0<this.B&&((this.L=function(e){return Wu&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Iu(this.ua,this)):this.A=zh(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Tf(this,s)}},vu.ua=function(){"undefined"!=typeof _u&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Th(this,"timeout"),this.abort(8))},vu.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Th(this,"complete"),Th(this,"abort"),Lf(this))},vu.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Lf(this,!0)),Cf.$.N.call(this)},vu.La=function(){this.s||(this.G||this.v||this.l?Nf(this):this.kb())},vu.kb=function(){Nf(this)},vu.isActive=function(){return!!this.g},vu.da=function(){try{return 2<Rf(this)?this.g.status:-1}catch(hf){return-1}},vu.ja=function(){try{return this.g?this.g.responseText:""}catch(hf){return""}},vu.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ef(t)}},vu.Ia=function(){return this.m},vu.Sa=function(){return"string"===typeof this.j?this.j:String(this.j)},(vu=jf.prototype).ra=8,vu.H=1,vu.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new gd(this,this.l,e);let s=this.s;if(this.U&&(s?(s=lh(s),uh(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Wf(this,i,t),Fd(n=Dd(this.I),"RID",e),Fd(n,"CVER",22),this.F&&Fd(n,"X-HTTP-Session-Id",this.F),qf(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Af(s)))+"&"+t:this.o&&Df(n,this.o,s)),lf(this.i,i),this.bb&&Fd(n,"TYPE","init"),this.P?(Fd(n,"$req",t),Fd(n,"SID","null"),i.aa=!0,wd(i,n,null)):wd(i,n,t),this.H=2}}else 3==this.H&&(e?zf(this,e):0==this.j.length||sf(this.i)||zf(this))},vu.Ma=function(){if(this.u=null,Qf(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=sd(Iu(this.jb,this),e)}},vu.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,rd(10),Ff(this),Qf(this))},vu.ib=function(){null!=this.v&&(this.v=null,Ff(this),Kf(this),rd(19))},vu.pb=function(e){e?(this.l.info("Successfully pinged google.com"),rd(2)):(this.l.info("Failed to ping google.com"),rd(1))},vu.isActive=function(){return!!this.h&&this.h.isActive(this)},(vu=np.prototype).Ba=function(){},vu.Aa=function(){},vu.za=function(){},vu.ya=function(){},vu.isActive=function(){return!0},vu.Va=function(){},rp.prototype.g=function(e,t){return new ip(e,t)},Lu(ip,kh),ip.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;rd(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=ep(e,null,e.Y),Vf(e)},ip.prototype.close=function(){Uf(this.g)},ip.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Nh(e),e=n);t.j.push(new tf(t.fb++,e)),3==t.H&&Vf(t)},ip.prototype.N=function(){this.g.h=null,delete this.j,Uf(this.g),delete this.g,ip.$.N.call(this)},Lu(sp,fd),Lu(op,pd),Lu(ap,np),ap.prototype.Ba=function(){Th(this.g,"a")},ap.prototype.Aa=function(e){Th(this.g,new sp(e))},ap.prototype.za=function(e){Th(this.g,new op)},ap.prototype.ya=function(){Th(this.g,"b")},Lu(lp,(function(){this.blockSize=-1})),lp.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},lp.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)cp(this,e,s),s+=this.blockSize;if("string"===typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){cp(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){cp(this,r),i=0;break}}this.h=i,this.i+=t},lp.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var hp={};function dp(e){return-128<=e&&128>e?function(e,t){var n=hp;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new up([0|e],0>e?-1:0)})):new up([0|e],0>e?-1:0)}function fp(e){if(isNaN(e)||!isFinite(e))return mp;if(0>e)return _p(fp(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=pp;return new up(t,0)}var pp=4294967296,mp=dp(0),gp=dp(1),vp=dp(16777216);function yp(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function bp(e){return-1==e.h}function _p(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new up(n,~e.h).add(gp)}function wp(e,t){return e.add(_p(t))}function Ep(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Cp(e,t){this.g=e,this.h=t}function Sp(e,t){if(yp(t))throw Error("division by zero");if(yp(e))return new Cp(mp,mp);if(bp(e))return t=Sp(_p(e),t),new Cp(_p(t.g),_p(t.h));if(bp(t))return t=Sp(e,_p(t)),new Cp(_p(t.g),t.h);if(30<e.g.length){if(bp(e)||bp(t))throw Error("slowDivide_ only works with positive integers.");for(var n=gp,r=t;0>=r.X(e);)n=xp(n),r=xp(r);var i=kp(n,1),s=kp(r,1);for(r=kp(r,2),n=kp(n,2);!yp(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=kp(r,1),n=kp(n,1)}return t=wp(e,i.R(t)),new Cp(i,t)}for(i=mp;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=fp(n)).R(t);bp(o)||0<o.X(e);)o=(s=fp(n-=r)).R(t);yp(s)&&(s=gp),i=i.add(s),e=wp(e,o)}return new Cp(i,e)}function xp(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new up(n,e.h)}function kp(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new up(i,e.h)}(vu=up.prototype).ea=function(){if(bp(this))return-_p(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:pp+r)*t,t*=pp}return e},vu.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(yp(this))return"0";if(bp(this))return"-"+_p(this).toString(e);for(var t=fp(Math.pow(e,6)),n=this,r="";;){var i=Sp(n,t).g,s=((0<(n=wp(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(yp(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},vu.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},vu.X=function(e){return bp(e=wp(this,e))?-1:yp(e)?0:1},vu.abs=function(){return bp(this)?_p(this):this},vu.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new up(n,-2147483648&n[n.length-1]?-1:0)},vu.R=function(e){if(yp(this)||yp(e))return mp;if(bp(this))return bp(e)?_p(this).R(_p(e)):_p(_p(this).R(e));if(bp(e))return _p(this.R(_p(e)));if(0>this.X(vp)&&0>e.X(vp))return fp(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Ep(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Ep(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Ep(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Ep(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new up(n,0)},vu.gb=function(e){return Sp(this,e).h},vu.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new up(n,this.h&e.h)},vu.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new up(n,this.h|e.h)},vu.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new up(n,this.h^e.h)},rp.prototype.createWebChannel=rp.prototype.g,ip.prototype.send=ip.prototype.u,ip.prototype.open=ip.prototype.m,ip.prototype.close=ip.prototype.close,od.NO_ERROR=0,od.TIMEOUT=8,od.HTTP_ERROR=6,ad.COMPLETE="complete",ud.EventType=dd,dd.OPEN="a",dd.CLOSE="b",dd.ERROR="c",dd.MESSAGE="d",kh.prototype.listen=kh.prototype.O,Cf.prototype.listenOnce=Cf.prototype.P,Cf.prototype.getLastError=Cf.prototype.Sa,Cf.prototype.getLastErrorCode=Cf.prototype.Ia,Cf.prototype.getStatus=Cf.prototype.da,Cf.prototype.getResponseJson=Cf.prototype.Wa,Cf.prototype.getResponseText=Cf.prototype.ja,Cf.prototype.send=Cf.prototype.ha,Cf.prototype.setWithCredentials=Cf.prototype.Oa,lp.prototype.digest=lp.prototype.l,lp.prototype.reset=lp.prototype.reset,lp.prototype.update=lp.prototype.j,up.prototype.add=up.prototype.add,up.prototype.multiply=up.prototype.R,up.prototype.modulo=up.prototype.gb,up.prototype.compare=up.prototype.X,up.prototype.toNumber=up.prototype.ea,up.prototype.toString=up.prototype.toString,up.prototype.getBits=up.prototype.D,up.fromNumber=fp,up.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return _p(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=fp(Math.pow(n,8)),i=mp,s=0;s<t.length;s+=8){var o=Math.min(8,t.length-s),a=parseInt(t.substring(s,s+o),n);8>o?(o=fp(Math.pow(n,o)),i=i.R(o).add(fp(a))):i=(i=i.R(r)).add(fp(a))}return i};var Tp=bu.createWebChannelTransport=function(){return new rp},Ip=bu.getStatEventTarget=function(){return Zh()},Np=bu.ErrorCode=od,Lp=bu.EventType=ad,Pp=bu.Event=$h,Rp=bu.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Op=(bu.FetchXmlHttpFactory=gf,bu.WebChannel=ud),Ap=bu.XhrIo=Cf,Dp=bu.Md5=lp,Mp=bu.Integer=up;const jp="@firebase/firestore";class Up{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Up.UNAUTHENTICATED=new Up(null),Up.GOOGLE_CREDENTIALS=new Up("google-credentials-uid"),Up.FIRST_PARTY=new Up("first-party-uid"),Up.MOCK_USER=new Up("mock-user");let Fp="10.9.0";const Bp=new Ct("@firebase/firestore");function Vp(){return Bp.logLevel}function zp(e){if(Bp.logLevel<=yt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hp);Bp.debug("Firestore (".concat(Fp,"): ").concat(e),...i)}}function qp(e){if(Bp.logLevel<=yt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hp);Bp.error("Firestore (".concat(Fp,"): ").concat(e),...i)}}function Wp(e){if(Bp.logLevel<=yt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(Hp);Bp.warn("Firestore (".concat(Fp,"): ").concat(e),...i)}}function Hp(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Kp(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(Fp,") INTERNAL ASSERTION FAILED: ")+e;throw qp(t),new Error(t)}function Gp(e,t){e||Kp()}function Qp(e,t){return e}const Yp={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Jp extends Ke{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class $p{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Xp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class Zp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Up.UNAUTHENTICATED)))}shutdown(){}}class em{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class tm{constructor(e){this.t=e,this.currentUser=Up.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new $p;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new $p,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{zp("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(zp("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new $p)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(zp("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Gp("string"==typeof t.accessToken),new Xp(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Gp(null===e||"string"==typeof e),new Up(e)}}class nm{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=Up.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rm{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new nm(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(Up.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class im{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class sm{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&zp("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,zp("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{zp("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):zp("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Gp("string"==typeof e.token),this.R=e.token,new im(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function om(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class am{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=om(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function lm(e,t){return e<t?-1:e>t?1:0}function cm(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class um{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Jp(Yp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Jp(Yp.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Jp(Yp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Jp(Yp.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return um.fromMillis(Date.now())}static fromDate(e){return um.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new um(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lm(this.nanoseconds,e.nanoseconds):lm(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class hm{constructor(e){this.timestamp=e}static fromTimestamp(e){return new hm(e)}static min(){return new hm(new um(0,0))}static max(){return new hm(new um(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class dm{constructor(e,t,n){void 0===t?t=0:t>e.length&&Kp(),void 0===n?n=e.length-t:n>e.length-t&&Kp(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===dm.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof dm?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class fm extends dm{construct(e,t,n){return new fm(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Jp(Yp.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new fm(e)}static emptyPath(){return new fm([])}}const pm=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mm extends dm{construct(e,t,n){return new mm(e,t,n)}static isValidIdentifier(e){return pm.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mm.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new mm(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Jp(Yp.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Jp(Yp.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Jp(Yp.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Jp(Yp.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new mm(t)}static emptyPath(){return new mm([])}}class gm{constructor(e){this.path=e}static fromPath(e){return new gm(fm.fromString(e))}static fromName(e){return new gm(fm.fromString(e).popFirst(5))}static empty(){return new gm(fm.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===fm.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return fm.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gm(new fm(e.slice()))}}class vm{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}vm.UNKNOWN_ID=-1;function ym(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=hm.fromTimestamp(1e9===r?new um(n+1,0):new um(n,r));return new _m(i,gm.empty(),t)}function bm(e){return new _m(e.readTime,e.key,-1)}class _m{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new _m(hm.min(),gm.empty(),-1)}static max(){return new _m(hm.max(),gm.empty(),-1)}}function wm(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=gm.comparator(e.documentKey,t.documentKey),0!==n?n:lm(e.largestBatchId,t.largestBatchId))}const Em="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Sm(e){if(e.code!==Yp.FAILED_PRECONDITION||e.message!==Em)throw e;zp("LocalStore","Unexpectedly lost primary lease")}class xm{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Kp(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xm(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof xm?t:xm.resolve(t)}catch(e){return xm.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):xm.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):xm.reject(t)}static resolve(e){return new xm(((t,n)=>{t(e)}))}static reject(e){return new xm(((t,n)=>{n(e)}))}static waitFor(e){return new xm(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=xm.resolve(!1);for(const n of e)t=t.next((e=>e?xm.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new xm(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new xm(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}class km{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.V=new $p,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{t.error?this.V.reject(new Nm(e,t.error)):this.V.resolve()},this.transaction.onerror=t=>{const n=Am(t.target.error);this.V.reject(new Nm(e,n))}}static open(e,t,n,r){try{return new km(t,e.transaction(r,n))}catch(e){throw new Nm(t,e)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(zp("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Pm(t)}}class Tm{constructor(e,t,n){this.name=e,this.version=t,this.p=n,12.2===Tm.S(Be())&&qp("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return zp("SimpleDb","Removing database:",e),Rm(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!He())return!1;if(Tm.C())return!0;const e=Be(),t=Tm.S(e),n=0<t&&t<10,r=Tm.v(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static v(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(zp("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Nm(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new Jp(Yp.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new Jp(Yp.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Nm(e,r))},r.onupgradeneeded=e=>{zp("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.p.N(t,r.transaction,e.oldVersion,this.version).next((()=>{zp("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.L&&(this.db.onversionchange=e=>this.L(e)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=km.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.g(),e))).catch((e=>(t.abort(e),xm.reject(e)))).toPromise();return s.catch((()=>{})),await t.m,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(zp("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Im{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Rm(this.k.delete())}}class Nm extends Jp{constructor(e,t){super(Yp.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(t)),this.name="IndexedDbTransactionError"}}function Lm(e){return"IndexedDbTransactionError"===e.name}class Pm{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(zp("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(zp("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),Rm(n)}add(e){return zp("SimpleDb","ADD",this.store.name,e,e),Rm(this.store.add(e))}get(e){return Rm(this.store.get(e)).next((t=>(void 0===t&&(t=null),zp("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return zp("SimpleDb","DELETE",this.store.name,e),Rm(this.store.delete(e))}count(){return zp("SimpleDb","COUNT",this.store.name),Rm(this.store.count())}W(e,t){const n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){const e=r.getAll(n.range);return new xm(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}{const e=this.cursor(n),t=[];return this.G(e,((e,n)=>{t.push(n)})).next((()=>t))}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new xm(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}H(e,t){zp("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.J=!1;const r=this.cursor(n);return this.G(r,((e,t,n)=>n.delete()))}Y(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Z(e){const t=this.cursor({});return new xm(((n,r)=>{t.onerror=e=>{const t=Am(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}G(e,t){const n=[];return new xm(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new Im(i),o=t(i.primaryKey,i.value,s);if(o instanceof xm){const e=o.catch((e=>(s.done(),xm.reject(e))));n.push(e)}s.isDone?r():null===s.$?i.continue():i.continue(s.$)}})).next((()=>xm.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Rm(e){return new xm(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Am(e.target.error);n(t)}}))}let Om=!1;function Am(e){const t=Tm.S(Be());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Jp("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(t,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return Om||(Om=!0,setTimeout((()=>{throw e}),0)),e}}return e}class Dm{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.se(e),this.oe=e=>t.writeSequenceNumber(e))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}function Mm(e){return null==e}function jm(e){return 0===e&&1/e==-1/0}function Um(e){return"number"==typeof e&&Number.isInteger(e)&&!jm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Dm._e=-1;const Fm=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Bm=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Vm=Bm;function zm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function qm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Wm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class Hm{constructor(e,t){this.comparator=e,this.root=t||Gm.EMPTY}insert(e,t){return new Hm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gm.BLACK,null,null))}remove(e){return new Hm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Km(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Km(this.root,e,this.comparator,!1)}getReverseIterator(){return new Km(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Km(this.root,e,this.comparator,!0)}}class Km{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gm{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Gm.RED,this.left=null!=r?r:Gm.EMPTY,this.right=null!=i?i:Gm.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Gm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Gm.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Gm.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Kp();if(this.right.isRed())throw Kp();const e=this.left.check();if(e!==this.right.check())throw Kp();return e+(this.isRed()?0:1)}}Gm.EMPTY=null,Gm.RED=!0,Gm.BLACK=!1,Gm.EMPTY=new class{constructor(){this.size=0}get key(){throw Kp()}get value(){throw Kp()}get color(){throw Kp()}get left(){throw Kp()}get right(){throw Kp()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Gm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Qm{constructor(e){this.comparator=e,this.data=new Hm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Ym(this.data.getIterator())}getIteratorFrom(e){return new Ym(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof Qm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new Qm(this.comparator);return t.data=e,t}}class Ym{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Jm{constructor(e){this.fields=e,e.sort(mm.comparator)}static empty(){return new Jm([])}unionWith(e){let t=new Qm(mm.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Jm(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return cm(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class $m extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xm{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new $m("Invalid base64 string: "+e):e}}(e);return new Xm(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Xm(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lm(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xm.EMPTY_BYTE_STRING=new Xm("");const Zm=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function eg(e){if(Gp(!!e),"string"==typeof e){let t=0;const n=Zm.exec(e);if(Gp(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:tg(e.seconds),nanos:tg(e.nanos)}}function tg(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function ng(e){return"string"==typeof e?Xm.fromBase64String(e):Xm.fromUint8Array(e)}function rg(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ig(e){const t=e.mapValue.fields.__previous_value__;return rg(t)?ig(t):t}function sg(e){const t=eg(e.mapValue.fields.__local_write_time__.timestampValue);return new um(t.seconds,t.nanos)}class og{constructor(e,t,n,r,i,s,o,a,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l}}class ag{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ag("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ag&&e.projectId===this.projectId&&e.database===this.database}}const lg={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cg(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rg(e)?4:Cg(e)?9007199254740991:10:Kp()}function ug(e,t){if(e===t)return!0;const n=cg(e);if(n!==cg(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sg(e).isEqual(sg(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=eg(e.timestampValue),r=eg(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return ng(e.bytesValue).isEqual(ng(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return tg(e.geoPointValue.latitude)===tg(t.geoPointValue.latitude)&&tg(e.geoPointValue.longitude)===tg(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return tg(e.integerValue)===tg(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=tg(e.doubleValue),r=tg(t.doubleValue);return n===r?jm(n)===jm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return cm(e.arrayValue.values||[],t.arrayValue.values||[],ug);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(zm(n)!==zm(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!ug(n[i],r[i])))return!1;return!0}(e,t);default:return Kp()}}function hg(e,t){return void 0!==(e.values||[]).find((e=>ug(e,t)))}function dg(e,t){if(e===t)return 0;const n=cg(e),r=cg(t);if(n!==r)return lm(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return lm(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=tg(e.integerValue||e.doubleValue),r=tg(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return fg(e.timestampValue,t.timestampValue);case 4:return fg(sg(e),sg(t));case 5:return lm(e.stringValue,t.stringValue);case 6:return function(e,t){const n=ng(e),r=ng(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=lm(n[i],r[i]);if(0!==e)return e}return lm(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=lm(tg(e.latitude),tg(t.latitude));return 0!==n?n:lm(tg(e.longitude),tg(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=dg(n[i],r[i]);if(e)return e}return lm(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===lg.mapValue&&t===lg.mapValue)return 0;if(e===lg.mapValue)return 1;if(t===lg.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=lm(r[o],s[o]);if(0!==e)return e;const t=dg(n[r[o]],i[s[o]]);if(0!==t)return t}return lm(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Kp()}}function fg(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return lm(e,t);const n=eg(e),r=eg(t),i=lm(n.seconds,r.seconds);return 0!==i?i:lm(n.nanos,r.nanos)}function pg(e){return mg(e)}function mg(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=eg(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return ng(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return gm.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=mg(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(mg(e.fields[i]));return n+"}"}(e.mapValue):Kp()}function gg(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function vg(e){return!!e&&"integerValue"in e}function yg(e){return!!e&&"arrayValue"in e}function bg(e){return!!e&&"nullValue"in e}function _g(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wg(e){return!!e&&"mapValue"in e}function Eg(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return qm(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Eg(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Eg(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Cg(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Sg{constructor(e){this.value=e}static empty(){return new Sg({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!wg(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Eg(t)}setAll(e){let t=mm.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Eg(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());wg(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ug(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];wg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){qm(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Sg(Eg(this.value))}}function xg(e){const t=[];return qm(e.fields,((e,n)=>{const r=new mm([e]);if(wg(n)){const e=xg(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Jm(t)}class kg{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new kg(e,0,hm.min(),hm.min(),hm.min(),Sg.empty(),0)}static newFoundDocument(e,t,n,r){return new kg(e,1,t,hm.min(),n,r,0)}static newNoDocument(e,t){return new kg(e,2,t,hm.min(),hm.min(),Sg.empty(),0)}static newUnknownDocument(e,t){return new kg(e,3,t,hm.min(),hm.min(),Sg.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(hm.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Sg.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Sg.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=hm.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof kg&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kg(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Tg{constructor(e,t){this.position=e,this.inclusive=t}}function Ig(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?gm.comparator(gm.fromName(o.referenceValue),n.key):dg(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Ng(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!ug(e.position[n],t.position[n]))return!1;return!0}class Lg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Pg(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Rg{}class Og extends Rg{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Vg(e,t,n):"array-contains"===t?new Hg(e,n):"in"===t?new Kg(e,n):"not-in"===t?new Gg(e,n):"array-contains-any"===t?new Qg(e,n):new Og(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new zg(e,n):new qg(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dg(t,this.value)):null!==t&&cg(this.value)===cg(t)&&this.matchesComparison(dg(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Kp()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ag extends Rg{constructor(e,t){super(),this.filters=e,this.op=t,this.ue=null}static create(e,t){return new Ag(e,t)}matches(e){return Dg(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ue||(this.ue=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Dg(e){return"and"===e.op}function Mg(e){return jg(e)&&Dg(e)}function jg(e){for(const t of e.filters)if(t instanceof Ag)return!1;return!0}function Ug(e){if(e instanceof Og)return e.field.canonicalString()+e.op.toString()+pg(e.value);if(Mg(e))return e.filters.map((e=>Ug(e))).join(",");{const t=e.filters.map((e=>Ug(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function Fg(e,t){return e instanceof Og?function(e,t){return t instanceof Og&&e.op===t.op&&e.field.isEqual(t.field)&&ug(e.value,t.value)}(e,t):e instanceof Ag?function(e,t){return t instanceof Ag&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Fg(n,t.filters[r])),!0)}(e,t):void Kp()}function Bg(e){return e instanceof Og?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(pg(e.value))}(e):e instanceof Ag?function(e){return e.op.toString()+" {"+e.getFilters().map(Bg).join(" ,")+"}"}(e):"Filter"}class Vg extends Og{constructor(e,t,n){super(e,t,n),this.key=gm.fromName(n.referenceValue)}matches(e){const t=gm.comparator(e.key,this.key);return this.matchesComparison(t)}}class zg extends Og{constructor(e,t){super(e,"in",t),this.keys=Wg("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class qg extends Og{constructor(e,t){super(e,"not-in",t),this.keys=Wg("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Wg(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>gm.fromName(e.referenceValue)))}class Hg extends Og{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return yg(t)&&hg(t.arrayValue,this.value)}}class Kg extends Og{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&hg(this.value.arrayValue,t)}}class Gg extends Og{constructor(e,t){super(e,"not-in",t)}matches(e){if(hg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!hg(this.value.arrayValue,t)}}class Qg extends Og{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!yg(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>hg(this.value.arrayValue,e)))}}class Yg{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ce=null}}function Jg(e){return new Yg(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function $g(e){const t=Qp(e);if(null===t.ce){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Ug(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Mm(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>pg(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>pg(e))).join(",")),t.ce=e}return t.ce}function Xg(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Pg(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Fg(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ng(e.startAt,t.startAt)&&Ng(e.endAt,t.endAt)}function Zg(e){return gm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class ev{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function tv(e,t,n,r,i,s,o,a){return new ev(e,t,n,r,i,s,o,a)}function nv(e){return new ev(e)}function rv(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function iv(e){return null!==e.collectionGroup}function sv(e){const t=Qp(e);if(null===t.le){t.le=[];const e=new Set;for(const i of t.explicitOrderBy)t.le.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new Qm(mm.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.le.push(new Lg(r,n))})),e.has(mm.keyField().canonicalString())||t.le.push(new Lg(mm.keyField(),n))}return t.le}function ov(e){const t=Qp(e);return t.he||(t.he=av(t,sv(e))),t.he}function av(e,t){if("F"===e.limitType)return Jg(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Lg(e.field,t)}));const n=e.endAt?new Tg(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Tg(e.startAt.position,e.startAt.inclusive):null;return Jg(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function lv(e,t){const n=e.filters.concat([t]);return new ev(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function cv(e,t,n){return new ev(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function uv(e,t){return Xg(ov(e),ov(t))&&e.limitType===t.limitType}function hv(e){return"".concat($g(ov(e)),"|lt:").concat(e.limitType)}function dv(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>Bg(e))).join(", "),"]")),Mm(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>pg(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>pg(e))).join(",")),"Target(".concat(t,")")}(ov(e)),"; limitType=").concat(e.limitType,")")}function fv(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):gm.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of sv(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Ig(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sv(e),t))&&!(e.endAt&&!function(e,t,n){const r=Ig(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sv(e),t))}(e,t)}function pv(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function mv(e){return(t,n)=>{let r=!1;for(const i of sv(e)){const e=gv(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function gv(e,t,n){const r=e.field.isKeyField()?gm.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dg(r,i):Kp()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Kp()}}class vv{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){qm(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return Wm(this.inner)}size(){return this.innerSize}}const yv=new Hm(gm.comparator);function bv(){return yv}const _v=new Hm(gm.comparator);function wv(){let e=_v;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Ev(e){let t=_v;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Cv(){return xv()}function Sv(){return xv()}function xv(){return new vv((e=>e.toString()),((e,t)=>e.isEqual(t)))}const kv=new Hm(gm.comparator),Tv=new Qm(gm.comparator);function Iv(){let e=Tv;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Nv=new Qm(lm);function Lv(){return Nv}function Pv(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jm(t)?"-0":t}}function Rv(e){return{integerValue:""+e}}function Ov(e,t){return Um(t)?Rv(t):Pv(e,t)}class Av{constructor(){this._=void 0}}function Dv(e,t,n){return e instanceof Uv?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&rg(t)&&(t=ig(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Fv?Bv(e,t):e instanceof Vv?zv(e,t):function(e,t){const n=jv(e,t),r=Wv(n)+Wv(e.Ie);return vg(n)&&vg(e.Ie)?Rv(r):Pv(e.serializer,r)}(e,t)}function Mv(e,t,n){return e instanceof Fv?Bv(e,t):e instanceof Vv?zv(e,t):n}function jv(e,t){return e instanceof qv?function(e){return vg(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class Uv extends Av{}class Fv extends Av{constructor(e){super(),this.elements=e}}function Bv(e,t){const n=Hv(t);for(const r of e.elements)n.some((e=>ug(e,r)))||n.push(r);return{arrayValue:{values:n}}}class Vv extends Av{constructor(e){super(),this.elements=e}}function zv(e,t){let n=Hv(t);for(const r of e.elements)n=n.filter((e=>!ug(e,r)));return{arrayValue:{values:n}}}class qv extends Av{constructor(e,t){super(),this.serializer=e,this.Ie=t}}function Wv(e){return tg(e.integerValue||e.doubleValue)}function Hv(e){return yg(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Kv{constructor(e,t){this.version=e,this.transformResults=t}}class Gv{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Gv}static exists(e){return new Gv(void 0,e)}static updateTime(e){return new Gv(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Qv(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Yv{}function Jv(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new oy(e.key,Gv.none()):new ty(e.key,e.data,Gv.none());{const n=e.data,r=Sg.empty();let i=new Qm(mm.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new ny(e.key,r,new Jm(i.toArray()),Gv.none())}}function $v(e,t,n){e instanceof ty?function(e,t,n){const r=e.value.clone(),i=iy(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof ny?function(e,t,n){if(!Qv(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=iy(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ry(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Xv(e,t,n,r){return e instanceof ty?function(e,t,n,r){if(!Qv(e.precondition,t))return n;const i=e.value.clone(),s=sy(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof ny?function(e,t,n,r){if(!Qv(e.precondition,t))return n;const i=sy(e.fieldTransforms,r,t),s=t.data;return s.setAll(ry(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Qv(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Zv(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=jv(r.transform,e||null);null!=i&&(null===n&&(n=Sg.empty()),n.set(r.field,i))}return n||null}function ey(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&cm(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Fv&&t instanceof Fv||e instanceof Vv&&t instanceof Vv?cm(e.elements,t.elements,ug):e instanceof qv&&t instanceof qv?ug(e.Ie,t.Ie):e instanceof Uv&&t instanceof Uv}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class ty extends Yv{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ny extends Yv{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function ry(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function iy(e,t,n){const r=new Map;Gp(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Mv(o,a,n[i]))}return r}function sy(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Dv(e,s,t))}return r}class oy extends Yv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ay extends Yv{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ly{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&$v(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Xv(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Xv(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Sv();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Jv(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(hm.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Iv())}isEqual(e){return this.batchId===e.batchId&&cm(this.mutations,e.mutations,((e,t)=>ey(e,t)))&&cm(this.baseMutations,e.baseMutations,((e,t)=>ey(e,t)))}}class cy{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Gp(e.mutations.length===n.length);let r=kv;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new cy(e,t,n,r)}}class uy{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class hy{constructor(e,t){this.count=e,this.unchangedNames=t}}var dy,fy;function py(e){switch(e){default:return Kp();case Yp.CANCELLED:case Yp.UNKNOWN:case Yp.DEADLINE_EXCEEDED:case Yp.RESOURCE_EXHAUSTED:case Yp.INTERNAL:case Yp.UNAVAILABLE:case Yp.UNAUTHENTICATED:return!1;case Yp.INVALID_ARGUMENT:case Yp.NOT_FOUND:case Yp.ALREADY_EXISTS:case Yp.PERMISSION_DENIED:case Yp.FAILED_PRECONDITION:case Yp.ABORTED:case Yp.OUT_OF_RANGE:case Yp.UNIMPLEMENTED:case Yp.DATA_LOSS:return!0}}function my(e){if(void 0===e)return qp("GRPC error has no .code"),Yp.UNKNOWN;switch(e){case dy.OK:return Yp.OK;case dy.CANCELLED:return Yp.CANCELLED;case dy.UNKNOWN:return Yp.UNKNOWN;case dy.DEADLINE_EXCEEDED:return Yp.DEADLINE_EXCEEDED;case dy.RESOURCE_EXHAUSTED:return Yp.RESOURCE_EXHAUSTED;case dy.INTERNAL:return Yp.INTERNAL;case dy.UNAVAILABLE:return Yp.UNAVAILABLE;case dy.UNAUTHENTICATED:return Yp.UNAUTHENTICATED;case dy.INVALID_ARGUMENT:return Yp.INVALID_ARGUMENT;case dy.NOT_FOUND:return Yp.NOT_FOUND;case dy.ALREADY_EXISTS:return Yp.ALREADY_EXISTS;case dy.PERMISSION_DENIED:return Yp.PERMISSION_DENIED;case dy.FAILED_PRECONDITION:return Yp.FAILED_PRECONDITION;case dy.ABORTED:return Yp.ABORTED;case dy.OUT_OF_RANGE:return Yp.OUT_OF_RANGE;case dy.UNIMPLEMENTED:return Yp.UNIMPLEMENTED;case dy.DATA_LOSS:return Yp.DATA_LOSS;default:return Kp()}}(fy=dy||(dy={}))[fy.OK=0]="OK",fy[fy.CANCELLED=1]="CANCELLED",fy[fy.UNKNOWN=2]="UNKNOWN",fy[fy.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fy[fy.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fy[fy.NOT_FOUND=5]="NOT_FOUND",fy[fy.ALREADY_EXISTS=6]="ALREADY_EXISTS",fy[fy.PERMISSION_DENIED=7]="PERMISSION_DENIED",fy[fy.UNAUTHENTICATED=16]="UNAUTHENTICATED",fy[fy.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fy[fy.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fy[fy.ABORTED=10]="ABORTED",fy[fy.OUT_OF_RANGE=11]="OUT_OF_RANGE",fy[fy.UNIMPLEMENTED=12]="UNIMPLEMENTED",fy[fy.INTERNAL=13]="INTERNAL",fy[fy.UNAVAILABLE=14]="UNAVAILABLE",fy[fy.DATA_LOSS=15]="DATA_LOSS";let gy=null;function vy(){return new TextEncoder}const yy=new Mp([4294967295,4294967295],0);function by(e){const t=vy().encode(e),n=new Dp;return n.update(t),new Uint8Array(n.digest())}function _y(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Mp([n,r],0),new Mp([i,s],0)]}class wy{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Ey("Invalid padding: ".concat(t));if(n<0)throw new Ey("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Ey("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Ey("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ee=Mp.fromNumber(this.Te)}de(e,t,n){let r=e.add(t.multiply(Mp.fromNumber(n)));return 1===r.compare(yy)&&(r=new Mp([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}Ae(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=by(e),[n,r]=_y(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);if(!this.Ae(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new wy(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=by(e),[n,r]=_y(t);for(let i=0;i<this.hashCount;i++){const e=this.de(n,r,i);this.Re(e)}}Re(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Ey extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cy{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Sy.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Cy(hm.min(),r,new Hm(lm),bv(),Iv())}}class Sy{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Sy(n,t,Iv(),Iv(),Iv())}}class xy{constructor(e,t,n,r){this.Ve=e,this.removedTargetIds=t,this.key=n,this.me=r}}class ky{constructor(e,t){this.targetId=e,this.fe=t}}class Ty{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Xm.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Iy{constructor(){this.ge=0,this.pe=Py(),this.ye=Xm.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return 0!==this.ge}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=Iv(),t=Iv(),n=Iv();return this.pe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Kp()}})),new Sy(this.ye,this.we,e,t,n)}Fe(){this.Se=!1,this.pe=Py()}Me(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,Gp(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class Ny{constructor(e){this.Be=e,this.ke=new Map,this.qe=bv(),this.Qe=Ly(),this.Ke=new Hm(lm)}$e(e){for(const t of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(t,e.me):this.We(t,e.key,e.me);for(const t of e.removedTargetIds)this.We(t,e.key,e.me)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.Ce(e.resumeToken);break;case 1:n.Ne(),n.be||n.Fe(),n.Ce(e.resumeToken);break;case 2:n.Ne(),n.be||this.removeTarget(t);break;case 3:this.je(t)&&(n.Le(),n.Ce(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.Ce(e.resumeToken));break;default:Kp()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){const i=r.target;if(Zg(i))if(0===n){const e=new gm(i.path);this.We(t,e,kg.newNoDocument(e,hm.min()))}else Gp(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==gy||gy.tt(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.fe,this.Be.nt(),n,i))}}}}Xe(e){const t=e.fe.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=ng(n).toUint8Array()}catch(e){if(e instanceof $m)return Wp("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new wy(s,r,i)}catch(e){return Wp(e instanceof Ey?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.Te?null:o}et(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Be.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Be.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.ke.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&Zg(i.target)){const t=new gm(i.target.path);null!==this.qe.get(t)||this.st(r,t)||this.We(r,t,kg.newNoDocument(t,e))}n.De&&(t.set(r,n.ve()),n.Fe())}}));let n=Iv();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.qe.forEach(((t,n)=>n.setReadTime(e)));const r=new Cy(e,t,this.Ke,this.qe,n);return this.qe=bv(),this.Qe=Ly(),this.Ke=new Hm(lm),r}Ue(e,t){if(!this.je(e))return;const n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}removeTarget(e){this.ke.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let t=this.ke.get(e);return t||(t=new Iy,this.ke.set(e,t)),t}ot(e){let t=this.Qe.get(e);return t||(t=new Qm(lm),this.Qe=this.Qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||zp("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}He(e){this.ke.set(e,new Iy),this.Be.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}st(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}function Ly(){return new Hm(gm.comparator)}function Py(){return new Hm(gm.comparator)}const Ry={asc:"ASCENDING",desc:"DESCENDING"},Oy={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ay={and:"AND",or:"OR"};class Dy{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function My(e,t){return e.useProto3Json||Mm(t)?t:{value:t}}function jy(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Uy(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fy(e,t){return jy(e,t.toTimestamp())}function By(e){return Gp(!!e),hm.fromTimestamp(function(e){const t=eg(e);return new um(t.seconds,t.nanos)}(e))}function Vy(e,t){return zy(e,t).canonicalString()}function zy(e,t){const n=function(e){return new fm(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function qy(e){const t=fm.fromString(e);return Gp(cb(t)),t}function Wy(e,t){return Vy(e.databaseId,t.path)}function Hy(e,t){const n=qy(t);if(n.get(1)!==e.databaseId.projectId)throw new Jp(Yp.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Jp(Yp.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new gm(Yy(n))}function Ky(e,t){return Vy(e.databaseId,t)}function Gy(e){const t=qy(e);return 4===t.length?fm.emptyPath():Yy(t)}function Qy(e){return new fm(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Yy(e){return Gp(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Jy(e,t,n){return{name:Wy(e,t),fields:n.value.mapValue.fields}}function $y(e,t){let n;if(t instanceof ty)n={update:Jy(e,t.key,t.value)};else if(t instanceof oy)n={delete:Wy(e,t.key)};else if(t instanceof ny)n={update:Jy(e,t.key,t.data),updateMask:lb(t.fieldMask)};else{if(!(t instanceof ay))return Kp();n={verify:Wy(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof Uv)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Fv)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Vv)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof qv)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Kp()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fy(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Kp()}(e,t.precondition)),n}function Xy(e,t){return{documents:[Ky(e,t.path)]}}function Zy(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Ky(e,i);const s=function(e){if(0!==e.length)return ab(Ag.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:sb(e.field),direction:nb(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=My(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:n,parent:i}}function eb(e){let t=Gy(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Gp(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=tb(e);return t instanceof Ag&&Mg(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Lg(ob(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Mm(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Tg(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Tg(n,t)}(n.endAt)),tv(t,i,o,s,a,"F",l,c)}function tb(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=ob(e.unaryFilter.field);return Og.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=ob(e.unaryFilter.field);return Og.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=ob(e.unaryFilter.field);return Og.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=ob(e.unaryFilter.field);return Og.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Kp()}}(e):void 0!==e.fieldFilter?function(e){return Og.create(ob(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Kp()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ag.create(e.compositeFilter.filters.map((e=>tb(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Kp()}}(e.compositeFilter.op))}(e):Kp()}function nb(e){return Ry[e]}function rb(e){return Oy[e]}function ib(e){return Ay[e]}function sb(e){return{fieldPath:e.canonicalString()}}function ob(e){return mm.fromServerFormat(e.fieldPath)}function ab(e){return e instanceof Og?function(e){if("=="===e.op){if(_g(e.value))return{unaryFilter:{field:sb(e.field),op:"IS_NAN"}};if(bg(e.value))return{unaryFilter:{field:sb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_g(e.value))return{unaryFilter:{field:sb(e.field),op:"IS_NOT_NAN"}};if(bg(e.value))return{unaryFilter:{field:sb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sb(e.field),op:rb(e.op),value:e.value}}}(e):e instanceof Ag?function(e){const t=e.getFilters().map((e=>ab(e)));return 1===t.length?t[0]:{compositeFilter:{op:ib(e.op),filters:t}}}(e):Kp()}function lb(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function cb(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class ub{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:hm.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:hm.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Xm.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new ub(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new ub(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ub(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ub(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class hb{constructor(e){this.ct=e}}function db(e){const t=eb({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?cv(t,t.limit,"L"):t}class fb{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(tg(e.integerValue));else if("doubleValue"in e){const n=tg(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),jm(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At("".concat(n.seconds||"")),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(ng(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Cg(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):Kp()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const r of Object.keys(n))this.Rt(r,t),this.It(n[r],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const r of n)this.It(r,t)}gt(e,t){this.Et(t,37),gm.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}fb.bt=new fb;class pb{constructor(){this._n=new mb}addToCollectionParentIndex(e,t){return this._n.add(t),xm.resolve()}getCollectionParents(e,t){return xm.resolve(this._n.getEntries(t))}addFieldIndex(e,t){return xm.resolve()}deleteFieldIndex(e,t){return xm.resolve()}deleteAllFieldIndexes(e){return xm.resolve()}createTargetIndexes(e,t){return xm.resolve()}getDocumentsMatchingTarget(e,t){return xm.resolve(null)}getIndexType(e,t){return xm.resolve(0)}getFieldIndexes(e,t){return xm.resolve([])}getNextCollectionGroupToUpdate(e){return xm.resolve(null)}getMinOffset(e,t){return xm.resolve(_m.min())}getMinOffsetFromCollectionGroup(e,t){return xm.resolve(_m.min())}updateCollectionGroup(e,t,n){return xm.resolve()}updateIndexEntries(e,t){return xm.resolve()}}class mb{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Qm(fm.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Qm(fm.comparator)).toArray()}}new Uint8Array(0);class gb{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new gb(e,gb.DEFAULT_COLLECTION_PERCENTILE,gb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}gb.DEFAULT_COLLECTION_PERCENTILE=10,gb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gb.DEFAULT=new gb(41943040,gb.DEFAULT_COLLECTION_PERCENTILE,gb.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gb.DISABLED=new gb(-1,0,0);class vb{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new vb(0)}static Ln(){return new vb(-1)}}class yb{constructor(){this.changes=new vv((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,kg.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?xm.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class bb{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class _b{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Xv(n.mutation,e,Jm.empty(),um.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Iv()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Iv();const r=Cv();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=wv();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Cv();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Iv())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=bv();const s=xv(),o=xv();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof ny)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Xv(o.mutation,t,o.mutation.getFieldMask(),um.now())):s.set(t.key,Jm.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new bb(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=xv();let r=new Hm(((e,t)=>e-t)),i=Iv();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Jm.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||Iv()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=Sv();l.forEach((e=>{if(!i.has(e)){const r=Jv(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return xm.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return gm.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):xm.resolve(Cv());let o=-1,a=i;return s.next((t=>xm.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?xm.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Iv()))).next((e=>({batchId:o,changes:Ev(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gm(t)).next((e=>{let t=wv();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=wv();return this.indexManager.getCollectionParents(e,i).next((o=>xm.forEach(o,(o=>{const a=function(e,t){return new ev(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,kg.newInvalidDocument(r)))}));let n=wv();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Xv(s.mutation,r,Jm.empty(),um.now()),fv(t,r)&&(n=n.insert(e,r))})),n}))}}class wb{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,t){return xm.resolve(this.cr.get(t))}saveBundleMetadata(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:By(e.createTime)}}(t)),xm.resolve()}getNamedQuery(e,t){return xm.resolve(this.lr.get(t))}saveNamedQuery(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:db(e.bundledQuery),readTime:By(e.readTime)}}(t)),xm.resolve()}}class Eb{constructor(){this.overlays=new Hm(gm.comparator),this.hr=new Map}getOverlay(e,t){return xm.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Cv();return xm.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),xm.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hr.delete(n)),xm.resolve()}getOverlaysForCollection(e,t,n){const r=Cv(),i=t.length+1,s=new gm(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return xm.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Hm(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Cv(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=Cv(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return xm.resolve(o)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new uy(t,n));let i=this.hr.get(t);void 0===i&&(i=Iv(),this.hr.set(t,i)),this.hr.set(t,i.add(n.key))}}class Cb{constructor(){this.Pr=new Qm(Sb.Ir),this.Tr=new Qm(Sb.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,t){const n=new Sb(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}dr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Ar(new Sb(e,t))}Rr(e,t){e.forEach((e=>this.removeReference(e,t)))}Vr(e){const t=new gm(new fm([])),n=new Sb(t,e),r=new Sb(t,e+1),i=[];return this.Tr.forEachInRange([n,r],(e=>{this.Ar(e),i.push(e.key)})),i}mr(){this.Pr.forEach((e=>this.Ar(e)))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const t=new gm(new fm([])),n=new Sb(t,e),r=new Sb(t,e+1);let i=Iv();return this.Tr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Sb(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Sb{constructor(e,t){this.key=e,this.pr=t}static Ir(e,t){return gm.comparator(e.key,t.key)||lm(e.pr,t.pr)}static Er(e,t){return lm(e.pr,t.pr)||gm.comparator(e.key,t.key)}}class xb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.yr=1,this.wr=new Qm(Sb.Ir)}checkEmpty(e){return xm.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ly(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.wr=this.wr.add(new Sb(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return xm.resolve(s)}lookupMutationBatch(e,t){return xm.resolve(this.Sr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.br(n),i=r<0?0:r;return xm.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return xm.resolve(0===this.mutationQueue.length?-1:this.yr-1)}getAllMutationBatches(e){return xm.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Sb(t,0),r=new Sb(t,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([n,r],(e=>{const t=this.Sr(e.pr);i.push(t)})),xm.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Qm(lm);return t.forEach((e=>{const t=new Sb(e,0),r=new Sb(e,Number.POSITIVE_INFINITY);this.wr.forEachInRange([t,r],(e=>{n=n.add(e.pr)}))})),xm.resolve(this.Dr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;gm.isDocumentKey(i)||(i=i.child(""));const s=new Sb(new gm(i),0);let o=new Qm(lm);return this.wr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),s),xm.resolve(this.Dr(o))}Dr(e){const t=[];return e.forEach((e=>{const n=this.Sr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Gp(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.wr;return xm.forEach(t.mutations,(r=>{const i=new Sb(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.wr=n}))}Mn(e){}containsKey(e,t){const n=new Sb(t,0),r=this.wr.firstAfterOrEqual(n);return xm.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,xm.resolve()}Cr(e,t){return this.br(e)}br(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Sr(e){const t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class kb{constructor(e){this.vr=e,this.docs=new Hm(gm.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return xm.resolve(n?n.document.mutableCopy():kg.newInvalidDocument(t))}getEntries(e,t){let n=bv();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():kg.newInvalidDocument(e))})),xm.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=bv();const s=t.path,o=new gm(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||wm(bm(o),n)<=0||(r.has(o.key)||fv(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return xm.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Kp()}Fr(e,t){return xm.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Tb(this)}getSize(e){return xm.resolve(this.size)}}class Tb extends yb{constructor(e){super(),this.ar=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.ar.addEntry(e,r)):this.ar.removeEntry(n)})),xm.waitFor(t)}getFromCache(e,t){return this.ar.getEntry(e,t)}getAllFromCache(e,t){return this.ar.getEntries(e,t)}}class Ib{constructor(e){this.persistence=e,this.Mr=new vv((e=>$g(e)),Xg),this.lastRemoteSnapshotVersion=hm.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Cb,this.targetCount=0,this.Lr=vb.Nn()}forEachTarget(e,t){return this.Mr.forEach(((e,n)=>t(n))),xm.resolve()}getLastRemoteSnapshotVersion(e){return xm.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xm.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),xm.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),xm.resolve()}qn(e){this.Mr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Lr=new vb(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,t){return this.qn(t),this.targetCount+=1,xm.resolve()}updateTargetData(e,t){return this.qn(t),xm.resolve()}removeTargetData(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,xm.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Mr.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),xm.waitFor(i).next((()=>r))}getTargetCount(e){return xm.resolve(this.targetCount)}getTargetData(e,t){const n=this.Mr.get(t)||null;return xm.resolve(n)}addMatchingKeys(e,t,n){return this.Nr.dr(t,n),xm.resolve()}removeMatchingKeys(e,t,n){this.Nr.Rr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),xm.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Nr.Vr(t),xm.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Nr.gr(t);return xm.resolve(n)}containsKey(e,t){return xm.resolve(this.Nr.containsKey(t))}}class Nb{constructor(e,t){this.Br={},this.overlays={},this.kr=new Dm(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new Ib(this),this.indexManager=new pb,this.remoteDocumentCache=function(e){return new kb(e)}((e=>this.referenceDelegate.Kr(e))),this.serializer=new hb(t),this.$r=new wb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Eb,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Br[e.toKey()];return n||(n=new xb(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,t,n){zp("MemoryPersistence","Starting transaction:",e);const r=new Lb(this.kr.next());return this.referenceDelegate.Ur(),n(r).next((e=>this.referenceDelegate.Wr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Gr(e,t){return xm.or(Object.values(this.Br).map((n=>()=>n.containsKey(e,t))))}}class Lb extends Cm{constructor(e){super(),this.currentSequenceNumber=e}}class Pb{constructor(e){this.persistence=e,this.zr=new Cb,this.jr=null}static Hr(e){return new Pb(e)}get Jr(){if(this.jr)return this.jr;throw Kp()}addReference(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),xm.resolve()}removeReference(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),xm.resolve()}markPotentiallyOrphaned(e,t){return this.Jr.add(t.toString()),xm.resolve()}removeTarget(e,t){this.zr.Vr(t.targetId).forEach((e=>this.Jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ur(){this.jr=new Set}Wr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xm.forEach(this.Jr,(n=>{const r=gm.fromPath(n);return this.Yr(e,r).next((e=>{e||t.removeEntry(r,hm.min())}))})).next((()=>(this.jr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Yr(e,t).next((e=>{e?this.Jr.delete(t.toString()):this.Jr.add(t.toString())}))}Kr(e){return 0}Yr(e,t){return xm.or([()=>xm.resolve(this.zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gr(e,t)])}}class Rb{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.qi=n,this.Qi=r}static Ki(e,t){let n=Iv(),r=Iv();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Rb(e,t.fromCache,n,r)}}class Ob{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Ab{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=We()?8:Tm.v(Be())>0?6:4}initialize(e,t){this.zi=e,this.indexManager=t,this.$i=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ji(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Hi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Ob;return this.Ji(e,t,n).next((r=>{if(i.result=r,this.Ui)return this.Yi(e,t,n,r.size)}))})).next((()=>i.result))}Yi(e,t,n,r){return n.documentReadCount<this.Wi?(Vp()<=yt.DEBUG&&zp("QueryEngine","SDK will not create cache indexes for query:",dv(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),xm.resolve()):(Vp()<=yt.DEBUG&&zp("QueryEngine","Query:",dv(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Vp()<=yt.DEBUG&&zp("QueryEngine","The SDK decides to create cache indexes for query:",dv(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ov(t))):xm.resolve())}ji(e,t){if(rv(t))return xm.resolve(null);let n=ov(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=cv(t,null,"F"),n=ov(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Iv(...r);return this.zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Zi(t,r);return this.Xi(t,s,i,n.readTime)?this.ji(e,cv(t,null,"F")):this.es(e,s,t,n)}))))})))))}Hi(e,t,n,r){return rv(t)||r.isEqual(hm.min())?xm.resolve(null):this.zi.getDocuments(e,n).next((i=>{const s=this.Zi(t,i);return this.Xi(t,s,n,r)?xm.resolve(null):(Vp()<=yt.DEBUG&&zp("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dv(t)),this.es(e,s,t,ym(r,-1)).next((e=>e)))}))}Zi(e,t){let n=new Qm(mv(e));return t.forEach(((t,r)=>{fv(e,r)&&(n=n.add(r))})),n}Xi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ji(e,t,n){return Vp()<=yt.DEBUG&&zp("QueryEngine","Using full collection scan to execute query:",dv(t)),this.zi.getDocumentsMatchingQuery(e,t,_m.min(),n)}es(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Db{constructor(e,t,n,r){this.persistence=e,this.ts=t,this.serializer=r,this.ns=new Hm(lm),this.rs=new vv((e=>$g(e)),Xg),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(n)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new _b(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.ns)))}}function Mb(e,t,n,r){return new Db(e,t,n,r)}async function jb(e,t){const n=Qp(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n._s(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=Iv();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({us:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Ub(e){const t=Qp(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Qr.getLastRemoteSnapshotVersion(e)))}function Fb(e,t,n){let r=Iv(),i=Iv();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=bv();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(hm.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):zp("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{cs:r,ls:i}}))}function Bb(e,t){const n=Qp(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function Vb(e,t){const n=Qp(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Qr.getTargetData(e,t).next((i=>i?(r=i,xm.resolve(r)):n.Qr.allocateTargetId(e).next((i=>(r=new ub(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}async function zb(e,t,n){const r=Qp(e),i=r.ns.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Lm(e))throw e;zp("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.ns=r.ns.remove(t),r.rs.delete(i.target)}function qb(e,t,n){const r=Qp(e);let i=hm.min(),s=Iv();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Qp(e),i=r.rs.get(n);return void 0!==i?xm.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,ov(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ts.getDocumentsMatchingQuery(e,t,n?i:hm.min(),n?s:Iv()))).next((e=>(Wb(r,pv(t),e),{documents:e,hs:s})))))}function Wb(e,t,n){let r=e.ss.get(t)||hm.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}class Hb{constructor(){this.activeTargetIds=Lv()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Kb{constructor(){this.no=new Hb,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,t,n){this.ro[e]=t}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Hb,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Gb{io(e){}shutdown(){}}class Qb{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){zp("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){zp("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Yb=null;function Jb(){return null===Yb?Yb=268435456+Math.round(2147483648*Math.random()):Yb++,"0x"+Yb.toString(16)}const $b={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Xb{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}const Zb="WebChannelConnection";class e_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.fo=t+"://"+e.host,this.po="projects/".concat(n,"/databases/").concat(r),this.yo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}get wo(){return!1}So(e,t,n,r,i){const s=Jb(),o=this.bo(e,t.toUriEncodedString());zp("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),o,n);const a={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(a,r,i),this.Co(e,o,a,n).then((t=>(zp("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw Wp("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",o,"request:",n),t}))}vo(e,t,n,r,i,s){return this.So(e,t,n,r,i)}Do(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}bo(e,t){const n=$b[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,t,n,r){const i=Jb();return new Promise(((s,o)=>{const a=new Ap;a.setWithCredentials(!0),a.listenOnce(Lp.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Np.NO_ERROR:const t=a.getResponseJson();zp(Zb,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Np.TIMEOUT:zp(Zb,"RPC '".concat(e,"' ").concat(i," timed out")),o(new Jp(Yp.DEADLINE_EXCEEDED,"Request time out"));break;case Np.HTTP_ERROR:const n=a.getStatus();if(zp(Zb,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Yp).indexOf(t)>=0?t:Yp.UNKNOWN}(t.status);o(new Jp(e,t.message))}else o(new Jp(Yp.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new Jp(Yp.UNAVAILABLE,"Connection failed."));break;default:Kp()}}finally{zp(Zb,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);zp(Zb,"RPC '".concat(e,"' ").concat(i," sending request:"),r),a.send(t,"POST",l,n,15)}))}Fo(e,t,n){const r=Jb(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Tp(),o=Ip(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Do(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");zp(Zb,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new Xb({lo:t=>{d?zp(Zb,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(zp(Zb,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),zp(Zb,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},ho:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Op.EventType.OPEN,(()=>{d||zp(Zb,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),p(u,Op.EventType.CLOSE,(()=>{d||(d=!0,zp(Zb,"RPC '".concat(e,"' stream ").concat(r," transport closed")),f.Vo())})),p(u,Op.EventType.ERROR,(t=>{d||(d=!0,Wp(Zb,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),f.Vo(new Jp(Yp.UNAVAILABLE,"The operation could not be completed")))})),p(u,Op.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];Gp(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){zp(Zb,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);const t=o.status;let n=function(e){const t=dy[e];if(void 0!==t)return my(t)}(t),i=o.message;void 0===n&&(n=Yp.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.Vo(new Jp(n,i)),u.close()}else zp(Zb,"RPC '".concat(e,"' stream ").concat(r," received:"),i),f.mo(i)}})),p(o,Pp.STAT_EVENT,(t=>{t.stat===Rp.PROXY?zp(Zb,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Rp.NOPROXY&&zp(Zb,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{f.Ro()}),0),f}}function t_(){return"undefined"!=typeof document?document:null}function n_(e){return new Dy(e,!0)}class r_{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.oi=e,this.timerId=t,this.Mo=n,this.xo=r,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const t=Math.floor(this.No+this.Qo()),n=Math.max(0,Date.now()-this.Bo),r=Math.max(0,t-n);r>0&&zp("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,r,(()=>(this.Bo=Date.now(),e()))),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}class i_{constructor(e,t,n,r,i,s,o,a){this.oi=e,this.$o=n,this.Uo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new r_(e,t)}Ho(){return 1===this.state||5===this.state||this.Jo()}Jo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(()=>this.e_())))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,t){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==e?this.jo.reset():t&&t.code===Yp.RESOURCE_EXHAUSTED?(qp(t.toString()),qp("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):t&&t.code===Yp.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(t)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),t=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Wo===t&&this.o_(n,r)}),(t=>{e((()=>{const e=new Jp(Yp.UNKNOWN,"Fetching auth token failed: "+t.message);return this.__(e)}))}))}o_(e,t){const n=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((()=>{n((()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,(()=>(this.Jo()&&(this.state=3),Promise.resolve()))),this.listener.Po())))})),this.stream.To((e=>{n((()=>this.__(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Yo(){this.state=5,this.jo.qo((async()=>{this.state=0,this.start()}))}__(e){return zp("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}s_(e){return t=>{this.oi.enqueueAndForget((()=>this.Wo===e?t():(zp("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class s_ extends i_{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}a_(e,t){return this.connection.Fo("Listen",e,t)}onMessage(e){this.jo.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Kp()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Gp(void 0===t||"string"==typeof t),Xm.fromBase64String(t||"")):(Gp(void 0===t||t instanceof Uint8Array),Xm.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?Yp.UNKNOWN:my(e.code);return new Jp(t,e.message||"")}(o);n=new Ty(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Hy(e,r.document.name),s=By(r.document.updateTime),o=r.document.createTime?By(r.document.createTime):hm.min(),a=new Sg({mapValue:{fields:r.document.fields}}),l=kg.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new xy(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Hy(e,r.document),s=r.readTime?By(r.readTime):hm.min(),o=kg.newNoDocument(i,s),a=r.removedTargetIds||[];n=new xy([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Hy(e,r.document),s=r.removedTargetIds||[];n=new xy([],s,i,null)}else{if(!("filter"in t))return Kp();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new hy(r,i),o=e.targetId;n=new ky(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return hm.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?hm.min():t.readTime?By(t.readTime):hm.min()}(e);return this.listener.u_(t,n)}c_(e){const t={};t.database=Qy(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Zg(r)?{documents:Xy(e,r)}:{query:Zy(e,r).ut},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Uy(e,t.resumeToken);const r=My(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(hm.min())>0){n.readTime=jy(e,t.snapshotVersion.toTimestamp());const r=My(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Kp()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}l_(e){const t={};t.database=Qy(this.serializer),t.removeTarget=e,this.t_(t)}}class o_ extends i_{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,t){return this.connection.Fo("Write",e,t)}onMessage(e){if(Gp(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const t=function(e,t){return e&&e.length>0?(Gp(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?By(e.updateTime):By(t);return n.isEqual(hm.min())&&(n=By(t)),new Kv(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=By(e.commitTime);return this.listener.T_(n,t)}return Gp(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=Qy(this.serializer),this.t_(e)}I_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>$y(this.serializer,e)))};this.t_(t)}}class a_ extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.A_=!1}R_(){if(this.A_)throw new Jp(Yp.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,t,n,r){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.So(e,zy(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Yp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Jp(Yp.UNKNOWN,e.toString())}))}vo(e,t,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.vo(e,zy(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Yp.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Jp(Yp.UNKNOWN,e.toString())}))}terminate(){this.A_=!0,this.connection.terminate()}}class l_{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve()))))}S_(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}set(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?(qp(t),this.g_=!1):zp("OnlineStateTracker",t)}b_(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}class c_{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io((e=>{n.enqueueAndForget((async()=>{y_(this)&&(zp("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Qp(e);t.v_.add(4),await h_(t),t.x_.set("Unknown"),t.v_.delete(4),await u_(t)}(this))}))})),this.x_=new l_(n,r)}}async function u_(e){if(y_(e))for(const t of e.F_)await t(!0)}async function h_(e){for(const t of e.F_)await t(!1)}function d_(e,t){const n=Qp(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),v_(n)?g_(n):M_(n).Jo()&&p_(n,t))}function f_(e,t){const n=Qp(e),r=M_(n);n.C_.delete(t),r.Jo()&&m_(n,t),0===n.C_.size&&(r.Jo()?r.Xo():y_(n)&&n.x_.set("Unknown"))}function p_(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(hm.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}M_(e).c_(t)}function m_(e,t){e.O_.Oe(t),M_(e).l_(t)}function g_(e){e.O_=new Ny({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),_t:t=>e.C_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),M_(e).start(),e.x_.p_()}function v_(e){return y_(e)&&!M_(e).Ho()&&e.C_.size>0}function y_(e){return 0===Qp(e).v_.size}function b_(e){e.O_=void 0}async function __(e){e.C_.forEach(((t,n)=>{p_(e,t)}))}async function w_(e,t){b_(e),v_(e)?(e.x_.S_(t),g_(e)):e.x_.set("Unknown")}async function E_(e,t,n){if(e.x_.set("Online"),t instanceof Ty&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.C_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.C_.delete(r),e.O_.removeTarget(r))}(e,t)}catch(n){zp("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await C_(e,n)}else if(t instanceof xy?e.O_.$e(t):t instanceof ky?e.O_.Je(t):e.O_.Ge(t),!n.isEqual(hm.min()))try{const t=await Ub(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.O_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.C_.get(t);if(!r)return;e.C_.set(t,r.withResumeToken(Xm.EMPTY_BYTE_STRING,r.snapshotVersion)),m_(e,t);const i=new ub(r.target,t,n,r.sequenceNumber);p_(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){zp("RemoteStore","Failed to raise snapshot:",t),await C_(e,t)}}async function C_(e,t,n){if(!Lm(t))throw t;e.v_.add(1),await h_(e),e.x_.set("Offline"),n||(n=()=>Ub(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{zp("RemoteStore","Retrying IndexedDB access"),await n(),e.v_.delete(1),await u_(e)}))}function S_(e,t){return t().catch((n=>C_(e,n,t)))}async function x_(e){const t=Qp(e),n=j_(t);let r=t.D_.length>0?t.D_[t.D_.length-1].batchId:-1;for(;k_(t);)try{const e=await Bb(t.localStore,r);if(null===e){0===t.D_.length&&n.Xo();break}r=e.batchId,T_(t,e)}catch(e){await C_(t,e)}I_(t)&&N_(t)}function k_(e){return y_(e)&&e.D_.length<10}function T_(e,t){e.D_.push(t);const n=j_(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function I_(e){return y_(e)&&!j_(e).Ho()&&e.D_.length>0}function N_(e){j_(e).start()}async function L_(e){j_(e).d_()}async function P_(e){const t=j_(e);for(const n of e.D_)t.I_(n.mutations)}async function R_(e,t,n){const r=e.D_.shift(),i=cy.from(r,t,n);await S_(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await x_(e)}async function O_(e,t){t&&j_(e).P_&&await async function(e,t){if(function(e){return py(e)&&e!==Yp.ABORTED}(t.code)){const n=e.D_.shift();j_(e).Zo(),await S_(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await x_(e)}}(e,t),I_(e)&&N_(e)}async function A_(e,t){const n=Qp(e);n.asyncQueue.verifyOperationInProgress(),zp("RemoteStore","RemoteStore received new credentials");const r=y_(n);n.v_.add(3),await h_(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.v_.delete(3),await u_(n)}async function D_(e,t){const n=Qp(e);t?(n.v_.delete(2),await u_(n)):t||(n.v_.add(2),await h_(n),n.x_.set("Unknown"))}function M_(e){return e.N_||(e.N_=function(e,t,n){const r=Qp(e);return r.R_(),new s_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:__.bind(null,e),To:w_.bind(null,e),u_:E_.bind(null,e)}),e.F_.push((async t=>{t?(e.N_.Zo(),v_(e)?g_(e):e.x_.set("Unknown")):(await e.N_.stop(),b_(e))}))),e.N_}function j_(e){return e.L_||(e.L_=function(e,t,n){const r=Qp(e);return r.R_(),new o_(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:L_.bind(null,e),To:O_.bind(null,e),E_:P_.bind(null,e),T_:R_.bind(null,e)}),e.F_.push((async t=>{t?(e.L_.Zo(),await x_(e)):(await e.L_.stop(),e.D_.length>0&&(zp("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]))}))),e.L_}class U_{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new $p,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new U_(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Jp(Yp.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function F_(e,t){if(qp("AsyncQueue","".concat(t,": ").concat(e)),Lm(e))return new Jp(Yp.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class B_{constructor(e){this.comparator=e?(t,n)=>e(t,n)||gm.comparator(t.key,n.key):(e,t)=>gm.comparator(e.key,t.key),this.keyedMap=wv(),this.sortedSet=new Hm(this.comparator)}static emptySet(e){return new B_(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof B_))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new B_;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class V_{constructor(){this.B_=new Hm(gm.comparator)}track(e){const t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Kp():this.B_=this.B_.insert(t,e)}k_(){const e=[];return this.B_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class z_{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new z_(e,t,B_.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class q_{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some((e=>e.U_()))}}class W_{constructor(){this.queries=new vv((e=>hv(e)),uv),this.onlineState="Unknown",this.W_=new Set}}async function H_(e,t){const n=Qp(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.K_()&&t.U_()&&(r=2):(s=new q_,r=t.U_()?0:1);try{switch(r){case 0:s.q_=await n.onListen(i,!0);break;case 1:s.q_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=F_(e,"Initialization of query '".concat(dv(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.Q_.push(t),t.G_(n.onlineState),s.q_&&t.z_(s.q_)&&Y_(n)}async function K_(e,t){const n=Qp(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.Q_.indexOf(t);e>=0&&(s.Q_.splice(e,1),0===s.Q_.length?i=t.U_()?0:1:!s.K_()&&t.U_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function G_(e,t){const n=Qp(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.Q_)e.z_(i)&&(r=!0);t.q_=i}}r&&Y_(n)}function Q_(e,t,n){const r=Qp(e),i=r.queries.get(t);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(t)}function Y_(e){e.W_.forEach((e=>{e.next()}))}var J_,$_;($_=J_||(J_={})).j_="default",$_.Cache="cache";class X_{constructor(e,t,n){this.query=e,this.H_=t,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=n||{}}z_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new z_(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),t=!0):this.X_(e,this.onlineState)&&(this.ea(e),t=!0),this.Y_=e,t}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}X_(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;const n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Z_(e){if(e.docChanges.length>0)return!0;const t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ea(e){e=z_.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==J_.Cache}}class Z_{constructor(e){this.key=e}}class ew{constructor(e){this.key=e}}class tw{constructor(e,t){this.query=e,this.ua=t,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=Iv(),this.mutatedKeys=Iv(),this.ha=mv(e),this.Pa=new B_(this.ha)}get Ia(){return this.ua}Ta(e,t){const n=t?t.Ea:new V_,r=t?t.Pa:this.Pa;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=fv(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.da(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.ha(u,a)>0||l&&this.ha(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Pa:s,Ea:n,Xi:o,mutatedKeys:i}}da(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Kp()}};return n(e)-n(t)}(e.type,t.type)||this.ha(e.doc,t.doc))),this.Aa(n),r=null!=r&&r;const o=t&&!r?this.Ra():[],a=0===this.la.size&&this.current&&!r?1:0,l=a!==this.ca;return this.ca=a,0!==s.length||l?{snapshot:new z_(this.query,e.Pa,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:o}:{Va:o}}G_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new V_,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach((e=>this.ua=this.ua.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.ua=this.ua.delete(e))),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=Iv(),this.Pa.forEach((e=>{this.ma(e.key)&&(this.la=this.la.add(e.key))}));const t=[];return e.forEach((e=>{this.la.has(e)||t.push(new ew(e))})),this.la.forEach((n=>{e.has(n)||t.push(new Z_(n))})),t}fa(e){this.ua=e.hs,this.la=Iv();const t=this.Ta(e.documents);return this.applyChanges(t,!0)}ga(){return z_.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}class nw{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class rw{constructor(e){this.key=e,this.pa=!1}}class iw{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new vv((e=>hv(e)),uv),this.Sa=new Map,this.ba=new Set,this.Da=new Hm(gm.comparator),this.Ca=new Map,this.va=new Cb,this.Fa={},this.Ma=new Map,this.xa=vb.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return!0===this.Oa}}async function sw(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=kw(e);let i;const s=r.wa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ga()):i=await aw(r,t,n,!0),i}async function ow(e,t){const n=kw(e);await aw(n,t,!0,!1)}async function aw(e,t,n,r){const i=await Vb(e.localStore,ov(t)),s=i.targetId,o=n?e.sharedClientState.addLocalQueryTarget(s):"not-current";let a;return r&&(a=await lw(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&d_(e.remoteStore,i),a}async function lw(e,t,n,r,i){e.Na=(t,n,r)=>async function(e,t,n,r){let i=t.view.Ta(n);i.Xi&&(i=await qb(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Ta(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return _w(e,t.targetId,a.Va),a.snapshot}(e,t,n,r);const s=await qb(e.localStore,t,!0),o=new tw(t,s.hs),a=o.Ta(s.documents),l=Sy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);_w(e,n,c.Va);const u=new nw(t,n,o);return e.wa.set(t,u),e.Sa.has(n)?e.Sa.get(n).push(t):e.Sa.set(n,[t]),c.snapshot}async function cw(e,t,n){const r=Qp(e),i=r.wa.get(t),s=r.Sa.get(i.targetId);if(s.length>1)return r.Sa.set(i.targetId,s.filter((e=>!uv(e,t)))),void r.wa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await zb(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&f_(r.remoteStore,i.targetId),yw(r,i.targetId)})).catch(Sm)):(yw(r,i.targetId),await zb(r.localStore,i.targetId,!0))}async function uw(e,t){const n=Qp(e),r=n.wa.get(t),i=n.Sa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),f_(n.remoteStore,r.targetId))}async function hw(e,t){const n=Qp(e);try{const e=await function(e,t){const n=Qp(e),r=t.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Qr.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Qr.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(Xm.EMPTY_BYTE_STRING,hm.min()).withLastLimboFreeSnapshotVersion(hm.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&o.push(n.Qr.updateTargetData(e,c))}));let a=bv(),l=Iv();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Fb(e,s,t.documentUpdates).next((e=>{a=e.cs,l=e.ls}))),!r.isEqual(hm.min())){const t=n.Qr.getLastRemoteSnapshotVersion(e).next((t=>n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return xm.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.ns=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ca.get(t);r&&(Gp(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.pa=!0:e.modifiedDocuments.size>0?Gp(r.pa):e.removedDocuments.size>0&&(Gp(r.pa),r.pa=!1))})),await Cw(n,e,t)}catch(e){await Sm(e)}}function dw(e,t,n){const r=Qp(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.wa.forEach(((n,r)=>{const i=r.view.G_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Qp(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.Q_)i.G_(t)&&(r=!0)})),r&&Y_(n)}(r.eventManager,t),e.length&&r.ya.u_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function fw(e,t,n){const r=Qp(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ca.get(t),s=i&&i.key;if(s){let e=new Hm(gm.comparator);e=e.insert(s,kg.newNoDocument(s,hm.min()));const n=Iv().add(s),i=new Cy(hm.min(),new Map,new Hm(lm),e,n);await hw(r,i),r.Da=r.Da.remove(s),r.Ca.delete(t),Ew(r)}else await zb(r.localStore,t,!1).then((()=>yw(r,t,n))).catch(Sm)}async function pw(e,t){const n=Qp(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Qp(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=xm.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Gp(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Iv();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);vw(n,r,null),gw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Cw(n,e)}catch(e){await Sm(e)}}async function mw(e,t,n){const r=Qp(e);try{const e=await function(e,t){const n=Qp(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Gp(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);vw(r,t,n),gw(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Cw(r,e)}catch(n){await Sm(n)}}function gw(e,t){(e.Ma.get(t)||[]).forEach((e=>{e.resolve()})),e.Ma.delete(t)}function vw(e,t,n){const r=Qp(e);let i=r.Fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function yw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Sa.get(t))e.wa.delete(r),n&&e.ya.La(r,n);e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((t=>{e.va.containsKey(t)||bw(e,t)}))}function bw(e,t){e.ba.delete(t.path.canonicalString());const n=e.Da.get(t);null!==n&&(f_(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),Ew(e))}function _w(e,t,n){for(const r of n)r instanceof Z_?(e.va.addReference(r.key,t),ww(e,r)):r instanceof ew?(zp("SyncEngine","Document no longer in limbo: "+r.key),e.va.removeReference(r.key,t),e.va.containsKey(r.key)||bw(e,r.key)):Kp()}function ww(e,t){const n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(zp("SyncEngine","New document in limbo: "+n),e.ba.add(r),Ew(e))}function Ew(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){const t=e.ba.values().next().value;e.ba.delete(t);const n=new gm(fm.fromString(t)),r=e.xa.next();e.Ca.set(r,new rw(n)),e.Da=e.Da.insert(n,r),d_(e.remoteStore,new ub(ov(nv(n.path)),r,"TargetPurposeLimboResolution",Dm._e))}}async function Cw(e,t,n){const r=Qp(e),i=[],s=[],o=[];r.wa.isEmpty()||(r.wa.forEach(((e,a)=>{o.push(r.Na(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Rb.Ki(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.ya.u_(i),await async function(e,t){const n=Qp(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>xm.forEach(t,(t=>xm.forEach(t.qi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>xm.forEach(t.Qi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Lm(e))throw e;zp("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.ns.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.ns=n.ns.insert(e,i)}}}(r.localStore,s))}async function Sw(e,t){const n=Qp(e);if(!n.currentUser.isEqual(t)){zp("SyncEngine","User change. New user:",t.toKey());const e=await jb(n.localStore,t);n.currentUser=t,function(e,t){e.Ma.forEach((e=>{e.forEach((e=>{e.reject(new Jp(Yp.CANCELLED,t))}))})),e.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Cw(n,e.us)}}function xw(e,t){const n=Qp(e),r=n.Ca.get(t);if(r&&r.pa)return Iv().add(r.key);{let e=Iv();const r=n.Sa.get(t);if(!r)return e;for(const t of r){const r=n.wa.get(t);e=e.unionWith(r.view.Ia)}return e}}function kw(e){const t=Qp(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=hw.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=xw.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fw.bind(null,t),t.ya.u_=G_.bind(null,t.eventManager),t.ya.La=Q_.bind(null,t.eventManager),t}function Tw(e){const t=Qp(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=pw.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=mw.bind(null,t),t}class Iw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=n_(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Mb(this.persistence,new Ab,e.initialUser,this.serializer)}createPersistence(e){return new Nb(Pb.Hr,this.serializer)}createSharedClientState(e){return new Kb}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class Nw{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>dw(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sw.bind(null,this.syncEngine),await D_(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new W_}createDatastore(e){const t=n_(e.databaseInfo.databaseId),n=function(e){return new e_(e)}(e.databaseInfo);return function(e,t,n,r){return new a_(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new c_(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>dw(this.syncEngine,e,0)),Qb.D()?new Qb:new Gb)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new iw(e,t,n,r,i,s);return o&&(a.Oa=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e;await async function(e){const t=Qp(e);zp("RemoteStore","RemoteStore shutting down."),t.v_.add(5),await h_(t),t.M_.shutdown(),t.x_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate()}}class Lw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):qp("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Pw{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Up.UNAUTHENTICATED,this.clientId=am.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{zp("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(zp("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Jp(Yp.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new $p;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=F_(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Rw(e,t){e.asyncQueue.verifyOperationInProgress(),zp("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await jb(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Ow(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Dw(e);zp("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>A_(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>A_(t.remoteStore,n))),e._onlineComponents=t}function Aw(e){return"FirebaseError"===e.name?e.code===Yp.FAILED_PRECONDITION||e.code===Yp.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Dw(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){zp("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rw(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Aw(n))throw n;Wp("Error using user provided cache. Falling back to memory cache: "+n),await Rw(e,new Iw)}}else zp("FirestoreClient","Using default OfflineComponentProvider"),await Rw(e,new Iw);return e._offlineComponents}async function Mw(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(zp("FirestoreClient","Using user provided OnlineComponentProvider"),await Ow(e,e._uninitializedComponentsProvider._online)):(zp("FirestoreClient","Using default OnlineComponentProvider"),await Ow(e,new Nw))),e._onlineComponents}function jw(e){return Mw(e).then((e=>e.syncEngine))}async function Uw(e){const t=await Mw(e),n=t.eventManager;return n.onListen=sw.bind(null,t.syncEngine),n.onUnlisten=cw.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=ow.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=uw.bind(null,t.syncEngine),n}function Fw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new $p;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Lw({next:s=>{t.enqueueAndForget((()=>K_(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new Jp(Yp.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new Jp(Yp.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new X_(nv(n.path),s,{includeMetadataChanges:!0,ta:!0});return H_(e,o)}(await Uw(e),e.asyncQueue,t,n,r))),r.promise}function Bw(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new $p;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Lw({next:n=>{t.enqueueAndForget((()=>K_(e,o))),n.fromCache&&"server"===r.source?i.reject(new Jp(Yp.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new X_(n,s,{includeMetadataChanges:!0,ta:!0});return H_(e,o)}(await Uw(e),e.asyncQueue,t,n,r))),r.promise}function Vw(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const zw=new Map;function qw(e,t,n){if(!n)throw new Jp(Yp.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function Ww(e){if(!gm.isDocumentKey(e))throw new Jp(Yp.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Hw(e){if(gm.isDocumentKey(e))throw new Jp(Yp.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function Kw(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":Kp()}function Gw(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Jp(Yp.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Kw(e);throw new Jp(Yp.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Qw{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Jp(Yp.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Jp(Yp.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Jp(Yp.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Vw(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Jp(Yp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new Jp(Yp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new Jp(Yp.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yw{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qw({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Jp(Yp.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Jp(Yp.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qw(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Zp;switch(e.type){case"firstParty":return new rm(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Jp(Yp.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=zw.get(e);t&&(zp("ComponentProvider","Removing Datastore"),zw.delete(e),t.terminate())}(this),Promise.resolve()}}class Jw{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Jw(this.firestore,e,this._query)}}class $w{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xw(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $w(this.firestore,e,this._key)}}class Xw extends Jw{constructor(e,t,n){super(e,t,nv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $w(this.firestore,null,new gm(e))}withConverter(e){return new Xw(this.firestore,e,this._path)}}function Zw(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=dt(e),qw("collection","path",t),e instanceof Yw){const n=fm.fromString(t,...r);return Hw(n),new Xw(e,null,n)}{if(!(e instanceof $w||e instanceof Xw))throw new Jp(Yp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fm.fromString(t,...r));return Hw(n),new Xw(e.firestore,null,n)}}function eE(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=dt(e),1===arguments.length&&(t=am.newId()),qw("doc","path",t),e instanceof Yw){const n=fm.fromString(t,...r);return Ww(n),new $w(e,null,new gm(n))}{if(!(e instanceof $w||e instanceof Xw))throw new Jp(Yp.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(fm.fromString(t,...r));return Ww(n),new $w(e.firestore,e instanceof Xw?e.converter:null,new gm(n))}}class tE{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new r_(this,"async_queue_retry"),this.cu=()=>{const e=t_();e&&zp("AsyncQueue","Visibility state changed to "+e.visibilityState),this.jo.Ko()};const e=t_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const t=t_();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise((()=>{}));const t=new $p;return this.hu((()=>this.iu&&this.au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.ru.push(e),this.Pu())))}async Pu(){if(0!==this.ru.length){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Lm(e))throw e;zp("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo((()=>this.Pu()))}}hu(e){const t=this.nu.then((()=>(this._u=!0,e().catch((e=>{this.ou=e,this._u=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw qp("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this._u=!1,e))))));return this.nu=t,t}enqueueAfterDelay(e,t,n){this.lu(),this.uu.indexOf(e)>-1&&(t=0);const r=U_.createAndSchedule(this,e,t,n,(e=>this.Iu(e)));return this.su.push(r),r}lu(){this.ou&&Kp()}verifyOperationInProgress(){}async Tu(){let e;do{e=this.nu,await e}while(e!==this.nu)}Eu(e){for(const t of this.su)if(t.timerId===e)return!0;return!1}du(e){return this.Tu().then((()=>{this.su.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.su)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Tu()}))}Au(e){this.uu.push(e)}Iu(e){const t=this.su.indexOf(e);this.su.splice(t,1)}}class nE extends Yw{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new tE,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||sE(this),this._firestoreClient.terminate()}}function rE(e,t){const n="string"==typeof e?e:t||"(default)",r=$t("object"==typeof e?e:nn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=De("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Gw(e,Yw))._getSettings(),o="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==o&&Wp("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=Up.MOCK_USER;else{t=Fe(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Jp(Yp.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Up(s)}e._authCredentials=new em(new Xp(t,n))}}(r,...e)}return r}function iE(e){return e._firestoreClient||sE(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function sE(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new og(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Vw(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Pw(e._authCredentials,e._appCheckCredentials,e._queue,s),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class oE{constructor(e){this._byteString=e}static fromBase64String(e){try{return new oE(Xm.fromBase64String(e))}catch(e){throw new Jp(Yp.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new oE(Xm.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class aE{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Jp(Yp.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mm(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class lE{constructor(e){this._methodName=e}}class cE{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Jp(Yp.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Jp(Yp.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lm(this._lat,e._lat)||lm(this._long,e._long)}}const uE=/^__.*__$/;class hE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new ny(e,this.data,this.fieldMask,t,this.fieldTransforms):new ty(e,this.data,t,this.fieldTransforms)}}class dE{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new ny(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function fE(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Kp()}}class pE{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new pE(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}yu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return NE(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(fE(this.Vu)&&uE.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class mE{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||n_(e)}Cu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new pE({Vu:e,methodName:t,Du:n,path:mm.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function gE(e){const t=e._freezeSettings(),n=n_(e._databaseId);return new mE(e._databaseId,!!t.ignoreUndefinedProperties,n)}function vE(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.Cu(s.merge||s.mergeFields?2:0,t,n,i);xE("Data must be an object, but it was:",o,r);const a=CE(r,o);let l,c;if(s.merge)l=new Jm(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=kE(t,r,n);if(!o.contains(i))throw new Jp(Yp.INVALID_ARGUMENT,"Field '".concat(i,"' is specified in your field mask but missing from your input data."));LE(e,i)||e.push(i)}l=new Jm(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new hE(new Sg(a),l,c)}class yE extends lE{_toFieldTransform(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof yE}}function bE(e,t,n,r){const i=e.Cu(1,t,n);xE("Data must be an object, but it was:",i,r);const s=[],o=Sg.empty();qm(r,((e,r)=>{const a=IE(t,e,n);r=dt(r);const l=i.yu(a);if(r instanceof yE)s.push(a);else{const e=EE(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Jm(s);return new dE(o,a,i.fieldTransforms)}function _E(e,t,n,r,i,s){const o=e.Cu(1,t,n),a=[kE(t,r,n)],l=[i];if(s.length%2!=0)throw new Jp(Yp.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(let d=0;d<s.length;d+=2)a.push(kE(t,s[d])),l.push(s[d+1]);const c=[],u=Sg.empty();for(let d=a.length-1;d>=0;--d)if(!LE(c,a[d])){const e=a[d];let t=l[d];t=dt(t);const n=o.yu(e);if(t instanceof yE)c.push(e);else{const r=EE(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new Jm(c);return new dE(u,h,o.fieldTransforms)}function wE(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return EE(n,e.Cu(r?4:3,t))}function EE(e,t){if(SE(e=dt(e)))return xE("Unsupported field value:",t,e),CE(e,t);if(e instanceof lE)return function(e,t){if(!fE(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=EE(i,t.wu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=dt(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ov(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=um.fromDate(e);return{timestampValue:jy(t.serializer,n)}}if(e instanceof um){const n=new um(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:jy(t.serializer,n)}}if(e instanceof cE)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof oE)return{bytesValue:Uy(t.serializer,e._byteString)};if(e instanceof $w){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Su("Document reference is for database ".concat(r.projectId,"/").concat(r.database," but should be for database ").concat(n.projectId,"/").concat(n.database));return{referenceValue:Vy(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(Kw(e)))}(e,t)}function CE(e,t){const n={};return Wm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):qm(e,((e,r)=>{const i=EE(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function SE(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof um||e instanceof cE||e instanceof oE||e instanceof $w||e instanceof lE)}function xE(e,t,n){if(!SE(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Kw(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function kE(e,t,n){if((t=dt(t))instanceof aE)return t._internalPath;if("string"==typeof t)return IE(e,t);throw NE("Field path arguments must be of type string or ",e,!1,void 0,n)}const TE=new RegExp("[~\\*/\\[\\]]");function IE(e,t,n){if(t.search(TE)>=0)throw NE("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new aE(...t.split("."))._internalPath}catch(Lu){throw NE("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function NE(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a="Function ".concat(t,"() called with invalid data");n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=" in field ".concat(r)),o&&(l+=" in document ".concat(i)),l+=")"),new Jp(Yp.INVALID_ARGUMENT,a+e+l)}function LE(e,t){return e.some((e=>e.isEqual(t)))}class PE{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new $w(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new RE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(OE("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class RE extends PE{data(){return super.data()}}function OE(e,t){return"string"==typeof t?IE(e,t):t instanceof aE?t._internalPath:t._delegate._internalPath}function AE(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Jp(Yp.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DE{}class ME extends DE{}function jE(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof DE&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof BE)).length,n=e.filter((e=>e instanceof UE)).length;if(t>1||t>0&&n>0)throw new Jp(Yp.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class UE extends ME{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new UE(e,t,n)}_apply(e){const t=this._parse(e);return qE(e._query,t),new Jw(e.firestore,e.converter,lv(e._query,t))}_parse(e){const t=gE(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Jp(Yp.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(s,"' queries on documentId()."));if("in"===s||"not-in"===s){zE(o,s);const t=[];for(const n of o)t.push(VE(r,e,n));a={arrayValue:{values:t}}}else a=VE(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||zE(o,s),a=wE(n,t,o,"in"===s||"not-in"===s);return Og.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function FE(e,t,n){const r=t,i=OE("where",e);return UE._create(i,r,n)}class BE extends DE{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new BE(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ag.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)qE(n,i),n=lv(n,i)}(e._query,t),new Jw(e.firestore,e.converter,lv(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}function VE(e,t,n){if("string"==typeof(n=dt(n))){if(""===n)throw new Jp(Yp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!iv(t)&&-1!==n.indexOf("/"))throw new Jp(Yp.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));const r=t.path.child(fm.fromString(n));if(!gm.isDocumentKey(r))throw new Jp(Yp.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return gg(e,new gm(r))}if(n instanceof $w)return gg(e,n._key);throw new Jp(Yp.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(Kw(n),"."))}function zE(e,t){if(!Array.isArray(e)||0===e.length)throw new Jp(Yp.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function qE(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Jp(Yp.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new Jp(Yp.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(n.toString(),"' filters."))}class WE{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(cg(e)){case 0:return null;case 1:return e.booleanValue;case 2:return tg(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ng(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Kp()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return qm(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new cE(tg(e.latitude),tg(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ig(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sg(e));default:return null}}convertTimestamp(e){const t=eg(e);return new um(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=fm.fromString(e);Gp(cb(n));const r=new ag(n.get(1),n.get(3)),i=new gm(n.popFirst(5));return r.isEqual(t)||qp("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}function HE(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class KE{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class GE extends PE{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new QE(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(OE("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class QE extends GE{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class YE{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new KE(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new QE(this._firestore,this._userDataWriter,n.key,n,new KE(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Jp(Yp.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new QE(e._firestore,e._userDataWriter,n.doc.key,n.doc,new KE(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new QE(e._firestore,e._userDataWriter,t.doc.key,t.doc,new KE(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:JE(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function JE(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Kp()}}function $E(e){e=Gw(e,$w);const t=Gw(e.firestore,nE);return Fw(iE(t),e._key).then((n=>iC(t,e,n)))}class XE extends WE{constructor(e){super(),this.firestore=e}convertBytes(e){return new oE(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $w(this.firestore,null,t)}}function ZE(e){e=Gw(e,Jw);const t=Gw(e.firestore,nE),n=iE(t),r=new XE(t);return AE(e._query),Bw(n,e._query).then((n=>new YE(t,r,e,n)))}function eC(e,t,n){e=Gw(e,$w);const r=Gw(e.firestore,nE),i=gE(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=dt(t))||t instanceof aE?_E(i,"updateDoc",e._key,t,n,a):bE(i,"updateDoc",e._key,t),rC(r,[s.toMutation(e._key,Gv.exists(!0))])}function tC(e){return rC(Gw(e.firestore,nE),[new oy(e._key,Gv.none())])}function nC(e,t){const n=Gw(e.firestore,nE),r=eE(e),i=HE(e.converter,t);return rC(n,[vE(gE(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Gv.exists(!1))]).then((()=>r))}function rC(e,t){return function(e,t){const n=new $p;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Tw(e);try{const e=await function(e,t){const n=Qp(e),r=um.now(),i=t.reduce(((e,t)=>e.add(t.key)),Iv());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=bv(),l=Iv();return n.os.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=Zv(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new ny(e.key,t,xg(t.value.mapValue),Gv.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Ev(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Fa[e.currentUser.toKey()];r||(r=new Hm(lm)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Cw(r,e.changes),await x_(r.remoteStore)}catch(e){const t=F_(e,"Failed to persist write");n.reject(t)}}(await jw(e),t,n))),n.promise}(iE(e),t)}function iC(e,t,n){const r=n.docs.get(t._key),i=new XE(e);return new GE(e,i,t._key,r,new KE(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Fp=e}(en),Jt(new ft("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new nE(new tm(e.getProvider("auth-internal")),new sm(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Jp(Yp.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ag(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),rn(jp,"4.5.0",e),rn(jp,"4.5.0","esm2017")}();const sC="firebasestorage.googleapis.com",oC="storageBucket";class aC extends Ke{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(uC(e),"Firebase Storage: ".concat(t," (").concat(uC(e),")")),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,aC.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message="".concat(this._baseMessage,"\n").concat(this.customData.serverResponse):this.message=this._baseMessage}}var lC,cC;function uC(e){return"storage/"+e}function hC(){return new aC(lC.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function dC(){return new aC(lC.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function fC(){return new aC(lC.CANCELED,"User canceled the upload/download.")}function pC(){return new aC(lC.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function mC(e){return new aC(lC.INVALID_ARGUMENT,e)}function gC(){return new aC(lC.APP_DELETED,"The Firebase app was deleted.")}function vC(e,t){return new aC(lC.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function yC(e){throw new aC(lC.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(lC||(lC={}));class bC{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=bC.makeFromUrl(e,t)}catch(i){return new bC(e,"")}if(""===n.path)return n;throw r=e,new aC(lC.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const o=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp("^https?://".concat(o,"/").concat("v[A-Za-z0-9_]+","/b/").concat(r,"/o").concat("(/([^?#]*).*)?$"),"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp("^https?://".concat(t===sC?"(?:storage.googleapis.com|storage.cloud.google.com)":t,"/").concat(r,"/").concat("([^?#]*)"),"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<a.length;l++){const t=a[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new bC(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new aC(lC.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class _C{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function wC(e){return"string"===typeof e||e instanceof String}function EC(e){return CC()&&e instanceof Blob}function CC(){return"undefined"!==typeof Blob}function SC(e,t,n,r){if(r<t)throw mC("Invalid value for '".concat(e,"'. Expected ").concat(t," or greater."));if(r>n)throw mC("Invalid value for '".concat(e,"'. Expected ").concat(n," or less."))}function xC(e,t,n){let r=t;return null==n&&(r="https://".concat(t)),"".concat(n,"://").concat(r,"/v0").concat(e)}function kC(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function TC(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(cC||(cC={}));class IC{constructor(e,t,n,r,i,s,o,a,l,c,u){let h=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=o,this.errorCallback_=a,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new NC(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===cC.NO_ERROR,i=n.getStatus();if(!t||TC(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===cC.ABORT;return void e(!1,new NC(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new NC(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(s){r(s)}else if(null!==i){const e=hC();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?gC():fC())}else{r(dC())}};this.canceled_?t(0,new NC(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return 2===a}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function h(t){i=setTimeout((()=>{i=null,e(f,l())}),t)}function d(){s&&clearTimeout(s)}function f(e){if(c)return void d();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return d(),void u.call(null,e,...n);if(l()||o)return d(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===a?(a=2,s=0):s=1e3*(r+Math.random()),h(s)}let p=!1;function m(e){p||(p=!0,d(),c||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),s=setTimeout((()=>{o=!0,m(!0)}),n),m}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class NC{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function LC(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function PC(){const e=LC();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(CC())return new Blob(n);throw new aC(lC.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function RC(e){if("undefined"===typeof atob)throw t="base-64",new aC(lC.UNSUPPORTED_ENVIRONMENT,"".concat(t," is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information."));var t;return atob(e)}const OC={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class AC{constructor(e,t){this.data=e,this.contentType=t||null}}function DC(e,t){switch(e){case OC.RAW:return new AC(MC(t));case OC.BASE64:case OC.BASE64URL:return new AC(jC(e,t));case OC.DATA_URL:return new AC(function(e){const t=new UC(e);return t.base64?jC(OC.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw vC(OC.DATA_URL,"Malformed data URL.")}return MC(t)}(t.rest)}(t),new UC(t).contentType)}throw hC()}function MC(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function jC(e,t){switch(e){case OC.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw vC(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case OC.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw vC(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=RC(t)}catch(i){if(i.message.includes("polyfill"))throw i;throw vC(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class UC{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw vC(OC.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class FC{constructor(e,t){let n=0,r="";EC(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(EC(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new FC(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new FC(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(CC()){const e=t.map((e=>e instanceof FC?e.data_:e));return new FC(PC.apply(null,e))}{const e=t.map((e=>wC(e)?DC(OC.RAW,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new FC(r,!0)}}uploadData(){return this.data_}}function BC(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function VC(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function zC(e,t){return t}class qC{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||zC}}let WC=null;function HC(){if(WC)return WC;const e=[];e.push(new qC("bucket")),e.push(new qC("generation")),e.push(new qC("metageneration")),e.push(new qC("name","fullPath",!0));const t=new qC("name");t.xform=function(e,t){return function(e){return!wC(e)||e.length<2?e:VC(e)}(t)},e.push(t);const n=new qC("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new qC("timeCreated")),e.push(new qC("updated")),e.push(new qC("md5Hash",null,!0)),e.push(new qC("cacheControl",null,!0)),e.push(new qC("contentDisposition",null,!0)),e.push(new qC("contentEncoding",null,!0)),e.push(new qC("contentLanguage",null,!0)),e.push(new qC("contentType",null,!0)),e.push(new qC("metadata","customMetadata",!0)),WC=e,WC}function KC(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new bC(n,r);return t._makeStorageReference(i)}})}(r,e),r}function GC(e,t,n){const r=BC(t);if(null===r)return null;return KC(e,r,n)}function QC(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class YC{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function JC(e){if(!e)throw hC()}function $C(e,t){return function(n,r){const i=GC(e,r,t);return JC(null!==i),i}}function XC(e,t){return function(n,r){const i=GC(e,r,t);return JC(null!==i),function(e,t,n,r){const i=BC(t);if(null===i)return null;if(!wC(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const o=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return xC("/b/"+o(i)+"/o/"+o(s),n,r)+kC({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function ZC(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new aC(lC.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new aC(lC.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new aC(lC.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new aC(lC.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function eS(e){const t=ZC(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new aC(lC.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function tS(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function nS(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};const a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();o["Content-Type"]="multipart/related; boundary="+a;const l=tS(t,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+QC(l,n)+"\r\n--"+a+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+a+"--",h=FC.getBlob(c,r,u);if(null===h)throw pC();const d={name:l.fullPath},f=xC(s,e.host,e._protocol),p=e.maxUploadRetryTime,m=new YC(f,"POST",$C(e,n),p);return m.urlParams=d,m.headers=o,m.body=h.uploadData(),m.errorHandler=ZC(t),m}let rS=null;class iS{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=cC.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=cC.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=cC.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw yC("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw yC("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw yC("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw yC("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw yC("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class sS extends iS{initXhr(){this.xhr_.responseType="text"}}function oS(){return rS?rS():new sS}class aS{constructor(e,t){this._service=e,this._location=t instanceof bC?t:bC.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new aS(e,t)}get root(){const e=new bC(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return VC(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new bC(this._location.bucket,e);return new aS(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new aC(lC.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function lS(e,t,n){e._throwIfRoot("uploadBytes");const r=nS(e.storage,e._location,HC(),new FC(t,!0),n);return e.storage.makeRequestWithTokens(r,oS).then((t=>({metadata:t,ref:e})))}function cS(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=xC(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new YC(r,"GET",XC(e,n),i);return s.errorHandler=eS(t),s}(e.storage,e._location,HC());return e.storage.makeRequestWithTokens(t,oS).then((e=>{if(null===e)throw new aC(lC.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function uS(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new bC(e._location.bucket,n);return new aS(e.storage,r)}function hS(e,t){if(e instanceof pS){const n=e;if(null==n._bucket)throw new aC(lC.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+oC+"' property when initializing the app?");const r=new aS(n,n._bucket);return null!=t?hS(r,t):r}return void 0!==t?uS(e,t):e}function dS(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof pS)return new aS(e,t);throw mC("To use ref(service, url), the first argument must be a Storage instance.")}return hS(e,t)}function fS(e,t){const n=null===t||void 0===t?void 0:t[oC];return null==n?null:bC.makeFromBucketSpec(n,e)}class pS{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=sC,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?bC.makeFromBucketSpec(r,this._host):fS(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=bC.makeFromBucketSpec(this._url,e):this._bucket=fS(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){SC("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){SC("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new aS(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new _C(gC());{const s=function(e,t,n,r,i,s){let o=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const a=kC(e.urlParams),l=e.url+a,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new IC(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const mS="@firebase/storage",gS="0.12.2",vS="storage";function yS(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new pS(r,i,s,n,en)}Jt(new ft(vS,yS,"PUBLIC").setMultipleInstances(!0)),rn(mS,gS,""),rn(mS,gS,"esm2017");const bS=tn({apiKey:"AIzaSyACbCWGkpz0AWYG5VcXHwV8iK2pTFMhUjM",authDomain:"pretemoiton.firebaseapp.com",projectId:"pretemoiton",storageBucket:"pretemoiton.appspot.com",messagingSenderId:"512893424066",appId:"1:512893424066:web:c9bf8e977ac4e0fc5c465b"}),_S=Ns(bS),wS=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn(),t=arguments.length>1?arguments[1]:void 0;const n=$t(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=De("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=dt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&Js("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Js('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new mo(mo.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:Fe(r.mockUserToken,e.app.options.projectId);s=new mo(t)}!function(e,t,n,r){e.repoInfo_=new wo("".concat(t,":").concat(n),!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}(i,t,n,s)}(n,...e)}}(bS),rE(bS)),ES=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:nn(),t=arguments.length>1?arguments[1]:void 0;e=dt(e);const n=$t(e,vS).getImmediate({identifier:t}),r=De("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host="".concat(t,":").concat(n),e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Fe(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}(bS);var CS=n(579);const SS=(0,r.createContext)();function xS(e){const[t,n]=(0,r.useState)(),[i,s]=(0,r.useState)(!0);(0,r.useEffect)((()=>{const e=function(e,t,n,r){return dt(e).onAuthStateChanged(t,n,r)}(_S,(e=>{n(e),s(!1)}));return e}),[]);const[o,a]=(0,r.useState)({signUpModal:!1,signInModal:!1});return(0,CS.jsx)(SS.Provider,{value:{modalState:o,toggleModals:e=>{"SignIn"===e&&a({signUpModal:!1,signInModal:!0}),"SignUp"===e&&a({signUpModal:!0,signInModal:!1}),"close"===e&&a({signUpModal:!1,signInModal:!1})},signUp:(e,t)=>ui(_S,e,t),signIn:(e,t)=>function(e,t,n){return li(dt(e),Gr.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&ci(e),t}))}(_S,e,t),currentUser:t},children:!i&&e.children})}var kS=n(950),TS=n.t(kS,2);function IS(){return IS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IS.apply(this,arguments)}function NS(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const LS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];try{window.__reactRouterVersion="6"}catch(OO){}new Map;const PS=i.startTransition;TS.flushSync,i.useId;function RS(e){let{basename:t,children:n,future:i,window:s}=e,o=r.useRef();null==o.current&&(o.current=function(e){return void 0===e&&(e={}),p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:d(t)}),null,e)}({window:s,v5Compat:!0}));let a=o.current,[l,c]=r.useState({action:a.action,location:a.location}),{v7_startTransition:u}=i||{},f=r.useCallback((e=>{u&&PS?PS((()=>c(e))):c(e)}),[c,u]);return r.useLayoutEffect((()=>a.listen(f)),[a,f]),r.createElement(ge,{basename:t,children:n,location:l.location,navigationType:l.action,navigator:a,future:i})}const OS="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,AS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,DS=r.forwardRef((function(e,t){let n,{onClick:i,relative:s,reloadDocument:o,replace:a,state:c,target:u,to:h,preventScrollReset:f,unstable_viewTransition:p}=e,m=NS(e,LS),{basename:g}=r.useContext(H),v=!1;if("string"===typeof h&&AS.test(h)&&(n=h,OS))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=L(t.pathname,g);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:v=!0}catch(OO){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Y()||l(!1);let{basename:i,navigator:s}=r.useContext(H),{hash:o,pathname:a,search:c}=ee(e,{relative:n}),u=a;return"/"!==i&&(u="/"===a?i:D([i,a])),s.createHref({pathname:u,search:c,hash:o})}(h,{relative:s}),b=function(e,t){let{target:n,replace:i,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l}=void 0===t?{}:t,c=X(),u=J(),h=ee(e,{relative:a});return r.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==i?i:d(u)===d(h);c(e,{replace:n,state:s,preventScrollReset:o,relative:a,unstable_viewTransition:l})}}),[u,c,h,i,s,n,e,o,a,l])}(h,{replace:a,state:c,target:u,preventScrollReset:f,relative:s,unstable_viewTransition:p});return r.createElement("a",IS({},m,{href:n||y,onClick:v||o?i:function(e){i&&i(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var MS,jS;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(MS||(MS={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(jS||(jS={}));var US=n(139),FS=n.n(US);function BS(){return BS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},BS.apply(this,arguments)}function VS(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}n(740);function zS(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function qS(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function WS(e,t){return Object.keys(t).reduce((function(n,i){var s,o=n,a=o[zS(i)],l=o[i],c=VS(o,[zS(i),i].map(qS)),u=t[i],h=function(e,t,n){var i=(0,r.useRef)(void 0!==e),s=(0,r.useState)(t),o=s[0],a=s[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&o!==t&&a(t),[l?e:o,(0,r.useCallback)((function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];n&&n.apply(void 0,[e].concat(r)),a(e)}),[n])]}(l,a,e[u]),d=h[0],f=h[1];return BS({},c,((s={})[i]=d,s[u]=f,s))}),e)}function HS(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function KS(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function GS(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}HS.__suppressDeprecationWarning=!0,KS.__suppressDeprecationWarning=!0,GS.__suppressDeprecationWarning=!0;const QS=function(e){const t=(0,r.useRef)(e);return(0,r.useEffect)((()=>{t.current=e}),[e]),t};function YS(e){const t=QS(e);return(0,r.useCallback)((function(){return t.current&&t.current(...arguments)}),[t])}const JS=["xxl","xl","lg","md","sm","xs"],$S="xs",XS=r.createContext({prefixes:{},breakpoints:JS,minBreakpoint:$S}),{Consumer:ZS,Provider:ex}=XS;function tx(e,t){const{prefixes:n}=(0,r.useContext)(XS);return e||n[t]||t}function nx(){const{breakpoints:e}=(0,r.useContext)(XS);return e}function rx(){const{minBreakpoint:e}=(0,r.useContext)(XS);return e}const ix=e=>r.forwardRef(((t,n)=>(0,CS.jsx)("div",{...t,ref:n,className:FS()(t.className,e)}))),sx=ix("h4");sx.displayName="DivStyledAsH4";const ox=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=sx,...s}=e;return r=tx(r,"alert-heading"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));ox.displayName="AlertHeading";const ax=ox;const lx="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,cx="undefined"!==typeof document||lx?r.useLayoutEffect:r.useEffect;new WeakMap;const ux=["as","disabled"];function hx(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:o,onClick:a,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const h=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},u]}const dx=r.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ux);const[s,{tagName:o}]=hx(Object.assign({tagName:n,disabled:r},i));return(0,CS.jsx)(o,Object.assign({},i,s,{ref:t}))}));dx.displayName="Button";const fx=dx,px=["onKeyDown"];const mx=r.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,px);const[i]=hx(Object.assign({tagName:"a"},r)),s=YS((e=>{i.onKeyDown(e),null==n||n(e)}));return(o=r.href)&&"#"!==o.trim()&&"button"!==r.role?(0,CS.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,CS.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s}));var o}));mx.displayName="Anchor";const gx=mx,vx=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=gx,...s}=e;return r=tx(r,"alert-link"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));vx.displayName="AlertLink";const yx=vx;function bx(e,t){return bx=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},bx(e,t)}const _x=!1,wx=r.createContext(null);var Ex="unmounted",Cx="exited",Sx="entering",xx="entered",kx="exiting",Tx=function(e){var t,n;function i(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=Cx,r.appearStatus=Sx):i=xx:i=t.unmountOnExit||t.mountOnEnter?Ex:Cx,r.state={status:i},r.nextCallback=null,r}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,bx(t,n),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Ex?{status:Cx}:null};var s=i.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Sx&&n!==xx&&(t=Sx):n!==Sx&&n!==xx||(t=kx)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Sx){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:kS.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Cx&&this.setState({status:Ex})},s.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[kS.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||_x?this.safeSetState({status:xx},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:Sx},(function(){t.props.onEntering(s,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:xx},(function(){t.props.onEntered(s,o)}))}))})))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:kS.findDOMNode(this);t&&!_x?(this.props.onExit(r),this.safeSetState({status:kx},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Cx},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Cx},(function(){e.props.onExited(r)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:kS.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===Ex)return null;var t=this.props,n=t.children,i=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,VS(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return r.createElement(wx.Provider,{value:null},"function"===typeof n?n(e,i):r.cloneElement(r.Children.only(n),i))},i}(r.Component);function Ix(){}Tx.contextType=wx,Tx.propTypes={},Tx.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ix,onEntering:Ix,onEntered:Ix,onExit:Ix,onExiting:Ix,onExited:Ix},Tx.UNMOUNTED=Ex,Tx.EXITED=Cx,Tx.ENTERING=Sx,Tx.ENTERED=xx,Tx.EXITING=kx;const Nx=Tx;function Lx(e){return e&&e.ownerDocument||document}function Px(e,t){return function(e){var t=Lx(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Rx=/([A-Z])/g;var Ox=/^ms-/;function Ax(e){return function(e){return e.replace(Rx,"-$1").toLowerCase()}(e).replace(Ox,"-ms-")}var Dx=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const Mx=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Ax(t))||Px(e).getPropertyValue(Ax(t));Object.keys(t).forEach((function(i){var s=t[i];s||0===s?!function(e){return!(!e||!Dx.test(e))}(i)?n+=Ax(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(Ax(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},jx=!("undefined"===typeof window||!window.document||!window.document.createElement);var Ux=!1,Fx=!1;try{var Bx={get passive(){return Ux=!0},get once(){return Fx=Ux=!0}};jx&&(window.addEventListener("test",Bx,Bx),window.removeEventListener("test",Bx,!0))}catch(OO){}const Vx=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Fx){var i=r.once,s=r.capture,o=n;!Fx&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Ux?r:s)}e.addEventListener(t,n,r)};const zx=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const qx=function(e,t,n,r){return Vx(e,t,n,r),function(){zx(e,t,n,r)}};function Wx(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),s=qx(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),s()}}function Hx(e,t,n,r){null==n&&(n=function(e){var t=Mx(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Wx(e,n,r),s=qx(e,"transitionend",t);return function(){i(),s()}}function Kx(e,t){const n=Mx(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Gx(e,t){const n=Kx(e,"transitionDuration"),r=Kx(e,"transitionDelay"),i=Hx(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const Qx=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Yx=function(e,t){return(0,r.useMemo)((()=>function(e,t){const n=Qx(e),r=Qx(t);return e=>{n&&n(e),r&&r(e)}}(e,t)),[e,t])};const Jx=r.forwardRef(((e,t)=>{let{onEnter:n,onEntering:i,onEntered:s,onExit:o,onExiting:a,onExited:l,addEndListener:c,children:u,childRef:h,...d}=e;const f=(0,r.useRef)(null),p=Yx(f,h),m=e=>{var t;p((t=e)&&"setState"in t?kS.findDOMNode(t):null!=t?t:null)},g=e=>t=>{e&&f.current&&e(f.current,t)},v=(0,r.useCallback)(g(n),[n]),y=(0,r.useCallback)(g(i),[i]),b=(0,r.useCallback)(g(s),[s]),_=(0,r.useCallback)(g(o),[o]),w=(0,r.useCallback)(g(a),[a]),E=(0,r.useCallback)(g(l),[l]),C=(0,r.useCallback)(g(c),[c]);return(0,CS.jsx)(Nx,{ref:t,...d,onEnter:v,onEntered:b,onEntering:y,onExit:_,onExited:E,onExiting:w,addEndListener:C,nodeRef:f,children:"function"===typeof u?(e,t)=>u(e,{...t,ref:m}):r.cloneElement(u,{ref:m})})})),$x=Jx,Xx={[Sx]:"show",[xx]:"show"},Zx=r.forwardRef(((e,t)=>{let{className:n,children:i,transitionClasses:s={},onEnter:o,...a}=e;const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...a},c=(0,r.useCallback)(((e,t)=>{!function(e){e.offsetHeight}(e),null==o||o(e,t)}),[o]);return(0,CS.jsx)($x,{ref:t,addEndListener:Gx,...l,onEnter:c,childRef:i.ref,children:(e,t)=>r.cloneElement(i,{...t,className:FS()("fade",n,i.props.className,Xx[e],s[e])})})}));Zx.displayName="Fade";const ek=Zx;var tk=n(173),nk=n.n(tk);const rk={"aria-label":nk().string,onClick:nk().func,variant:nk().oneOf(["white"])},ik=r.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...s}=e;return(0,CS.jsx)("button",{ref:t,type:"button",className:FS()("btn-close",r&&"btn-close-".concat(r),n),"aria-label":i,...s})}));ik.displayName="CloseButton",ik.propTypes=rk;const sk=ik,ok=r.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:i="Close alert",closeVariant:s,className:o,children:a,variant:l="primary",onClose:c,dismissible:u,transition:h=ek,...d}=WS(e,{show:"onClose"}),f=tx(n,"alert"),p=YS((e=>{c&&c(!1,e)})),m=!0===h?ek:h,g=(0,CS.jsxs)("div",{role:"alert",...m?void 0:d,ref:t,className:FS()(o,f,l&&"".concat(f,"-").concat(l),u&&"".concat(f,"-dismissible")),children:[u&&(0,CS.jsx)(sk,{onClick:p,"aria-label":i,variant:s}),a]});return m?(0,CS.jsx)(m,{unmountOnExit:!0,...d,ref:void 0,in:r,children:g}):r?g:null}));ok.displayName="Alert";const ak=Object.assign(ok,{Link:yx,Heading:ax}),lk=r.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:s,...o}=e;const a=tx(n,"container"),l="string"===typeof r?"-".concat(r):"-fluid";return(0,CS.jsx)(i,{ref:t,...o,className:FS()(s,r?"".concat(a).concat(l):a)})}));lk.displayName="Container";const ck=lk,uk=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...s}=e;const o=tx(n,"row"),a=nx(),l=rx(),c="".concat(o,"-cols"),u=[];return a.forEach((e=>{const t=s[e];let n;delete s[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==l?"-".concat(e):"";null!=n&&u.push("".concat(c).concat(r,"-").concat(n))})),(0,CS.jsx)(i,{ref:t,...s,className:FS()(r,o,...u)})}));uk.displayName="Row";const hk=uk;const dk=r.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:s,spans:o}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=tx(n,"col");const s=nx(),o=rx(),a=[],l=[];return s.forEach((e=>{const t=i[e];let r,s,c;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:s,order:c}=t):r=t;const u=e!==o?"-".concat(e):"";r&&a.push(!0===r?"".concat(n).concat(u):"".concat(n).concat(u,"-").concat(r)),null!=c&&l.push("order".concat(u,"-").concat(c)),null!=s&&l.push("offset".concat(u,"-").concat(s))})),[{...i,className:FS()(r,...a,...l)},{as:t,bsPrefix:n,spans:a}]}(e);return(0,CS.jsx)(i,{...r,ref:t,className:FS()(n,!o.length&&s)})}));dk.displayName="Col";const fk=dk,pk=r.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:s,active:o=!1,disabled:a=!1,className:l,...c}=e;const u=tx(r,"btn"),[h,{tagName:d}]=hx({tagName:n,disabled:a,...c}),f=d;return(0,CS.jsx)(f,{...h,...c,ref:t,disabled:a,className:FS()(l,u,o&&"active",i&&"".concat(u,"-").concat(i),s&&"".concat(u,"-").concat(s),c.href&&a&&"disabled")})}));pk.displayName="Button";const mk=pk;function gk(){const{currentUser:e}=(0,r.useContext)(SS);return(0,CS.jsxs)("div",{className:"container-fluid p-5 bg-dark text-center",children:[(0,CS.jsxs)(ak,{variant:"info",dismissible:!0,onClose:()=>{},className:"mt-3",children:[(0,CS.jsx)(ak.Heading,{children:"Important!"}),(0,CS.jsx)("p",{children:"N'oubliez pas de vous inscrire ou de vous connecter pour acc\xe9der aux fonctionnalit\xe9s de notre plateforme."})]}),(0,CS.jsx)("h1",{className:"display-3 text-light mb-5",children:"Bienvenue sur Pr\xeatemoiton..."}),e?(0,CS.jsxs)("div",{className:"mt-5",children:[(0,CS.jsx)("h2",{className:"display-4 text-light",children:"Oh, tu es de retour. Bienvenue, mon ami !"}),(0,CS.jsx)(DS,{to:"/private/private-home",className:"btn btn-primary btn-lg mt-3",children:"C'est reparti !"})]}):(0,CS.jsxs)(ck,{children:[(0,CS.jsx)(hk,{className:"justify-content-center mt-5",children:(0,CS.jsx)(fk,{md:8,children:(0,CS.jsxs)("div",{className:"jumbotron text-light",children:[(0,CS.jsx)("h1",{className:"display-4",children:"Bienvenue sur notre plateforme d'\xe9change"}),(0,CS.jsx)("p",{className:"lead",children:"Partagez vos comp\xe9tences et votre mat\xe9riel avec la communaut\xe9."}),(0,CS.jsx)("hr",{className:"my-4"}),(0,CS.jsx)("p",{children:"D\xe9couvrez les annonces r\xe9centes ou publiez la v\xf4tre d\xe8s maintenant."}),(0,CS.jsx)(mk,{variant:"primary",href:"#services",children:"Voir les services"})]})})}),(0,CS.jsx)(hk,{id:"services",className:"justify-content-center mt-5",children:(0,CS.jsxs)(fk,{children:[(0,CS.jsx)("h2",{className:"text-light",children:"Nos Services"}),(0,CS.jsxs)(hk,{className:"mt-4",children:[(0,CS.jsx)(fk,{md:4,children:(0,CS.jsxs)("div",{className:"p-3 bg-secondary text-light rounded",children:[(0,CS.jsx)("h3",{children:"\xc9change de Comp\xe9tences"}),(0,CS.jsx)("p",{children:"Mettez vos comp\xe9tences \xe0 profit en les partageant avec d'autres membres de la communaut\xe9."})]})}),(0,CS.jsx)(fk,{md:4,children:(0,CS.jsxs)("div",{className:"p-3 bg-secondary text-light rounded",children:[(0,CS.jsx)("h3",{children:"Pr\xeat de Mat\xe9riel"}),(0,CS.jsx)("p",{children:"Besoin d'un outil ou d'un \xe9quipement sp\xe9cifique ? Empruntez-le \xe0 un autre membre pr\xe8s de chez vous."})]})}),(0,CS.jsx)(fk,{md:4,children:(0,CS.jsxs)("div",{className:"p-3 bg-secondary text-light rounded",children:[(0,CS.jsx)("h3",{children:"Publication d'Annonces"}),(0,CS.jsx)("p",{children:"Publiez vos besoins ou ce que vous avez \xe0 offrir, et trouvez des correspondances sur la carte interactive."})]})})]})]})}),(0,CS.jsx)(hk,{className:"justify-content-center mt-5 text-light",children:(0,CS.jsxs)(fk,{children:[(0,CS.jsx)("h2",{children:"\xc0 propos de notre plateforme"}),(0,CS.jsx)("p",{children:"Notre plateforme a pour objectif de faciliter les \xe9changes entre les membres de la communaut\xe9. Que vous ayez des comp\xe9tences \xe0 partager ou que vous cherchiez \xe0 emprunter du mat\xe9riel, notre site vous permet de trouver rapidement ce dont vous avez besoin."}),(0,CS.jsx)("p",{children:"Nous croyons en la force de la communaut\xe9 et en la solidarit\xe9 entre ses membres. En utilisant notre plateforme, vous contribuez \xe0 cr\xe9er un r\xe9seau d'entraide et de partage."}),(0,CS.jsx)("p",{children:"Rejoignez-nous d\xe8s aujourd'hui et faites partie d'une communaut\xe9 engag\xe9e \xe0 aider les uns les autres."})]})}),(0,CS.jsx)(hk,{className:"justify-content-center mt-5 text-light",children:(0,CS.jsxs)(fk,{children:[(0,CS.jsx)("h2",{children:"Inscrivez-vous ou connectez-vous"}),(0,CS.jsx)("p",{children:"Pour acc\xe9der aux diff\xe9rentes fonctionnalit\xe9s, veuillez vous inscrire ou vous connecter."})]})}),(0,CS.jsx)(hk,{className:"justify-content-center mt-5 text-light",children:(0,CS.jsxs)(fk,{children:[(0,CS.jsx)("h2",{children:"Contactez-nous"}),(0,CS.jsx)("p",{children:"Pour toute demande ou question, n'h\xe9sitez pas \xe0 nous contacter:"}),(0,CS.jsxs)("p",{children:["pierrickselas@gmail.com",(0,CS.jsx)("br",{}),"06 12 34 56 78"]})]})})]})]})}function vk(){const{currentUser:e,toggleModals:t}=(0,r.useContext)(SS),n=X();return(0,CS.jsx)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-dark shadow-sm",children:(0,CS.jsxs)("div",{className:"container",children:[(0,CS.jsx)(DS,{to:"/",className:"navbar-brand",children:"Pr\xeatemoiton"}),(0,CS.jsxs)("div",{className:"d-flex justify-content-end",children:[!e&&(0,CS.jsxs)(CS.Fragment,{children:[(0,CS.jsx)("button",{onClick:()=>t("SignUp"),className:"btn btn-outline-light me-2",children:"Inscription"}),(0,CS.jsx)("button",{onClick:()=>t("SignIn"),className:"btn btn-outline-light me-2",children:"Connexion"})]}),e&&(0,CS.jsx)("button",{onClick:async()=>{if(window.confirm("\xcates-vous s\xfbr de vouloir vous d\xe9connecter ?"))try{await function(e){return dt(e).signOut()}(_S),n("/"),window.location.reload()}catch{alert("Pour plusieurs raisons, nous ne pouvons vous d\xe9connecter.")}},className:"btn btn-outline-danger",children:"D\xe9connexion"})]})]})})}function yk(){const{modalState:e,toggleModals:t,signUp:n}=(0,r.useContext)(SS),[i,s]=(0,r.useState)(""),o=X(),a=(0,r.useRef)([]),l=e=>{e&&!a.current.includes(e)&&a.current.push(e)},c=(0,r.useRef)(),u=()=>{s(""),t("close")};return(0,CS.jsx)(CS.Fragment,{children:e.signUpModal&&(0,CS.jsxs)("div",{className:"position-fixed top-0 vw-100 vh-100",children:[(0,CS.jsx)("div",{onClick:u,className:"w-100 h-100 bg-dark",style:{opacity:.7}}),(0,CS.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle",style:{minWidht:"400px"},children:(0,CS.jsx)("div",{className:"modal-dialog",children:(0,CS.jsxs)("div",{className:"modal-content",children:[(0,CS.jsxs)("div",{className:"modal-header",children:[(0,CS.jsx)("h5",{className:"modal-title",children:"Inscription"}),(0,CS.jsx)("button",{onClick:u,className:"btn-close"})]}),(0,CS.jsx)("div",{className:"modal-body",children:(0,CS.jsxs)("form",{ref:c,onSubmit:async e=>{if(e.preventDefault(),(a.current[1].value.length||a.current[2].value.length)<6)s("6 characters min");else if(a.current[1].value===a.current[2].value)try{await n(a.current[0].value,a.current[1].value);c.current.reset(),s(""),t("close"),o("/private/private-home")}catch(r){"auth/invalid-email"===r.code&&s("L'email est invalide"),"auth/email-already-in-use"===r.code&&s("L'email est d\xe9j\xe0 utilis\xe9")}else s("Les mots de passe ne se ressemblent pas")},className:"sign-up-form",children:[(0,CS.jsxs)("div",{className:"mb-3",children:[(0,CS.jsx)("label",{htmlFor:"signUpEmail",className:"form-label",children:"Email"}),(0,CS.jsx)("input",{ref:l,name:"email",required:!0,type:"text",className:"form-control",id:"signUpEmail"})]}),(0,CS.jsxs)("div",{className:"mb-3",children:[(0,CS.jsx)("label",{htmlFor:"signUpPwd",className:"form-label",children:"Mot de passe"}),(0,CS.jsx)("input",{ref:l,name:"pwd",required:!0,type:"password",className:"form-control",id:"signUpPwd"})]}),(0,CS.jsxs)("div",{className:"mb-3",children:[(0,CS.jsx)("label",{htmlFor:"reapeatPwd",className:"form-label",children:"Confirmer le mot de passe"}),(0,CS.jsx)("input",{ref:l,name:"pwd",required:!0,type:"password",className:"form-control",id:"reapeatPwd"}),(0,CS.jsx)("p",{className:"text-danger mt-1",children:i})]}),(0,CS.jsx)("button",{className:"btn btn-primary",children:"Envoyer"})]})})]})})})]})})}function bk(){const{currentUser:e}=(0,r.useContext)(SS);return console.log("PRIVATE",e),e?(0,CS.jsx)("div",{className:"container",children:(0,CS.jsx)(pe,{})}):(0,CS.jsx)(fe,{to:"/"})}function _k(e,t,n){const i=(0,r.useRef)(void 0!==e),[s,o]=(0,r.useState)(t),a=void 0!==e,l=i.current;return i.current=a,!a&&l&&s!==t&&o(t),[a?e:s,(0,r.useCallback)((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,...s]=t;let a=null==n?void 0:n(i,...s);return o(i),a}),[n])]}const wk={prefix:String(Math.round(1e10*Math.random())),current:0},Ek=r.createContext(wk),Ck=r.createContext(!1);let Sk=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),xk=new WeakMap;function kk(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,r.useContext)(Ek),n=(0,r.useRef)(null);if(null===n.current&&!e){var i,s;let e=null===(s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===s||null===(i=s.ReactCurrentOwner)||void 0===i?void 0:i.current;if(e){let n=xk.get(e);null==n?xk.set(e,{id:t.current,state:e.memoizedState}):e.memoizedState!==n.state&&(t.current=n.id,xk.delete(e))}n.current=++t.current}return n.current}const Tk="function"===typeof r.useId?function(e){let t=r.useId(),[n]=(0,r.useState)("function"===typeof r.useSyncExternalStore?r.useSyncExternalStore(Lk,Ik,Nk):(0,r.useContext)(Ck)),i=n?"react-aria":"react-aria".concat(wk.prefix);return e||"".concat(i,"-").concat(t)}:function(e){let t=(0,r.useContext)(Ek);t!==wk||Sk||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=kk(!!e),i="react-aria".concat(t.prefix);return e||"".concat(i,"-").concat(n)};function Ik(){return!1}function Nk(){return!0}function Lk(e){return()=>{}}const Pk=r.createContext(null),Rk=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},Ok=r.createContext(null);const Ak=function(e){let{children:t,in:n,onExited:i,mountOnEnter:s,unmountOnExit:o}=e;const a=(0,r.useRef)(null),l=(0,r.useRef)(n),c=YS(i);(0,r.useEffect)((()=>{n?l.current=!0:c(a.current)}),[n,c]);const u=Yx(a,t.ref),h=(0,r.cloneElement)(t,{ref:u});return n?h:o||!l.current&&s?null:h},Dk=["active","eventKey","mountOnEnter","transition","unmountOnExit","role","onEnter","onEntering","onEntered","onExit","onExiting","onExited"],Mk=["activeKey","getControlledId","getControllerId"],jk=["as"];function Uk(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function Fk(e){let{active:t,eventKey:n,mountOnEnter:i,transition:s,unmountOnExit:o,role:a="tabpanel",onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:d,onExited:f}=e,p=Uk(e,Dk);const m=(0,r.useContext)(Pk);if(!m)return[Object.assign({},p,{role:a}),{eventKey:n,isActive:t,mountOnEnter:i,transition:s,unmountOnExit:o,onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:d,onExited:f}];const{activeKey:g,getControlledId:v,getControllerId:y}=m,b=Uk(m,Mk),_=Rk(n);return[Object.assign({},p,{role:a,id:v(n),"aria-labelledby":y(n)}),{eventKey:n,isActive:null==t&&null!=_?Rk(g)===_:t,transition:s||b.transition,mountOnEnter:null!=i?i:b.mountOnEnter,unmountOnExit:null!=o?o:b.unmountOnExit,onEnter:l,onEntering:c,onEntered:u,onExit:h,onExiting:d,onExited:f}]}const Bk=r.forwardRef(((e,t)=>{let{as:n="div"}=e,r=Uk(e,jk);const[i,{isActive:s,onEnter:o,onEntering:a,onEntered:l,onExit:c,onExiting:u,onExited:h,mountOnEnter:d,unmountOnExit:f,transition:p=Ak}]=Fk(r);return(0,CS.jsx)(Pk.Provider,{value:null,children:(0,CS.jsx)(Ok.Provider,{value:null,children:(0,CS.jsx)(p,{in:s,onEnter:o,onEntering:a,onEntered:l,onExit:c,onExiting:u,onExited:h,mountOnEnter:d,unmountOnExit:f,children:(0,CS.jsx)(n,Object.assign({},i,{ref:t,hidden:!s,"aria-hidden":!s}))})})})}));Bk.displayName="TabPanel";const Vk=e=>{const{id:t,generateChildId:n,onSelect:i,activeKey:s,defaultActiveKey:o,transition:a,mountOnEnter:l,unmountOnExit:c,children:u}=e,[h,d]=_k(s,o,i),f=Tk(t),p=(0,r.useMemo)((()=>n||((e,t)=>f?"".concat(f,"-").concat(t,"-").concat(e):null)),[f,n]),m=(0,r.useMemo)((()=>({onSelect:d,activeKey:h,transition:a,mountOnEnter:l||!1,unmountOnExit:c||!1,getControlledId:e=>p(e,"tabpane"),getControllerId:e=>p(e,"tab")})),[d,h,a,l,c,p]);return(0,CS.jsx)(Pk.Provider,{value:m,children:(0,CS.jsx)(Ok.Provider,{value:d||null,children:u})})};Vk.Panel=Bk;const zk=Vk;function qk(e){return"boolean"===typeof e?e?ek:Ak:e}const Wk=e=>{let{transition:t,...n}=e;return(0,CS.jsx)(zk,{...n,transition:qk(t)})};Wk.displayName="TabContainer";const Hk=Wk,Kk=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=tx(r,"tab-content"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));Kk.displayName="TabContent";const Gk=Kk,Qk=r.forwardRef(((e,t)=>{let{bsPrefix:n,transition:r,...i}=e;const[{className:s,as:o="div",...a},{isActive:l,onEnter:c,onEntering:u,onEntered:h,onExit:d,onExiting:f,onExited:p,mountOnEnter:m,unmountOnExit:g,transition:v=ek}]=Fk({...i,transition:qk(r)}),y=tx(n,"tab-pane");return(0,CS.jsx)(Pk.Provider,{value:null,children:(0,CS.jsx)(Ok.Provider,{value:null,children:(0,CS.jsx)(v,{in:l,onEnter:c,onEntering:u,onEntered:h,onExit:d,onExiting:f,onExited:p,mountOnEnter:m,unmountOnExit:g,children:(0,CS.jsx)(o,{...a,ref:t,className:FS()(s,y,l&&"active")})})})})}));Qk.displayName="TabPane";const Yk=Qk,Jk={eventKey:nk().oneOfType([nk().string,nk().number]),title:nk().node.isRequired,disabled:nk().bool,tabClassName:nk().string,tabAttrs:nk().object},$k=()=>{throw new Error("ReactBootstrap: The `Tab` component is not meant to be rendered! It's an abstract component that is only valid as a direct Child of the `Tabs` Component. For custom tabs components use TabPane and TabsContainer directly")};$k.propTypes=Jk;const Xk=Object.assign($k,{Container:Hk,Content:Gk,Pane:Yk});n(197);var Zk=Function.prototype.bind.call(Function.prototype.call,[].slice);function eT(e,t){return Zk(e.querySelectorAll(t))}const tT=r.createContext(null);tT.displayName="NavContext";const nT=tT,rT="data-rr-ui-";function iT(e){return"".concat(rT).concat(e)}const sT=["as","active","eventKey"];function oT(e){let{key:t,onClick:n,active:i,id:s,role:o,disabled:a}=e;const l=(0,r.useContext)(Ok),c=(0,r.useContext)(nT),u=(0,r.useContext)(Pk);let h=i;const d={role:o};if(c){o||"tablist"!==c.role||(d.role="tab");const e=c.getControllerId(null!=t?t:null),n=c.getControlledId(null!=t?t:null);d[iT("event-key")]=t,d.id=e||s,h=null==i&&null!=t?c.activeKey===t:i,!h&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(d["aria-controls"]=n)}return"tab"===d.role&&(d["aria-selected"]=h,h||(d.tabIndex=-1),a&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=YS((e=>{a||(null==n||n(e),null!=t&&l&&!e.isPropagationStopped()&&l(t,e))})),[d,{isActive:h}]}const aT=r.forwardRef(((e,t)=>{let{as:n=fx,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,sT);const[o,a]=oT(Object.assign({key:Rk(i,s.href),active:r},s));return o[iT("active")]=a.isActive,(0,CS.jsx)(n,Object.assign({},s,o,{ref:t}))}));aT.displayName="NavItem";const lT=aT,cT=["as","onSelect","activeKey","role","onKeyDown"];const uT=()=>{},hT=iT("event-key"),dT=r.forwardRef(((e,t)=>{let{as:n="div",onSelect:i,activeKey:s,role:o,onKeyDown:a}=e,l=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,cT);const c=function(){const[,e]=(0,r.useReducer)((e=>!e),!1);return e}(),u=(0,r.useRef)(!1),h=(0,r.useContext)(Ok),d=(0,r.useContext)(Pk);let f,p;d&&(o=o||"tablist",s=d.activeKey,f=d.getControlledId,p=d.getControllerId);const m=(0,r.useRef)(null),g=e=>{const t=m.current;if(!t)return null;const n=eT(t,"[".concat(hT,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},v=(e,t)=>{null!=e&&(null==i||i(e,t),null==h||h(e,t))};(0,r.useEffect)((()=>{if(m.current&&u.current){const e=m.current.querySelector("[".concat(hT,"][aria-selected=true]"));null==e||e.focus()}u.current=!1}));const y=Yx(t,m);return(0,CS.jsx)(Ok.Provider,{value:v,children:(0,CS.jsx)(nT.Provider,{value:{role:o,activeKey:Rk(s),getControlledId:f||uT,getControllerId:p||uT},children:(0,CS.jsx)(n,Object.assign({},l,{onKeyDown:e=>{if(null==a||a(e),!d)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),u.current=!0,c())},ref:y,role:o}))})})}));dT.displayName="Nav";const fT=Object.assign(dT,{Item:lT}),pT=r.createContext(null);pT.displayName="NavbarContext";const mT=pT,gT=r.createContext(null);gT.displayName="CardHeaderContext";const vT=gT,yT=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=tx(r,"nav-item"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));yT.displayName="NavItem";const bT=yT,_T=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=gx,active:s,eventKey:o,disabled:a=!1,...l}=e;n=tx(n,"nav-link");const[c,u]=oT({key:Rk(o,l.href),active:s,disabled:a,...l});return(0,CS.jsx)(i,{...l,...c,ref:t,disabled:a,className:FS()(r,n,a&&"disabled",u.isActive&&"active")})}));_T.displayName="NavLink";const wT=_T,ET=r.forwardRef(((e,t)=>{const{as:n="div",bsPrefix:i,variant:s,fill:o=!1,justify:a=!1,navbar:l,navbarScroll:c,className:u,activeKey:h,...d}=WS(e,{activeKey:"onSelect"}),f=tx(i,"nav");let p,m,g=!1;const v=(0,r.useContext)(mT),y=(0,r.useContext)(vT);return v?(p=v.bsPrefix,g=null==l||l):y&&({cardHeaderBsPrefix:m}=y),(0,CS.jsx)(fT,{as:n,ref:t,activeKey:h,className:FS()(u,{[f]:!g,["".concat(p,"-nav")]:g,["".concat(p,"-nav-scroll")]:g&&c,["".concat(m,"-").concat(s)]:!!m,["".concat(f,"-").concat(s)]:!!s,["".concat(f,"-fill")]:o,["".concat(f,"-justified")]:a}),...d})}));ET.displayName="Nav";const CT=Object.assign(ET,{Item:bT,Link:wT});var ST;function xT(e){if((!ST&&0!==ST||e)&&jx){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),ST=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return ST}function kT(e){const t=function(e){const t=(0,r.useRef)(e);return t.current=e,t}(e);(0,r.useEffect)((()=>()=>t.current()),[])}function TT(e){void 0===e&&(e=Lx());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(OO){return e.body}}function IT(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}const NT=iT("modal-open");const LT=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]="".concat(parseInt(Mx(r,n)||"0",10)+e.scrollBarWidth,"px")),r.setAttribute(NT,""),Mx(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(NT),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},PT=(0,r.createContext)(jx?window:void 0);PT.Provider;function RT(){return(0,r.useContext)(PT)}const OT=(e,t)=>jx?null==e?(t||Lx()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const AT=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function DT(e){let{onEnter:t,onEntering:n,onEntered:i,onExit:s,onExiting:o,onExited:a,addEndListener:l,children:c}=e,u=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,AT);const h=(0,r.useRef)(null),d=Yx(h,"function"===typeof c?null:c.ref),f=e=>t=>{e&&h.current&&e(h.current,t)},p=(0,r.useCallback)(f(t),[t]),m=(0,r.useCallback)(f(n),[n]),g=(0,r.useCallback)(f(i),[i]),v=(0,r.useCallback)(f(s),[s]),y=(0,r.useCallback)(f(o),[o]),b=(0,r.useCallback)(f(a),[a]),_=(0,r.useCallback)(f(l),[l]);return Object.assign({},u,{nodeRef:h},t&&{onEnter:p},n&&{onEntering:m},i&&{onEntered:g},s&&{onExit:v},o&&{onExiting:y},a&&{onExited:b},l&&{addEndListener:_},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:d})):(0,r.cloneElement)(c,{ref:d})})}const MT=["component"];const jT=r.forwardRef(((e,t)=>{let{component:n}=e;const r=DT(function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,MT));return(0,CS.jsx)(n,Object.assign({ref:t},r))})),UT=jT;function FT(e){let{children:t,in:n,onExited:i,onEntered:s,transition:o}=e;const[a,l]=(0,r.useState)(!n);n&&a&&l(!1);const c=function(e){let{in:t,onTransition:n}=e;const i=(0,r.useRef)(null),s=(0,r.useRef)(!0),o=YS(n);return cx((()=>{if(!i.current)return;let e=!1;return o({in:t,element:i.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[t,o]),cx((()=>(s.current=!1,()=>{s.current=!0})),[]),i}({in:!!n,onTransition:e=>{Promise.resolve(o(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=Yx(c,t.ref);return a&&!n?null:(0,r.cloneElement)(t,{ref:u})}function BT(e,t,n){return e?(0,CS.jsx)(UT,Object.assign({},n,{component:e})):t?(0,CS.jsx)(FT,Object.assign({},n,{transition:t})):(0,CS.jsx)(Ak,Object.assign({},n))}const VT=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let zT;function qT(e){const t=RT(),n=e||function(e){return zT||(zT=new LT({ownerDocument:null==e?void 0:e.document})),zT}(t),i=(0,r.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:(0,r.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,r.useCallback)((e=>{i.current.backdrop=e}),[])})}const WT=(0,r.forwardRef)(((e,t)=>{let{show:n=!1,role:i="dialog",className:s,style:o,children:a,backdrop:l=!0,keyboard:c=!0,onBackdropClick:u,onEscapeKeyDown:h,transition:d,runTransition:f,backdropTransition:p,runBackdropTransition:m,autoFocus:g=!0,enforceFocus:v=!0,restoreFocus:y=!0,restoreFocusOptions:b,renderDialog:_,renderBackdrop:w=(e=>(0,CS.jsx)("div",Object.assign({},e))),manager:E,container:C,onShow:S,onHide:x=(()=>{}),onExit:k,onExited:T,onExiting:I,onEnter:N,onEntering:L,onEntered:P}=e,R=function(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,VT);const O=RT(),A=function(e,t){const n=RT(),[i,s]=(0,r.useState)((()=>OT(e,null==n?void 0:n.document)));if(!i){const t=OT(e);t&&s(t)}return(0,r.useEffect)((()=>{t&&i&&t(i)}),[t,i]),(0,r.useEffect)((()=>{const t=OT(e);t!==i&&s(t)}),[e,i]),i}(C),D=qT(E),M=function(){const e=(0,r.useRef)(!0),t=(0,r.useRef)((()=>e.current));return(0,r.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),t.current}(),j=function(e){const t=(0,r.useRef)(null);return(0,r.useEffect)((()=>{t.current=e})),t.current}(n),[U,F]=(0,r.useState)(!n),B=(0,r.useRef)(null);(0,r.useImperativeHandle)(t,(()=>D),[D]),jx&&!j&&n&&(B.current=TT(null==O?void 0:O.document)),n&&U&&F(!1);const V=YS((()=>{if(D.add(),G.current=qx(document,"keydown",H),K.current=qx(document,"focus",(()=>setTimeout(q)),!0),S&&S(),g){var e,t;const n=TT(null!=(e=null==(t=D.dialog)?void 0:t.ownerDocument)?e:null==O?void 0:O.document);D.dialog&&n&&!IT(D.dialog,n)&&(B.current=n,D.dialog.focus())}})),z=YS((()=>{var e;(D.remove(),null==G.current||G.current(),null==K.current||K.current(),y)&&(null==(e=B.current)||null==e.focus||e.focus(b),B.current=null)}));(0,r.useEffect)((()=>{n&&A&&V()}),[n,A,V]),(0,r.useEffect)((()=>{U&&z()}),[U,z]),kT((()=>{z()}));const q=YS((()=>{if(!v||!M()||!D.isTopModal())return;const e=TT(null==O?void 0:O.document);D.dialog&&e&&!IT(D.dialog,e)&&D.dialog.focus()})),W=YS((e=>{e.target===e.currentTarget&&(null==u||u(e),!0===l&&x())})),H=YS((e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&D.isTopModal()&&(null==h||h(e),e.defaultPrevented||x())})),K=(0,r.useRef)(),G=(0,r.useRef)();if(!A)return null;const Q=Object.assign({role:i,ref:D.setDialogRef,"aria-modal":"dialog"===i||void 0},R,{style:o,className:s,tabIndex:-1});let Y=_?_(Q):(0,CS.jsx)("div",Object.assign({},Q,{children:r.cloneElement(a,{role:"document"})}));Y=BT(d,f,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:k,onExiting:I,onExited:function(){F(!0),null==T||T(...arguments)},onEnter:N,onEntering:L,onEntered:P,children:Y});let J=null;return l&&(J=w({ref:D.setBackdropRef,onClick:W}),J=BT(p,m,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:J})),(0,CS.jsx)(CS.Fragment,{children:kS.createPortal((0,CS.jsxs)(CS.Fragment,{children:[J,Y]}),A)})}));WT.displayName="Modal";const HT=Object.assign(WT,{Manager:LT});function KT(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const GT=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",QT=".sticky-top",YT=".navbar-toggler";class JT extends LT{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,Mx(t,{[e]:"".concat(parseFloat(Mx(t,e))+n,"px")})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Mx(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";eT(t,GT).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),eT(t,QT).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),eT(t,YT).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=KT(n.className,r):n.setAttribute("class",KT(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";eT(t,GT).forEach((e=>this.restore(i,e))),eT(t,QT).forEach((e=>this.restore(s,e))),eT(t,YT).forEach((e=>this.restore(s,e)))}}let $T;const XT=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=tx(r,"modal-body"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));XT.displayName="ModalBody";const ZT=XT,eI=r.createContext({onHide(){}}),tI=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:s,size:o,fullscreen:a,children:l,scrollable:c,...u}=e;n=tx(n,"modal");const h="".concat(n,"-dialog"),d="string"===typeof a?"".concat(n,"-fullscreen-").concat(a):"".concat(n,"-fullscreen");return(0,CS.jsx)("div",{...u,ref:t,className:FS()(h,r,o&&"".concat(n,"-").concat(o),s&&"".concat(h,"-centered"),c&&"".concat(h,"-scrollable"),a&&d),children:(0,CS.jsx)("div",{className:FS()("".concat(n,"-content"),i),children:l})})}));tI.displayName="ModalDialog";const nI=tI,rI=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=tx(r,"modal-footer"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));rI.displayName="ModalFooter";const iI=rI,sI=r.forwardRef(((e,t)=>{let{closeLabel:n="Close",closeVariant:i,closeButton:s=!1,onHide:o,children:a,...l}=e;const c=(0,r.useContext)(eI),u=YS((()=>{null==c||c.onHide(),null==o||o()}));return(0,CS.jsxs)("div",{ref:t,...l,children:[a,s&&(0,CS.jsx)(sk,{"aria-label":n,variant:i,onClick:u})]})})),oI=sI,aI=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:s=!1,...o}=e;return n=tx(n,"modal-header"),(0,CS.jsx)(oI,{ref:t,...o,className:FS()(r,n),closeLabel:i,closeButton:s})}));aI.displayName="ModalHeader";const lI=aI,cI=ix("h4"),uI=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=cI,...s}=e;return r=tx(r,"modal-title"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));uI.displayName="ModalTitle";const hI=uI;function dI(e){return(0,CS.jsx)(ek,{...e,timeout:null})}function fI(e){return(0,CS.jsx)(ek,{...e,timeout:null})}const pI=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,style:s,dialogClassName:o,contentClassName:a,children:l,dialogAs:c=nI,"data-bs-theme":u,"aria-labelledby":h,"aria-describedby":d,"aria-label":f,show:p=!1,animation:m=!0,backdrop:g=!0,keyboard:v=!0,onEscapeKeyDown:y,onShow:b,onHide:_,container:w,autoFocus:E=!0,enforceFocus:C=!0,restoreFocus:S=!0,restoreFocusOptions:x,onEntered:k,onExit:T,onExiting:I,onEnter:N,onEntering:L,onExited:P,backdropClassName:R,manager:O,...A}=e;const[D,M]=(0,r.useState)({}),[j,U]=(0,r.useState)(!1),F=(0,r.useRef)(!1),B=(0,r.useRef)(!1),V=(0,r.useRef)(null),[z,q]=(0,r.useState)(null),W=Yx(t,q),H=YS(_),K=function(){const{dir:e}=(0,r.useContext)(XS);return"rtl"===e}();n=tx(n,"modal");const G=(0,r.useMemo)((()=>({onHide:H})),[H]);function Q(){return O||function(e){return $T||($T=new JT(e)),$T}({isRTL:K})}function Y(e){if(!jx)return;const t=Q().getScrollbarWidth()>0,n=e.scrollHeight>Lx(e).documentElement.clientHeight;M({paddingRight:t&&!n?xT():void 0,paddingLeft:!t&&n?xT():void 0})}const J=YS((()=>{z&&Y(z.dialog)}));kT((()=>{zx(window,"resize",J),null==V.current||V.current()}));const $=()=>{F.current=!0},X=e=>{F.current&&z&&e.target===z.dialog&&(B.current=!0),F.current=!1},Z=()=>{U(!0),V.current=Hx(z.dialog,(()=>{U(!1)}))},ee=e=>{"static"!==g?B.current||e.target!==e.currentTarget?B.current=!1:null==_||_():(e=>{e.target===e.currentTarget&&Z()})(e)},te=(0,r.useCallback)((e=>(0,CS.jsx)("div",{...e,className:FS()("".concat(n,"-backdrop"),R,!m&&"show")})),[m,R,n]),ne={...s,...D};ne.display="block";return(0,CS.jsx)(eI.Provider,{value:G,children:(0,CS.jsx)(HT,{show:p,ref:W,backdrop:g,container:w,keyboard:!0,autoFocus:E,enforceFocus:C,restoreFocus:S,restoreFocusOptions:x,onEscapeKeyDown:e=>{v?null==y||y(e):(e.preventDefault(),"static"===g&&Z())},onShow:b,onHide:_,onEnter:(e,t)=>{e&&Y(e),null==N||N(e,t)},onEntering:(e,t)=>{null==L||L(e,t),Vx(window,"resize",J)},onEntered:k,onExit:e=>{null==V.current||V.current(),null==T||T(e)},onExiting:I,onExited:e=>{e&&(e.style.display=""),null==P||P(e),zx(window,"resize",J)},manager:Q(),transition:m?dI:void 0,backdropTransition:m?fI:void 0,renderBackdrop:te,renderDialog:e=>(0,CS.jsx)("div",{role:"dialog",...e,style:ne,className:FS()(i,n,j&&"".concat(n,"-static"),!m&&"show"),onClick:g?ee:void 0,onMouseUp:X,"data-bs-theme":u,"aria-label":f,"aria-labelledby":h,"aria-describedby":d,children:(0,CS.jsx)(c,{...A,onMouseDown:$,className:o,contentClassName:a,children:l})})})})}));pI.displayName="Modal";const mI=Object.assign(pI,{Body:ZT,Header:lI,Title:hI,Footer:iI,Dialog:nI,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),gI=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=tx(r,"card-body"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));gI.displayName="CardBody";const vI=gI,yI=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=tx(r,"card-footer"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));yI.displayName="CardFooter";const bI=yI,_I=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,as:s="div",...o}=e;const a=tx(n,"card-header"),l=(0,r.useMemo)((()=>({cardHeaderBsPrefix:a})),[a]);return(0,CS.jsx)(vT.Provider,{value:l,children:(0,CS.jsx)(s,{ref:t,...o,className:FS()(i,a)})})}));_I.displayName="CardHeader";const wI=_I,EI=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:s="img",...o}=e;const a=tx(n,"card-img");return(0,CS.jsx)(s,{ref:t,className:FS()(i?"".concat(a,"-").concat(i):a,r),...o})}));EI.displayName="CardImg";const CI=EI,SI=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=tx(r,"card-img-overlay"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));SI.displayName="CardImgOverlay";const xI=SI,kI=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...s}=e;return r=tx(r,"card-link"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));kI.displayName="CardLink";const TI=kI,II=ix("h6"),NI=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=II,...s}=e;return r=tx(r,"card-subtitle"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));NI.displayName="CardSubtitle";const LI=NI,PI=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...s}=e;return r=tx(r,"card-text"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));PI.displayName="CardText";const RI=PI,OI=ix("h5"),AI=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=OI,...s}=e;return r=tx(r,"card-title"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));AI.displayName="CardTitle";const DI=AI,MI=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:s,border:o,body:a=!1,children:l,as:c="div",...u}=e;const h=tx(n,"card");return(0,CS.jsx)(c,{ref:t,...u,className:FS()(r,h,i&&"bg-".concat(i),s&&"text-".concat(s),o&&"border-".concat(o)),children:a?(0,CS.jsx)(vI,{children:l}):l})}));MI.displayName="Card";const jI=Object.assign(MI,{Img:CI,Title:DI,Subtitle:LI,Body:vI,Link:TI,Text:RI,Header:wI,Footer:bI,ImgOverlay:xI}),UI={type:nk().string,tooltip:nk().bool,as:nk().elementType},FI=r.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:s=!1,...o}=e;return(0,CS.jsx)(n,{...o,ref:t,className:FS()(r,"".concat(i,"-").concat(s?"tooltip":"feedback"))})}));FI.displayName="Feedback",FI.propTypes=UI;const BI=FI,VI=r.createContext({}),zI=r.forwardRef(((e,t)=>{let{id:n,bsPrefix:i,className:s,type:o="checkbox",isValid:a=!1,isInvalid:l=!1,as:c="input",...u}=e;const{controlId:h}=(0,r.useContext)(VI);return i=tx(i,"form-check-input"),(0,CS.jsx)(c,{...u,ref:t,type:o,id:n||h,className:FS()(s,i,a&&"is-valid",l&&"is-invalid")})}));zI.displayName="FormCheckInput";const qI=zI,WI=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,htmlFor:s,...o}=e;const{controlId:a}=(0,r.useContext)(VI);return n=tx(n,"form-check-label"),(0,CS.jsx)("label",{...o,ref:t,htmlFor:s||a,className:FS()(i,n)})}));WI.displayName="FormCheckLabel";const HI=WI;const KI=r.forwardRef(((e,t)=>{let{id:n,bsPrefix:i,bsSwitchPrefix:s,inline:o=!1,reverse:a=!1,disabled:l=!1,isValid:c=!1,isInvalid:u=!1,feedbackTooltip:h=!1,feedback:d,feedbackType:f,className:p,style:m,title:g="",type:v="checkbox",label:y,children:b,as:_="input",...w}=e;i=tx(i,"form-check"),s=tx(s,"form-switch");const{controlId:E}=(0,r.useContext)(VI),C=(0,r.useMemo)((()=>({controlId:n||E})),[E,n]),S=!b&&null!=y&&!1!==y||function(e,t){return r.Children.toArray(e).some((e=>r.isValidElement(e)&&e.type===t))}(b,HI),x=(0,CS.jsx)(qI,{...w,type:"switch"===v?"checkbox":v,ref:t,isValid:c,isInvalid:u,disabled:l,as:_});return(0,CS.jsx)(VI.Provider,{value:C,children:(0,CS.jsx)("div",{style:m,className:FS()(p,S&&i,o&&"".concat(i,"-inline"),a&&"".concat(i,"-reverse"),"switch"===v&&s),children:b||(0,CS.jsxs)(CS.Fragment,{children:[x,S&&(0,CS.jsx)(HI,{title:g,children:y}),d&&(0,CS.jsx)(BI,{type:f,tooltip:h,children:d})]})})})}));KI.displayName="FormCheck";const GI=Object.assign(KI,{Input:qI,Label:HI});n(440);const QI=r.forwardRef(((e,t)=>{let{bsPrefix:n,type:i,size:s,htmlSize:o,id:a,className:l,isValid:c=!1,isInvalid:u=!1,plaintext:h,readOnly:d,as:f="input",...p}=e;const{controlId:m}=(0,r.useContext)(VI);return n=tx(n,"form-control"),(0,CS.jsx)(f,{...p,type:i,size:o,ref:t,readOnly:d,id:a||m,className:FS()(l,h?"".concat(n,"-plaintext"):n,s&&"".concat(n,"-").concat(s),"color"===i&&"".concat(n,"-color"),c&&"is-valid",u&&"is-invalid")})}));QI.displayName="FormControl";const YI=Object.assign(QI,{Feedback:BI}),JI=r.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...s}=e;return r=tx(r,"form-floating"),(0,CS.jsx)(i,{ref:t,className:FS()(n,r),...s})}));JI.displayName="FormFloating";const $I=JI,XI=r.forwardRef(((e,t)=>{let{controlId:n,as:i="div",...s}=e;const o=(0,r.useMemo)((()=>({controlId:n})),[n]);return(0,CS.jsx)(VI.Provider,{value:o,children:(0,CS.jsx)(i,{...s,ref:t})})}));XI.displayName="FormGroup";const ZI=XI,eN=r.forwardRef(((e,t)=>{let{as:n="label",bsPrefix:i,column:s=!1,visuallyHidden:o=!1,className:a,htmlFor:l,...c}=e;const{controlId:u}=(0,r.useContext)(VI);i=tx(i,"form-label");let h="col-form-label";"string"===typeof s&&(h="".concat(h," ").concat(h,"-").concat(s));const d=FS()(a,i,o&&"visually-hidden",s&&h);return l=l||u,s?(0,CS.jsx)(fk,{ref:t,as:"label",className:d,htmlFor:l,...c}):(0,CS.jsx)(n,{ref:t,className:d,htmlFor:l,...c})}));eN.displayName="FormLabel";const tN=eN,nN=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:i,id:s,...o}=e;const{controlId:a}=(0,r.useContext)(VI);return n=tx(n,"form-range"),(0,CS.jsx)("input",{...o,type:"range",ref:t,className:FS()(i,n),id:s||a})}));nN.displayName="FormRange";const rN=nN,iN=r.forwardRef(((e,t)=>{let{bsPrefix:n,size:i,htmlSize:s,className:o,isValid:a=!1,isInvalid:l=!1,id:c,...u}=e;const{controlId:h}=(0,r.useContext)(VI);return n=tx(n,"form-select"),(0,CS.jsx)("select",{...u,size:s,ref:t,className:FS()(o,n,i&&"".concat(n,"-").concat(i),a&&"is-valid",l&&"is-invalid"),id:c||h})}));iN.displayName="FormSelect";const sN=iN,oN=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:s,...o}=e;return n=tx(n,"form-text"),(0,CS.jsx)(i,{...o,ref:t,className:FS()(r,n,s&&"text-muted")})}));oN.displayName="FormText";const aN=oN,lN=r.forwardRef(((e,t)=>(0,CS.jsx)(GI,{...e,ref:t,type:"switch"})));lN.displayName="Switch";const cN=Object.assign(lN,{Input:GI.Input,Label:GI.Label}),uN=r.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:s,label:o,...a}=e;return n=tx(n,"form-floating"),(0,CS.jsxs)(ZI,{ref:t,className:FS()(r,n),controlId:s,...a,children:[i,(0,CS.jsx)("label",{htmlFor:s,children:o})]})}));uN.displayName="FloatingLabel";const hN=uN,dN={_ref:nk().any,validated:nk().bool,as:nk().elementType},fN=r.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...s}=e;return(0,CS.jsx)(i,{...s,ref:t,className:FS()(n,r&&"was-validated")})}));fN.displayName="Form",fN.propTypes=dN;const pN=Object.assign(fN,{Group:ZI,Control:YI,Floating:$I,Check:GI,Switch:cN,Label:tN,Text:aN,Range:rN,Select:sN,FloatingLabel:hN});function mN(){const[e,t]=(0,r.useState)({username:"",age:"",address:"",email:"",phoneNumber:"",bio:""}),[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)([]),[a,l]=(0,r.useState)("notifications"),[c,u]=(0,r.useState)([]),[h,d]=(0,r.useState)([]),[f,p]=(0,r.useState)("#left-tab"),[m,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1);(0,r.useEffect)((()=>{const e=Ns().currentUser.uid;$E(eE(rE(),"profiles",e)).then((e=>{if(e.exists()){t(e.data());const n=Object.values(e.data()).some((e=>""===e));g(!n)}})).catch((e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es du profil:",e)}));(async()=>{const e=rE(),t=Ns().currentUser.uid,r=jE(Zw(e,"ads"),FE("userId","==",t)),s=(await ZE(r)).docs.map((e=>({...e.data(),id:e.id})));i(s),console.log("\xc9tat myAds apr\xe8s mise \xe0 jour:",n)})();(async()=>{const e=rE(),t=Ns().currentUser.uid,n=jE(Zw(e,"demandes"),FE("userId","==",t)),r=(await ZE(n)).docs.map((e=>({...e.data(),id:e.id})));u(r);(async()=>{const t=[];for(const n of r){const r=eE(e,"ads",n.adId),i=await $E(r);i.exists()&&t.push({...i.data(),id:i.id})}o(t)})()})();(async()=>{try{const e=rE(),t=Ns().currentUser.uid,n=jE(Zw(e,"ads"),FE("userId","==",t)),r=(await ZE(n)).docs.map((e=>({id:e.id,...e.data()}))),i=Zw(e,"demandes"),s=(await ZE(i)).docs.map((e=>({...e.data(),id:e.id}))),o=s.filter((e=>r.find((t=>t.id===e.adId))));d(o)}catch(Ys){console.error("Erreur lors de la r\xe9cup\xe9ration des demandes:",Ys)}})()}),[]),(0,r.useEffect)((()=>{m||y(!0)}),[m]);const b=()=>y(!1),_=n=>{t({...e,[n.target.id]:n.target.value})};return(0,CS.jsxs)("div",{children:[(0,CS.jsx)("h2",{className:"text-center mb-4 text-light",children:"Page de profil"}),(0,CS.jsxs)(mI,{show:!m&&v,onHide:b,children:[(0,CS.jsx)(mI.Header,{closeButton:!0,children:(0,CS.jsx)(mI.Title,{children:"Veuillez compl\xe9ter votre profil"})}),(0,CS.jsx)(mI.Body,{children:(0,CS.jsx)(ak,{variant:"warning",children:"Veuillez renseigner vos informations pour acc\xe9der \xe0 toutes les fonctionnalit\xe9s du site."})}),(0,CS.jsx)(mI.Footer,{children:(0,CS.jsx)(mk,{variant:"primary",onClick:()=>{b(),p("#right-tab")},children:"Compl\xe9ter mon profil"})})]}),(0,CS.jsxs)(CT,{variant:"tabs",activeKey:f,onSelect:e=>p(e),children:[(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"#left-tab",children:"Annonces"})}),(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"#right-tab",children:"Page de profil"})})]}),(0,CS.jsx)(Hk,{id:"left-right-tab-container",activeKey:f,children:(0,CS.jsxs)(Gk,{children:[(0,CS.jsx)(Yk,{eventKey:"#left-tab",children:(0,CS.jsxs)(ck,{className:"py-4 bg-white rounded shadow",children:[(0,CS.jsx)("h2",{className:"mb-4",children:"Gestion des annonces et notifications"}),(0,CS.jsxs)(Xk.Container,{defaultActiveKey:"notifications",children:[(0,CS.jsxs)(CT,{variant:"pills",className:"justify-content-center mt-4",children:[(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"notifications",children:"Notifications"})}),(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"appliedAds",children:"Mes demandes"})}),(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"createdAds",children:"Mes annonces"})})]}),(0,CS.jsxs)(Gk,{children:[(0,CS.jsxs)(Xk.Pane,{eventKey:"notifications",children:[(0,CS.jsx)("h3",{children:"Mes notifications"}),(0,CS.jsx)("div",{className:"row",children:h.map((e=>{const t=n.find((t=>t.id===e.adId));let r="";return 1===e.etat?r="bg-success text-white":2===e.etat?r="bg-danger text-white":0===e.etat&&(r="bg-warning text-dark"),(0,CS.jsx)("div",{className:"col-md-4 mb-4",children:(0,CS.jsx)(jI,{className:"h-100 ".concat(r),children:(0,CS.jsxs)(jI.Body,{className:"d-flex flex-column justify-content-center",children:[(0,CS.jsxs)(jI.Text,{children:[(0,CS.jsx)("h3",{children:"Vous avez une nouvelle notification !"}),"Date: ",e.date,(0,CS.jsx)("br",{}),"Heure: ",e.heure,(0,CS.jsx)("br",{}),"Phone: ",e.phone,(0,CS.jsx)("br",{}),"Email: ",e.email,(0,CS.jsx)("br",{}),"Description: ",e.description]}),t&&(0,CS.jsxs)(jI.Text,{children:[(0,CS.jsx)("h3",{children:"Pour votre annonce:"}),"Lieu: ",t.location,(0,CS.jsx)("br",{}),"Description: ",t.description]}),(0,CS.jsxs)("div",{className:"d-flex justify-content-end",children:[(0,CS.jsx)(mk,{variant:"success",onClick:()=>(async e=>{const t=eE(rE(),"demandes",e);await eC(t,{etat:1}),console.log("Demande accept\xe9e: ".concat(e)),window.location.reload()})(e.id),children:"Accepter"}),(0,CS.jsx)(mk,{variant:"danger",className:"ml-2",onClick:()=>(async e=>{const t=eE(rE(),"demandes",e);await eC(t,{etat:2}),console.log("Demande refus\xe9e: ".concat(e)),window.location.reload()})(e.id),children:"Refuser"})]})]})})},e.id)}))})]}),(0,CS.jsxs)(Xk.Pane,{eventKey:"appliedAds",children:[(0,CS.jsx)("h3",{children:"Mes demandes"}),(0,CS.jsx)("div",{className:"row",children:s.map((e=>{let t="";return c.forEach((n=>{n.adId===e.id&&(1===n.etat?t="bg-success text-white":2===n.etat?t="bg-danger text-white":0===n.etat&&(t="bg-warning text-dark"))})),(0,CS.jsx)("div",{className:"col-md-4 mb-4",children:(0,CS.jsxs)(jI,{className:"h-100 ".concat(t),children:[e.photoUrl&&(0,CS.jsx)(jI.Img,{variant:"bottom",src:e.photoUrl,className:"img-fluid",style:{objectFit:"cover",height:"200px"}}),(0,CS.jsxs)(jI.Body,{className:"d-flex flex-column justify-content-center",children:[(0,CS.jsxs)(jI.Text,{children:[(0,CS.jsx)("h3",{children:"Pour l'annonce"}),"Lieu: ",e.location,(0,CS.jsx)("br",{}),"Description: ",e.description]}),c.map((t=>{if(t.adId===e.id){let e="";return 1===t.etat?e="Statut : Demande accept\xe9e par l'annonceur !":2===t.etat?e="Statut : Demande refus\xe9e":0===t.etat&&(e="Statut : En attente"),(0,CS.jsxs)("div",{children:[(0,CS.jsxs)(jI.Text,{children:[(0,CS.jsx)("h3",{children:"Ma demande"}),"Date de la demande: ",t.date,(0,CS.jsx)("br",{}),"Heure: ",t.heure,(0,CS.jsx)("br",{}),"Description: ",t.description,(0,CS.jsx)("br",{}),"Email: ",t.email,(0,CS.jsx)("br",{}),"Phone: ",t.phone,(0,CS.jsx)("br",{}),(0,CS.jsx)("br",{}),(0,CS.jsx)("small",{children:e})]}),(0,CS.jsx)("div",{className:"d-flex justify-content-end",children:(0,CS.jsx)(mk,{variant:"danger",className:"ml-2",onClick:()=>(async e=>{const t=eE(rE(),"demandes",e);await tC(t),console.log("Demande supprim\xe9e: ".concat(e)),window.location.reload()})(t.id),children:"Supprimer"})})]},t.id)}return null}))]})]})},e.id)}))})]}),(0,CS.jsxs)(Xk.Pane,{eventKey:"createdAds",children:[(0,CS.jsx)("h3",{children:"Mes annonces"}),(0,CS.jsx)("div",{className:"row",children:n.map((e=>(0,CS.jsx)("div",{className:"col-md-4 mb-4",children:(0,CS.jsxs)(jI,{className:"h-100",children:[e.photoUrl&&(0,CS.jsx)(jI.Img,{variant:"bottom",src:e.photoUrl,className:"img-fluid",style:{objectFit:"cover",height:"200px"}}),(0,CS.jsxs)(jI.Body,{className:"d-flex flex-column justify-content-center",children:[(0,CS.jsxs)(jI.Text,{children:["Lieu: ",e.location,(0,CS.jsx)("br",{}),"Description: ",e.description]}),(0,CS.jsx)("div",{className:"d-flex justify-content-end",children:(0,CS.jsx)(mk,{variant:"danger",className:"ml-2",onClick:()=>(async e=>{const t=eE(rE(),"ads",e);await tC(t),console.log("Annonce supprim\xe9e: ".concat(e)),window.location.reload()})(e.id),children:"Supprimer"})})]})]})},e.id)))})]})]})]})]})}),(0,CS.jsx)(Yk,{eventKey:"#right-tab",children:(0,CS.jsxs)(ck,{className:"py-4 bg-white rounded shadow",children:[(0,CS.jsx)("h2",{className:"mb-4",children:"Votre profil"}),(0,CS.jsxs)(pN,{onSubmit:async t=>{t.preventDefault();const n=Ns().currentUser.uid,r=eE(rE(),"profiles",n);try{await function(e,t,n){e=Gw(e,$w);const r=Gw(e.firestore,nE),i=HE(e.converter,t,n);return rC(r,[vE(gE(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Gv.none())])}(r,e),alert("Informations enregistr\xe9es avec succ\xe8s !"),window.location.reload()}catch(Ys){console.error("Erreur lors de l'enregistrement des informations :",Ys),alert("Une erreur est survenue lors de l'enregistrement des informations.")}},children:[(0,CS.jsxs)(pN.Group,{className:"mb-3",controlId:"username",children:[(0,CS.jsx)(pN.Label,{children:"Nom d'utilisateur"}),(0,CS.jsx)(pN.Control,{type:"text",name:"username",value:e.username,onChange:_})]}),(0,CS.jsxs)(pN.Group,{className:"mb-3",controlId:"age",children:[(0,CS.jsx)(pN.Label,{children:"\xc2ge"}),(0,CS.jsx)(pN.Control,{type:"number",name:"age",value:e.age,onChange:_})]}),(0,CS.jsxs)(pN.Group,{className:"mb-3",controlId:"address",children:[(0,CS.jsx)(pN.Label,{children:"Ma ville et mon adresse"}),(0,CS.jsx)(pN.Control,{type:"text",name:"address",value:e.address,onChange:_})]}),(0,CS.jsxs)(pN.Group,{className:"mb-3",controlId:"email",children:[(0,CS.jsx)(pN.Label,{children:"Email"}),(0,CS.jsx)(pN.Control,{type:"email",name:"email",value:e.email,onChange:_})]}),(0,CS.jsxs)(pN.Group,{className:"mb-3",controlId:"phoneNumber",children:[(0,CS.jsx)(pN.Label,{children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,CS.jsx)(pN.Control,{type:"tel",name:"phoneNumber",value:e.phoneNumber,onChange:_})]}),(0,CS.jsxs)(pN.Group,{className:"mb-3",controlId:"bio",children:[(0,CS.jsx)(pN.Label,{children:"Biographie"}),(0,CS.jsx)(pN.Control,{as:"textarea",rows:3,name:"bio",value:e.bio,onChange:_})]}),(0,CS.jsx)(mk,{variant:"primary",type:"submit",children:"Enregistrer"})]})]})})]})})]})}const gN=e=>{let{show:t,handleClose:n,handleSubmit:r,email:i,setEmail:s,phone:o,setPhone:a,date:l,setDate:c,description:u,setDescription:h,heure:d,setHeure:f}=e;return(0,CS.jsxs)(mI,{show:t,onHide:n,children:[(0,CS.jsx)(mI.Header,{closeButton:!0,children:(0,CS.jsx)(mI.Title,{children:"Demande d'information"})}),(0,CS.jsx)(mI.Body,{children:(0,CS.jsxs)(pN,{children:[(0,CS.jsxs)(pN.Group,{controlId:"email",children:[(0,CS.jsx)(pN.Label,{children:"Email"}),(0,CS.jsx)(pN.Control,{type:"email",placeholder:"Entrer votre email",value:i,onChange:e=>s(e.target.value)})]}),(0,CS.jsxs)(pN.Group,{controlId:"phone",children:[(0,CS.jsx)(pN.Label,{children:"Num\xe9ro de t\xe9l\xe9phone"}),(0,CS.jsx)(pN.Control,{type:"tel",placeholder:"Entrer votre num\xe9ro de t\xe9l\xe9phone",value:o,onChange:e=>a(e.target.value)})]}),(0,CS.jsxs)(pN.Group,{controlId:"date",children:[(0,CS.jsx)(pN.Label,{children:"Date de disponibilit\xe9"}),(0,CS.jsx)(pN.Control,{type:"date",value:l,onChange:e=>c(e.target.value)})]}),(0,CS.jsxs)(pN.Group,{controlId:"description",children:[(0,CS.jsx)(pN.Label,{children:"Description (100 caract\xe8res max)"}),(0,CS.jsx)(pN.Control,{type:"text",placeholder:"Entrer une description",value:u,onChange:e=>h(e.target.value),maxLength:100})]}),(0,CS.jsxs)(pN.Group,{controlId:"heure",children:[(0,CS.jsx)(pN.Label,{children:"Heure"}),(0,CS.jsx)(pN.Control,{type:"time",value:d,onChange:e=>f(e.target.value)})]})]})}),(0,CS.jsxs)(mI.Footer,{children:[(0,CS.jsx)(mk,{variant:"secondary",onClick:n,children:"Fermer"}),(0,CS.jsx)(mk,{variant:"primary",onClick:()=>r(i,o,l,u,d),children:"Envoyer"})]})]})},vN=()=>{var e;const[t,n]=(0,r.useState)([]),[i,s]=(0,r.useState)("material"),[o,a]=(0,r.useState)(!1),[l,c]=(0,r.useState)(null),[u,h]=(0,r.useState)(""),[d,f]=(0,r.useState)(""),[p,m]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[y,b]=(0,r.useState)(""),[_,w]=(0,r.useState)(""),[E,C]=(0,r.useState)(""),S=null===(e=Ns().currentUser)||void 0===e?void 0:e.uid;(0,r.useEffect)((()=>{(async()=>{const e=Zw(rE(),"ads"),t=(await ZE(e)).docs.map((e=>({...e.data(),id:e.id})));n(t)})()}),[]);const x=t.filter((e=>e.type===i&&e.description.toLowerCase().includes(_.toLowerCase())&&e.location.toLowerCase().includes(E.toLowerCase()))),k=()=>{a(!1)};return console.log("Valeur de filteredAds:",x),(0,CS.jsxs)("div",{className:"container mt-4",children:[(0,CS.jsx)("h2",{className:"text-center mb-4 text-light",children:"Rechercher une annonce"}),(0,CS.jsxs)(pN,{inline:!0,className:"mb-4",children:[(0,CS.jsx)(YI,{type:"text",placeholder:"Rechercher par localisation",className:"mx-auto mr-sm-2",onChange:e=>C(e.target.value),style:{maxWidth:"500px",marginBottom:"10px"}}),(0,CS.jsx)(YI,{type:"text",placeholder:"Rechercher par description",className:"mx-auto mr-sm-2",onChange:e=>w(e.target.value),style:{maxWidth:"500px",marginBottom:"50px"}})]}),(0,CS.jsxs)(CT,{variant:"pills",activeKey:i,onSelect:e=>s(e),children:[(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"material",href:"#material",children:"Pr\xeate moi ton Mat\xe9riel"})}),(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"knowledge",href:"#knowledge",children:"Pr\xeate moi ton Savoir"})})]}),(0,CS.jsx)("div",{className:"row mt-4",children:x.map((e=>(0,CS.jsx)("div",{className:"col-md-4 mb-4",children:(0,CS.jsxs)(jI,{className:"h-100",children:[e.photoUrl&&(0,CS.jsx)(jI.Img,{variant:"top",src:e.photoUrl,className:"img-fluid",style:{objectFit:"cover",height:"200px"}}),(0,CS.jsxs)(jI.Body,{className:"d-flex flex-column justify-content-center",children:[(0,CS.jsx)(jI.Title,{children:e.title}),(0,CS.jsxs)(jI.Text,{children:["Lieu: ",e.location,(0,CS.jsx)("br",{}),"Description: ",e.description]}),e.userId!==S&&(0,CS.jsx)(mk,{onClick:()=>{return t=e.id,c(t),void a(!0);var t},children:"Faire une demande"})]})]})},e.id)))}),(0,CS.jsx)(gN,{show:o,handleClose:k,handleSubmit:async()=>{if(console.log("Email:",u),console.log("Phone:",d),console.log("Date:",p),console.log("Description:",g),console.log("Heure:",y),!u.trim()||!d.trim()||!p.trim()||!g.trim()||!y.trim())return void alert("Veuillez remplir tous les champs requis.");const e=Zw(rE(),"demandes"),t=Ns().currentUser;t?(await nC(e,{adId:l,email:u,phone:d,date:p,description:g,heure:y,userId:t.uid,etat:0}),alert("Votre demande a \xe9t\xe9 soumise avec succ\xe8s"),k(),window.location.reload()):alert("Veuillez vous connecter pour soumettre une demande.")},email:u,setEmail:h,phone:d,setPhone:f,date:p,setDate:m,description:g,setDescription:v,heure:y,setHeure:b})]})},yN=()=>{const[e,t]=(0,r.useState)({photo:null,type:"",location:"",description:""}),[n,i]=(0,r.useState)(100),[s,o]=(0,r.useState)(""),a=n=>{const{name:r,value:i}=n.target;t({...e,[r]:i})};return(0,CS.jsx)(ck,{className:"mt-4",children:(0,CS.jsx)(hk,{className:"justify-content-center text-light",children:(0,CS.jsxs)(fk,{md:8,children:[(0,CS.jsx)("h2",{className:"text-center mb-4",children:"Publier une annonce"}),s&&(0,CS.jsx)(ak,{variant:"danger",className:"mb-3",children:s}),(0,CS.jsxs)(pN,{onSubmit:async t=>{var n,r;if(t.preventDefault(),e.type&&e.location&&e.description&&!(e.description.length>100))try{if(e.photo&&e.photo.name){const t=(n=ES,r="ads/"+e.photo.name,dS(n=dt(n),r)),i=await function(e,t,n){return lS(e=dt(e),t,n)}(t,e.photo),s=await function(e){return cS(e=dt(e))}(i.ref),o={...e,userId:Ns().currentUser.uid,photoUrl:s};delete o.photo;const a=Zw(wS,"ads");await nC(a,o)}else{const t={...e,userId:Ns().currentUser.uid},n=Zw(wS,"ads");await nC(n,t)}alert("Annonce publi\xe9e avec succ\xe8s !"),window.location.reload()}catch(Ys){console.error("Erreur lors de la publication de l'annonce :",Ys),alert("Une erreur est survenue lors de la publication de l'annonce.")}else alert("Veuillez remplir tous les champs requis et assurez-vous que la description ne d\xe9passe pas 100 caract\xe8res.")},children:[(0,CS.jsxs)(pN.Group,{controlId:"photo",className:"mb-3",children:[(0,CS.jsx)(pN.Label,{children:"Photo"}),(0,CS.jsx)(pN.Control,{type:"file",onChange:n=>{t({...e,photo:n.target.files[0]})}})]}),(0,CS.jsxs)(pN.Group,{controlId:"type",className:"mb-3",children:[(0,CS.jsx)(pN.Label,{children:"Type"}),(0,CS.jsx)(pN.Check,{type:"radio",label:"Pr\xeate moi ton mat\xe9riel",name:"type",value:"material",onChange:a}),(0,CS.jsx)(pN.Check,{type:"radio",label:"Pr\xeate moi ton savoir",name:"type",value:"knowledge",onChange:a})]}),(0,CS.jsxs)(pN.Group,{controlId:"location",className:"mb-3",children:[(0,CS.jsx)(pN.Label,{children:"Lieu"}),(0,CS.jsx)(pN.Control,{type:"text",name:"location",value:e.location,onChange:a})]}),(0,CS.jsxs)(pN.Group,{controlId:"description",className:"mb-3",children:[(0,CS.jsx)(pN.Label,{children:"Description"}),(0,CS.jsx)(pN.Control,{as:"textarea",rows:3,name:"description",value:e.description,onChange:n=>{const{name:r,value:s}=n.target,o=100-s.length;t({...e,[r]:s}),i(o)}}),(0,CS.jsxs)("p",{children:[n," caract\xe8res restants"]})]}),(0,CS.jsx)(mk,{variant:"primary",type:"submit",className:"mb-3",children:"Publier"})]})]})})})};var bN=function(e,t){return bN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},bN(e,t)};function _N(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}bN(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var wN=function(){return wN=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},wN.apply(this,arguments)};function EN(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}function CN(e,t,n,r){return new(n||(n=Promise))((function(i,s){function o(e){try{l(r.next(e))}catch(OO){s(OO)}}function a(e){try{l(r.throw(e))}catch(OO){s(OO)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,a)}l((r=r.apply(e,t||[])).next())}))}function SN(e,t){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(OO){s=[6,OO],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function xN(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var kN=function(e,t,n,r,i,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}},TN=xN(kN),IN=(0,r.createContext)(null);function NN(e,t,n,r){var i,s,o={};return i=e,s=function(e,i){var s=n[i];s!==t[i]&&(o[i]=s,e(r,s))},Object.keys(i).forEach((function(e){return s(i[e],e)})),o}function LN(e,t,n){var r,i,s,o=(r=n,i=function(n,r,i){return"function"===typeof e[i]&&n.push(google.maps.event.addListener(t,r,e[i])),n},s=[],Object.keys(r).reduce((function(e,t){return i(e,r[t],t)}),s));return o}function PN(e){google.maps.event.removeListener(e)}function RN(e){void 0===e&&(e=[]),e.forEach(PN)}function ON(e){var t=e.updaterMap,n=e.eventMap,r=e.prevProps,i=e.nextProps,s=e.instance,o=LN(i,s,n);return NN(t,r,i,s),o}var AN={onDblClick:"dblclick",onDragEnd:"dragend",onDragStart:"dragstart",onMapTypeIdChanged:"maptypeid_changed",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseDown:"mousedown",onMouseUp:"mouseup",onRightClick:"rightclick",onTilesLoaded:"tilesloaded",onBoundsChanged:"bounds_changed",onCenterChanged:"center_changed",onClick:"click",onDrag:"drag",onHeadingChanged:"heading_changed",onIdle:"idle",onProjectionChanged:"projection_changed",onResize:"resize",onTiltChanged:"tilt_changed",onZoomChanged:"zoom_changed"},DN={extraMapTypes:function(e,t){t.forEach((function(t,n){e.mapTypes.set(String(n),t)}))},center:function(e,t){e.setCenter(t)},clickableIcons:function(e,t){e.setClickableIcons(t)},heading:function(e,t){e.setHeading(t)},mapTypeId:function(e,t){e.setMapTypeId(t)},options:function(e,t){e.setOptions(t)},streetView:function(e,t){e.setStreetView(t)},tilt:function(e,t){e.setTilt(t)},zoom:function(e,t){e.setZoom(t)}};(0,r.memo)((function(e){var t=e.children,n=e.options,i=e.id,s=e.mapContainerStyle,o=e.mapContainerClassName,a=e.center,l=e.onClick,c=e.onDblClick,u=e.onDrag,h=e.onDragEnd,d=e.onDragStart,f=e.onMouseMove,p=e.onMouseOut,m=e.onMouseOver,g=e.onMouseDown,v=e.onMouseUp,y=e.onRightClick,b=e.onCenterChanged,_=e.onLoad,w=e.onUnmount,E=(0,r.useState)(null),C=E[0],S=E[1],x=(0,r.useRef)(null),k=(0,r.useState)(null),T=k[0],I=k[1],N=(0,r.useState)(null),L=N[0],P=N[1],R=(0,r.useState)(null),O=R[0],A=R[1],D=(0,r.useState)(null),M=D[0],j=D[1],U=(0,r.useState)(null),F=U[0],B=U[1],V=(0,r.useState)(null),z=V[0],q=V[1],W=(0,r.useState)(null),H=W[0],K=W[1],G=(0,r.useState)(null),Q=G[0],Y=G[1],J=(0,r.useState)(null),$=J[0],X=J[1],Z=(0,r.useState)(null),ee=Z[0],te=Z[1],ne=(0,r.useState)(null),re=ne[0],ie=ne[1],se=(0,r.useState)(null),oe=se[0],ae=se[1];return(0,r.useEffect)((function(){n&&null!==C&&C.setOptions(n)}),[C,n]),(0,r.useEffect)((function(){null!==C&&"undefined"!==typeof a&&C.setCenter(a)}),[C,a]),(0,r.useEffect)((function(){C&&c&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(C,"dblclick",c)))}),[c]),(0,r.useEffect)((function(){C&&h&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(C,"dragend",h)))}),[h]),(0,r.useEffect)((function(){C&&d&&(null!==M&&google.maps.event.removeListener(M),j(google.maps.event.addListener(C,"dragstart",d)))}),[d]),(0,r.useEffect)((function(){C&&g&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(C,"mousedown",g)))}),[g]),(0,r.useEffect)((function(){C&&f&&(null!==z&&google.maps.event.removeListener(z),q(google.maps.event.addListener(C,"mousemove",f)))}),[f]),(0,r.useEffect)((function(){C&&p&&(null!==H&&google.maps.event.removeListener(H),K(google.maps.event.addListener(C,"mouseout",p)))}),[p]),(0,r.useEffect)((function(){C&&m&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(C,"mouseover",m)))}),[m]),(0,r.useEffect)((function(){C&&v&&(null!==$&&google.maps.event.removeListener($),X(google.maps.event.addListener(C,"mouseup",v)))}),[v]),(0,r.useEffect)((function(){C&&y&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(C,"rightclick",y)))}),[y]),(0,r.useEffect)((function(){C&&l&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(C,"click",l)))}),[l]),(0,r.useEffect)((function(){C&&u&&(null!==oe&&google.maps.event.removeListener(oe),ae(google.maps.event.addListener(C,"drag",u)))}),[u]),(0,r.useEffect)((function(){C&&b&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(C,"center_changed",b)))}),[l]),(0,r.useEffect)((function(){var e=null===x.current?null:new google.maps.Map(x.current,n);return S(e),null!==e&&_&&_(e),function(){null!==e&&w&&w(e)}}),[]),(0,CS.jsx)("div",{id:i,ref:x,style:s,className:o,children:(0,CS.jsx)(IN.Provider,{value:C,children:null!==C?t:null})})}));var MN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={map:null},t.registeredEvents=[],t.mapRef=null,t.getInstance=function(){return null===t.mapRef?null:new google.maps.Map(t.mapRef,t.props.options)},t.panTo=function(e){var n=t.getInstance();n&&n.panTo(e)},t.setMapCallback=function(){null!==t.state.map&&t.props.onLoad&&t.props.onLoad(t.state.map)},t.getRef=function(e){t.mapRef=e},t}return _N(t,e),t.prototype.componentDidMount=function(){var e=this.getInstance();this.registeredEvents=ON({updaterMap:DN,eventMap:AN,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{map:e}}),this.setMapCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.map&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:DN,eventMap:AN,prevProps:e,nextProps:this.props,instance:this.state.map}))},t.prototype.componentWillUnmount=function(){null!==this.state.map&&(this.props.onUnmount&&this.props.onUnmount(this.state.map),RN(this.registeredEvents))},t.prototype.render=function(){return(0,CS.jsx)("div",{id:this.props.id,ref:this.getRef,style:this.props.mapContainerStyle,className:this.props.mapContainerClassName,children:(0,CS.jsx)(IN.Provider,{value:this.state.map,children:null!==this.state.map?this.props.children:null})})},t}(r.PureComponent),jN="undefined"!==typeof document;function UN(e){var t=e.url,n=e.id,r=e.nonce;return jN?new Promise((function(e,i){var s=document.getElementById(n),o=window;if(s){var a=s.getAttribute("data-state");if(s.src===t&&"error"!==a){if("ready"===a)return e(n);var l=o.initMap,c=s.onerror;return o.initMap=function(){l&&l(),e(n)},void(s.onerror=function(e){c&&c(e),i(e)})}s.remove()}var u=document.createElement("script");u.type="text/javascript",u.src=t,u.id=n,u.async=!0,u.nonce=r||"",u.onerror=function(e){u.setAttribute("data-state","error"),i(e)},o.initMap=function(){u.setAttribute("data-state","ready"),e(n)},document.head.appendChild(u)})).catch((function(e){throw console.error("injectScript error: ",e),e})):Promise.reject(new Error("document is undefined"))}function FN(e){var t=e.href;return!(!t||0!==t.indexOf("https://fonts.googleapis.com/css?family=Roboto")&&0!==t.indexOf("https://fonts.googleapis.com/css?family=Google+Sans+Text"))||("style"===e.tagName.toLowerCase()&&e.styleSheet&&e.styleSheet.cssText&&0===e.styleSheet.cssText.replace("\r\n","").indexOf(".gm-style")?(e.styleSheet.cssText="",!0):"style"===e.tagName.toLowerCase()&&e.innerHTML&&0===e.innerHTML.replace("\r\n","").indexOf(".gm-style")?(e.innerHTML="",!0):"style"===e.tagName.toLowerCase()&&!e.styleSheet&&!e.innerHTML)}function BN(){var e=document.getElementsByTagName("head")[0];if(e){var t=e.insertBefore.bind(e);e.insertBefore=function(n,r){return FN(n)||Reflect.apply(t,e,[n,r]),n};var n=e.appendChild.bind(e);e.appendChild=function(t){return FN(t)||Reflect.apply(n,e,[t]),t}}}function VN(e){var t=e.googleMapsApiKey,n=e.googleMapsClientId,r=e.version,i=void 0===r?"weekly":r,s=e.language,o=e.region,a=e.libraries,l=e.channel,c=e.mapIds,u=e.authReferrerPolicy,h=[];return TN(t&&n||!(t&&n),"You need to specify either googleMapsApiKey or googleMapsClientId for @react-google-maps/api load script to work. You cannot use both at the same time."),t?h.push("key=".concat(t)):n&&h.push("client=".concat(n)),i&&h.push("v=".concat(i)),s&&h.push("language=".concat(s)),o&&h.push("region=".concat(o)),a&&a.length&&h.push("libraries=".concat(a.sort().join(","))),l&&h.push("channel=".concat(l)),c&&c.length&&h.push("map_ids=".concat(c.join(","))),u&&h.push("auth_referrer_policy=".concat(u)),h.push("callback=initMap"),"https://maps.googleapis.com/maps/api/js?".concat(h.join("&"))}var zN=!1;function qN(){return(0,CS.jsx)("div",{children:"Loading..."})}var WN,HN={id:"script-loader",version:"weekly"},KN=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.check=(0,r.createRef)(),t.state={loaded:!1},t.cleanupCallback=function(){delete window.google.maps,t.injectScript()},t.isCleaningUp=function(){return CN(t,void 0,void 0,(function(){function e(e){if(zN){if(jN)var t=window.setInterval((function(){zN||(window.clearInterval(t),e())}),1)}else e()}return SN(this,(function(t){return[2,new Promise(e)]}))}))},t.cleanup=function(){zN=!0;var e=document.getElementById(t.props.id);e&&e.parentNode&&e.parentNode.removeChild(e),Array.prototype.slice.call(document.getElementsByTagName("script")).filter((function(e){return"string"===typeof e.src&&e.src.includes("maps.googleapis")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("link")).filter((function(e){return"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Google+Sans"===e.href})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)})),Array.prototype.slice.call(document.getElementsByTagName("style")).filter((function(e){return void 0!==e.innerText&&e.innerText.length>0&&e.innerText.includes(".gm-")})).forEach((function(e){e.parentNode&&e.parentNode.removeChild(e)}))},t.injectScript=function(){t.props.preventGoogleFontsLoading&&BN(),TN(!!t.props.id,'LoadScript requires "id" prop to be a string: %s',t.props.id),UN({id:t.props.id,nonce:t.props.nonce,url:VN(t.props)}).then((function(){t.props.onLoad&&t.props.onLoad(),t.setState((function(){return{loaded:!0}}))})).catch((function(e){t.props.onError&&t.props.onError(e),console.error("\n          There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(t.props.googleMapsApiKey||"-",") or Client ID (").concat(t.props.googleMapsClientId||"-",") to <LoadScript />\n          Otherwise it is a Network issue.\n        "))}))},t}return _N(t,e),t.prototype.componentDidMount=function(){if(jN){if(window.google&&window.google.maps&&!zN)return void console.error("google api is already presented");this.isCleaningUp().then(this.injectScript).catch((function(e){console.error("Error at injecting script after cleaning up: ",e)}))}},t.prototype.componentDidUpdate=function(e){this.props.libraries!==e.libraries&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),jN&&e.language!==this.props.language&&(this.cleanup(),this.setState((function(){return{loaded:!1}}),this.cleanupCallback))},t.prototype.componentWillUnmount=function(){var e=this;if(jN){this.cleanup();window.setTimeout((function(){e.check.current||(delete window.google,zN=!1)}),1),this.props.onUnmount&&this.props.onUnmount()}},t.prototype.render=function(){return(0,CS.jsxs)(CS.Fragment,{children:[(0,CS.jsx)("div",{ref:this.check}),this.state.loaded?this.props.children:this.props.loadingElement||(0,CS.jsx)(qN,{})]})},t.defaultProps=HN,t}(r.PureComponent);var GN=(0,CS.jsx)(qN,{});(0,r.memo)((function(e){var t=e.loadingElement,n=e.onLoad,i=e.onError,s=e.onUnmount,o=e.children,a=function(e){var t=e.id,n=void 0===t?HN.id:t,i=e.version,s=void 0===i?HN.version:i,o=e.nonce,a=e.googleMapsApiKey,l=e.googleMapsClientId,c=e.language,u=e.region,h=e.libraries,d=e.preventGoogleFontsLoading,f=e.channel,p=e.mapIds,m=e.authReferrerPolicy,g=(0,r.useRef)(!1),v=(0,r.useState)(!1),y=v[0],b=v[1],_=(0,r.useState)(void 0),w=_[0],E=_[1];(0,r.useEffect)((function(){return g.current=!0,function(){g.current=!1}}),[]),(0,r.useEffect)((function(){jN&&d&&BN()}),[d]),(0,r.useEffect)((function(){y&&TN(!!window.google,"useLoadScript was marked as loaded, but window.google is not present. Something went wrong.")}),[y]);var C=VN({version:s,googleMapsApiKey:a,googleMapsClientId:l,language:c,region:u,libraries:h,channel:f,mapIds:p,authReferrerPolicy:m});(0,r.useEffect)((function(){function e(){g.current&&(b(!0),WN=C)}jN&&(window.google&&window.google.maps&&WN===C?e():UN({id:n,url:C,nonce:o}).then(e).catch((function(e){g.current&&E(e),console.warn("\n        There has been an Error with loading Google Maps API script, please check that you provided correct google API key (".concat(a||"-",") or Client ID (").concat(l||"-",")\n        Otherwise it is a Network issue.\n      ")),console.error(e)})))}),[n,C,o]);var S=(0,r.useRef)();return(0,r.useEffect)((function(){S.current&&h!==S.current&&console.warn("Performance warning! LoadScript has been reloaded unintentionally! You should not pass `libraries` prop as new array. Please keep an array of libraries as static class property for Components and PureComponents, or just a const variable outside of component, or somewhere in config files or ENV variables"),S.current=h}),[h]),{isLoaded:y,loadError:w,url:C}}(EN(e,["loadingElement","onLoad","onError","onUnmount","children"])),l=a.isLoaded,c=a.loadError;return(0,r.useEffect)((function(){l&&"function"===typeof n&&n()}),[l,n]),(0,r.useEffect)((function(){c&&"function"===typeof i&&i(c)}),[c,i]),(0,r.useEffect)((function(){return function(){s&&s()}}),[s]),l?o:t||GN}));var QN;!function(e){e[e.INITIALIZED=0]="INITIALIZED",e[e.LOADING=1]="LOADING",e[e.SUCCESS=2]="SUCCESS",e[e.FAILURE=3]="FAILURE"}(QN||(QN={}));var YN={},JN={options:function(e,t){e.setOptions(t)}};(0,r.memo)((function(e){var t=e.options,n=e.onLoad,i=e.onUnmount,s=(0,r.useContext)(IN),o=(0,r.useState)(null),a=o[0],l=o[1];return(0,r.useEffect)((function(){null!==a&&a.setMap(s)}),[s]),(0,r.useEffect)((function(){t&&null!==a&&a.setOptions(t)}),[a,t]),(0,r.useEffect)((function(){var e=new google.maps.TrafficLayer(wN(wN({},t||{}),{map:s}));return l(e),n&&n(e),function(){null!==a&&(i&&i(a),a.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={trafficLayer:null},t.setTrafficLayerCallback=function(){null!==t.state.trafficLayer&&t.props.onLoad&&t.props.onLoad(t.state.trafficLayer)},t.registeredEvents=[],t}_N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TrafficLayer(wN(wN({},this.props.options||{}),{map:this.context}));this.registeredEvents=ON({updaterMap:JN,eventMap:YN,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{trafficLayer:e}}),this.setTrafficLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.trafficLayer&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:JN,eventMap:YN,prevProps:e,nextProps:this.props,instance:this.state.trafficLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.trafficLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.trafficLayer),RN(this.registeredEvents),this.state.trafficLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent);(0,r.memo)((function(e){var t=e.onLoad,n=e.onUnmount,i=(0,r.useContext)(IN),s=(0,r.useState)(null),o=s[0],a=s[1];return(0,r.useEffect)((function(){null!==o&&o.setMap(i)}),[i]),(0,r.useEffect)((function(){var e=new google.maps.BicyclingLayer;return a(e),e.setMap(i),t&&t(e),function(){null!==e&&(n&&n(e),e.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={bicyclingLayer:null},t.setBicyclingLayerCallback=function(){null!==t.state.bicyclingLayer&&(t.state.bicyclingLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.bicyclingLayer))},t}_N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.BicyclingLayer;this.setState((function(){return{bicyclingLayer:e}}),this.setBicyclingLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.bicyclingLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.bicyclingLayer),this.state.bicyclingLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent);(0,r.memo)((function(e){var t=e.onLoad,n=e.onUnmount,i=(0,r.useContext)(IN),s=(0,r.useState)(null),o=s[0],a=s[1];return(0,r.useEffect)((function(){null!==o&&o.setMap(i)}),[i]),(0,r.useEffect)((function(){var e=new google.maps.TransitLayer;return a(e),e.setMap(i),t&&t(e),function(){null!==o&&(n&&n(o),o.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={transitLayer:null},t.setTransitLayerCallback=function(){null!==t.state.transitLayer&&(t.state.transitLayer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.transitLayer))},t}_N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.TransitLayer;this.setState((function(){return{transitLayer:e}}),this.setTransitLayerCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.transitLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.transitLayer),this.state.transitLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent);var $N={onCircleComplete:"circlecomplete",onMarkerComplete:"markercomplete",onOverlayComplete:"overlaycomplete",onPolygonComplete:"polygoncomplete",onPolylineComplete:"polylinecomplete",onRectangleComplete:"rectanglecomplete"},XN={drawingMode:function(e,t){e.setDrawingMode(t)},options:function(e,t){e.setOptions(t)}};(0,r.memo)((function(e){var t=e.options,n=e.drawingMode,i=e.onCircleComplete,s=e.onMarkerComplete,o=e.onOverlayComplete,a=e.onPolygonComplete,l=e.onPolylineComplete,c=e.onRectangleComplete,u=e.onLoad,h=e.onUnmount,d=(0,r.useContext)(IN),f=(0,r.useState)(null),p=f[0],m=f[1],g=(0,r.useState)(null),v=g[0],y=g[1],b=(0,r.useState)(null),_=b[0],w=b[1],E=(0,r.useState)(null),C=E[0],S=E[1],x=(0,r.useState)(null),k=x[0],T=x[1],I=(0,r.useState)(null),N=I[0],L=I[1],P=(0,r.useState)(null),R=P[0],O=P[1];return(0,r.useEffect)((function(){null!==p&&p.setMap(d)}),[d]),(0,r.useEffect)((function(){t&&null!==p&&p.setOptions(t)}),[p,t]),(0,r.useEffect)((function(){null!==p&&p.setDrawingMode(null!==n&&void 0!==n?n:null)}),[p,n]),(0,r.useEffect)((function(){p&&i&&(null!==v&&google.maps.event.removeListener(v),y(google.maps.event.addListener(p,"circlecomplete",i)))}),[p,i]),(0,r.useEffect)((function(){p&&s&&(null!==_&&google.maps.event.removeListener(_),w(google.maps.event.addListener(p,"markercomplete",s)))}),[p,s]),(0,r.useEffect)((function(){p&&o&&(null!==C&&google.maps.event.removeListener(C),S(google.maps.event.addListener(p,"overlaycomplete",o)))}),[p,o]),(0,r.useEffect)((function(){p&&a&&(null!==k&&google.maps.event.removeListener(k),T(google.maps.event.addListener(p,"polygoncomplete",a)))}),[p,a]),(0,r.useEffect)((function(){p&&l&&(null!==N&&google.maps.event.removeListener(N),L(google.maps.event.addListener(p,"polylinecomplete",l)))}),[p,l]),(0,r.useEffect)((function(){p&&c&&(null!==R&&google.maps.event.removeListener(R),O(google.maps.event.addListener(p,"rectanglecomplete",c)))}),[p,c]),(0,r.useEffect)((function(){TN(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing);var e=new google.maps.drawing.DrawingManager(wN(wN({},t||{}),{map:d}));return n&&e.setDrawingMode(n),i&&y(google.maps.event.addListener(e,"circlecomplete",i)),s&&w(google.maps.event.addListener(e,"markercomplete",s)),o&&S(google.maps.event.addListener(e,"overlaycomplete",o)),a&&T(google.maps.event.addListener(e,"polygoncomplete",a)),l&&L(google.maps.event.addListener(e,"polylinecomplete",l)),c&&O(google.maps.event.addListener(e,"rectanglecomplete",c)),m(e),u&&u(e),function(){null!==p&&(v&&google.maps.event.removeListener(v),_&&google.maps.event.removeListener(_),C&&google.maps.event.removeListener(C),k&&google.maps.event.removeListener(k),N&&google.maps.event.removeListener(N),R&&google.maps.event.removeListener(R),h&&h(p),p.setMap(null))}}),[]),null})),function(e){function t(t){var n=e.call(this,t)||this;return n.registeredEvents=[],n.state={drawingManager:null},n.setDrawingManagerCallback=function(){null!==n.state.drawingManager&&n.props.onLoad&&n.props.onLoad(n.state.drawingManager)},TN(!!google.maps.drawing,"Did you include prop libraries={['drawing']} in the URL? %s",google.maps.drawing),n}_N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.drawing.DrawingManager(wN(wN({},this.props.options||{}),{map:this.context}));this.registeredEvents=ON({updaterMap:XN,eventMap:$N,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{drawingManager:e}}),this.setDrawingManagerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.drawingManager&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:XN,eventMap:$N,prevProps:e,nextProps:this.props,instance:this.state.drawingManager}))},t.prototype.componentWillUnmount=function(){null!==this.state.drawingManager&&(this.props.onUnmount&&this.props.onUnmount(this.state.drawingManager),RN(this.registeredEvents),this.state.drawingManager.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent);var ZN={onAnimationChanged:"animation_changed",onClick:"click",onClickableChanged:"clickable_changed",onCursorChanged:"cursor_changed",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDraggableChanged:"draggable_changed",onDragStart:"dragstart",onFlatChanged:"flat_changed",onIconChanged:"icon_changed",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onPositionChanged:"position_changed",onRightClick:"rightclick",onShapeChanged:"shape_changed",onTitleChanged:"title_changed",onVisibleChanged:"visible_changed",onZindexChanged:"zindex_changed"},eL={animation:function(e,t){e.setAnimation(t)},clickable:function(e,t){e.setClickable(t)},cursor:function(e,t){e.setCursor(t)},draggable:function(e,t){e.setDraggable(t)},icon:function(e,t){e.setIcon(t)},label:function(e,t){e.setLabel(t)},map:function(e,t){e.setMap(t)},opacity:function(e,t){e.setOpacity(t)},options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},shape:function(e,t){e.setShape(t)},title:function(e,t){e.setTitle(t)},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},tL={};(0,r.memo)((function(e){var t=e.position,n=e.options,i=e.clusterer,s=e.noClustererRedraw,o=e.children,a=e.draggable,l=e.visible,c=e.animation,u=e.clickable,h=e.cursor,d=e.icon,f=e.label,p=e.opacity,m=e.shape,g=e.title,v=e.zIndex,y=e.onClick,b=e.onDblClick,_=e.onDrag,w=e.onDragEnd,E=e.onDragStart,C=e.onMouseOut,S=e.onMouseOver,x=e.onMouseUp,k=e.onMouseDown,T=e.onRightClick,I=e.onClickableChanged,N=e.onCursorChanged,L=e.onAnimationChanged,P=e.onDraggableChanged,R=e.onFlatChanged,O=e.onIconChanged,A=e.onPositionChanged,D=e.onShapeChanged,M=e.onTitleChanged,j=e.onVisibleChanged,U=e.onZindexChanged,F=e.onLoad,B=e.onUnmount,V=(0,r.useContext)(IN),z=(0,r.useState)(null),q=z[0],W=z[1],H=(0,r.useState)(null),K=H[0],G=H[1],Q=(0,r.useState)(null),Y=Q[0],J=Q[1],$=(0,r.useState)(null),X=$[0],Z=$[1],ee=(0,r.useState)(null),te=ee[0],ne=ee[1],re=(0,r.useState)(null),ie=re[0],se=re[1],oe=(0,r.useState)(null),ae=oe[0],le=oe[1],ce=(0,r.useState)(null),ue=ce[0],he=ce[1],de=(0,r.useState)(null),fe=de[0],pe=de[1],me=(0,r.useState)(null),ge=me[0],ve=me[1],ye=(0,r.useState)(null),be=ye[0],_e=ye[1],we=(0,r.useState)(null),Ee=we[0],Ce=we[1],Se=(0,r.useState)(null),xe=Se[0],ke=Se[1],Te=(0,r.useState)(null),Ie=Te[0],Ne=Te[1],Le=(0,r.useState)(null),Pe=Le[0],Re=Le[1],Oe=(0,r.useState)(null),Ae=Oe[0],De=Oe[1],Me=(0,r.useState)(null),je=Me[0],Ue=Me[1],Fe=(0,r.useState)(null),Be=Fe[0],Ve=Fe[1],ze=(0,r.useState)(null),qe=ze[0],We=ze[1],He=(0,r.useState)(null),Ke=He[0],Ge=He[1],Qe=(0,r.useState)(null),Ye=Qe[0],Je=Qe[1],$e=(0,r.useState)(null),Xe=$e[0],Ze=$e[1];(0,r.useEffect)((function(){null!==q&&q.setMap(V)}),[V]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==q&&q.setOptions(n)}),[q,n]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==q&&q.setDraggable(a)}),[q,a]),(0,r.useEffect)((function(){t&&null!==q&&q.setPosition(t)}),[q,t]),(0,r.useEffect)((function(){"undefined"!==typeof l&&null!==q&&q.setVisible(l)}),[q,l]),(0,r.useEffect)((function(){null===q||void 0===q||q.setAnimation(c)}),[q,c]),(0,r.useEffect)((function(){q&&void 0!==u&&q.setClickable(u)}),[q,u]),(0,r.useEffect)((function(){q&&void 0!==h&&q.setCursor(h)}),[q,h]),(0,r.useEffect)((function(){q&&void 0!==d&&q.setIcon(d)}),[q,d]),(0,r.useEffect)((function(){q&&void 0!==f&&q.setLabel(f)}),[q,f]),(0,r.useEffect)((function(){q&&void 0!==p&&q.setOpacity(p)}),[q,p]),(0,r.useEffect)((function(){q&&void 0!==m&&q.setShape(m)}),[q,m]),(0,r.useEffect)((function(){q&&void 0!==g&&q.setTitle(g)}),[q,g]),(0,r.useEffect)((function(){q&&void 0!==v&&q.setZIndex(v)}),[q,v]),(0,r.useEffect)((function(){q&&b&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(q,"dblclick",b)))}),[b]),(0,r.useEffect)((function(){q&&w&&(null!==Y&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(q,"dragend",w)))}),[w]),(0,r.useEffect)((function(){q&&E&&(null!==X&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(q,"dragstart",E)))}),[E]),(0,r.useEffect)((function(){q&&k&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(q,"mousedown",k)))}),[k]),(0,r.useEffect)((function(){q&&C&&(null!==ie&&google.maps.event.removeListener(ie),se(google.maps.event.addListener(q,"mouseout",C)))}),[C]),(0,r.useEffect)((function(){q&&S&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(q,"mouseover",S)))}),[S]),(0,r.useEffect)((function(){q&&x&&(null!==ue&&google.maps.event.removeListener(ue),he(google.maps.event.addListener(q,"mouseup",x)))}),[x]),(0,r.useEffect)((function(){q&&T&&(null!==fe&&google.maps.event.removeListener(fe),pe(google.maps.event.addListener(q,"rightclick",T)))}),[T]),(0,r.useEffect)((function(){q&&y&&(null!==ge&&google.maps.event.removeListener(ge),ve(google.maps.event.addListener(q,"click",y)))}),[y]),(0,r.useEffect)((function(){q&&_&&(null!==be&&google.maps.event.removeListener(be),_e(google.maps.event.addListener(q,"drag",_)))}),[_]),(0,r.useEffect)((function(){q&&I&&(null!==Ee&&google.maps.event.removeListener(Ee),Ce(google.maps.event.addListener(q,"clickable_changed",I)))}),[I]),(0,r.useEffect)((function(){q&&N&&(null!==xe&&google.maps.event.removeListener(xe),ke(google.maps.event.addListener(q,"cursor_changed",N)))}),[N]),(0,r.useEffect)((function(){q&&L&&(null!==Ie&&google.maps.event.removeListener(Ie),Ne(google.maps.event.addListener(q,"animation_changed",L)))}),[L]),(0,r.useEffect)((function(){q&&P&&(null!==Pe&&google.maps.event.removeListener(Pe),Re(google.maps.event.addListener(q,"draggable_changed",P)))}),[P]),(0,r.useEffect)((function(){q&&R&&(null!==Ae&&google.maps.event.removeListener(Ae),De(google.maps.event.addListener(q,"flat_changed",R)))}),[R]),(0,r.useEffect)((function(){q&&O&&(null!==je&&google.maps.event.removeListener(je),Ue(google.maps.event.addListener(q,"icon_changed",O)))}),[O]),(0,r.useEffect)((function(){q&&A&&(null!==Be&&google.maps.event.removeListener(Be),Ve(google.maps.event.addListener(q,"position_changed",A)))}),[A]),(0,r.useEffect)((function(){q&&D&&(null!==qe&&google.maps.event.removeListener(qe),We(google.maps.event.addListener(q,"shape_changed",D)))}),[D]),(0,r.useEffect)((function(){q&&M&&(null!==Ke&&google.maps.event.removeListener(Ke),Ge(google.maps.event.addListener(q,"title_changed",M)))}),[M]),(0,r.useEffect)((function(){q&&j&&(null!==Ye&&google.maps.event.removeListener(Ye),Je(google.maps.event.addListener(q,"visible_changed",j)))}),[j]),(0,r.useEffect)((function(){q&&U&&(null!==Xe&&google.maps.event.removeListener(Xe),Ze(google.maps.event.addListener(q,"zindex_changed",U)))}),[U]),(0,r.useEffect)((function(){var e=wN(wN(wN({},n||tL),i?tL:{map:V}),{position:t}),r=new google.maps.Marker(e);return i?i.addMarker(r,!!s):r.setMap(V),t&&r.setPosition(t),"undefined"!==typeof l&&r.setVisible(l),"undefined"!==typeof a&&r.setDraggable(a),"undefined"!==typeof u&&r.setClickable(u),"string"===typeof h&&r.setCursor(h),d&&r.setIcon(d),"undefined"!==typeof f&&r.setLabel(f),"undefined"!==typeof p&&r.setOpacity(p),m&&r.setShape(m),"string"===typeof g&&r.setTitle(g),"number"===typeof v&&r.setZIndex(v),b&&G(google.maps.event.addListener(r,"dblclick",b)),w&&J(google.maps.event.addListener(r,"dragend",w)),E&&Z(google.maps.event.addListener(r,"dragstart",E)),k&&ne(google.maps.event.addListener(r,"mousedown",k)),C&&se(google.maps.event.addListener(r,"mouseout",C)),S&&le(google.maps.event.addListener(r,"mouseover",S)),x&&he(google.maps.event.addListener(r,"mouseup",x)),T&&pe(google.maps.event.addListener(r,"rightclick",T)),y&&ve(google.maps.event.addListener(r,"click",y)),_&&_e(google.maps.event.addListener(r,"drag",_)),I&&Ce(google.maps.event.addListener(r,"clickable_changed",I)),N&&ke(google.maps.event.addListener(r,"cursor_changed",N)),L&&Ne(google.maps.event.addListener(r,"animation_changed",L)),P&&Re(google.maps.event.addListener(r,"draggable_changed",P)),R&&De(google.maps.event.addListener(r,"flat_changed",R)),O&&Ue(google.maps.event.addListener(r,"icon_changed",O)),A&&Ve(google.maps.event.addListener(r,"position_changed",A)),D&&We(google.maps.event.addListener(r,"shape_changed",D)),M&&Ge(google.maps.event.addListener(r,"title_changed",M)),j&&Je(google.maps.event.addListener(r,"visible_changed",j)),U&&Ze(google.maps.event.addListener(r,"zindex_changed",U)),W(r),F&&F(r),function(){null!==K&&google.maps.event.removeListener(K),null!==Y&&google.maps.event.removeListener(Y),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),null!==ie&&google.maps.event.removeListener(ie),null!==ae&&google.maps.event.removeListener(ae),null!==ue&&google.maps.event.removeListener(ue),null!==fe&&google.maps.event.removeListener(fe),null!==ge&&google.maps.event.removeListener(ge),null!==Ee&&google.maps.event.removeListener(Ee),null!==xe&&google.maps.event.removeListener(xe),null!==Ie&&google.maps.event.removeListener(Ie),null!==Pe&&google.maps.event.removeListener(Pe),null!==Ae&&google.maps.event.removeListener(Ae),null!==je&&google.maps.event.removeListener(je),null!==Be&&google.maps.event.removeListener(Be),null!==Ke&&google.maps.event.removeListener(Ke),null!==Ye&&google.maps.event.removeListener(Ye),null!==Xe&&google.maps.event.removeListener(Xe),B&&B(r),i?i.removeMarker(r,!!s):r&&r.setMap(null)}}),[]);var et=(0,r.useMemo)((function(){return o?r.Children.map(o,(function(e){if(!(0,r.isValidElement)(e))return e;var t=e;return(0,r.cloneElement)(t,{anchor:q})})):null}),[o,q]);return(0,CS.jsx)(CS.Fragment,{children:et})||null}));var nL=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t}return _N(t,e),t.prototype.componentDidMount=function(){var e=wN(wN(wN({},this.props.options||tL),this.props.clusterer?tL:{map:this.context}),{position:this.props.position});this.marker=new google.maps.Marker(e),this.props.clusterer?this.props.clusterer.addMarker(this.marker,!!this.props.noClustererRedraw):this.marker.setMap(this.context),this.registeredEvents=ON({updaterMap:eL,eventMap:ZN,prevProps:{},nextProps:this.props,instance:this.marker}),this.props.onLoad&&this.props.onLoad(this.marker)},t.prototype.componentDidUpdate=function(e){this.marker&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:eL,eventMap:ZN,prevProps:e,nextProps:this.props,instance:this.marker}))},t.prototype.componentWillUnmount=function(){this.marker&&(this.props.onUnmount&&this.props.onUnmount(this.marker),RN(this.registeredEvents),this.props.clusterer?this.props.clusterer.removeMarker(this.marker,!!this.props.noClustererRedraw):this.marker&&this.marker.setMap(null))},t.prototype.render=function(){var e=this,t=null;return this.props.children&&(t=r.Children.map(this.props.children,(function(t){if(!(0,r.isValidElement)(t))return t;var n=t;return(0,r.cloneElement)(n,{anchor:e.marker})}))),t||null},t.contextType=IN,t}(r.PureComponent),rL=function(){function e(t,n){t.getClusterer().extend(e,google.maps.OverlayView),this.cluster=t,this.clusterClassName=this.cluster.getClusterer().getClusterClass(),this.className=this.clusterClassName,this.styles=n,this.center=void 0,this.div=null,this.sums=null,this.visible=!1,this.boundsChangedListener=null,this.url="",this.height=0,this.width=0,this.anchorText=[0,0],this.anchorIcon=[0,0],this.textColor="black",this.textSize=11,this.textDecoration="none",this.fontWeight="bold",this.fontStyle="normal",this.fontFamily="Arial,sans-serif",this.backgroundPosition="0 0",this.cMouseDownInCluster=null,this.cDraggingMapByCluster=null,this.timeOut=null,this.setMap(t.getMap()),this.onBoundsChanged=this.onBoundsChanged.bind(this),this.onMouseDown=this.onMouseDown.bind(this),this.onClick=this.onClick.bind(this),this.onMouseOver=this.onMouseOver.bind(this),this.onMouseOut=this.onMouseOut.bind(this),this.onAdd=this.onAdd.bind(this),this.onRemove=this.onRemove.bind(this),this.draw=this.draw.bind(this),this.hide=this.hide.bind(this),this.show=this.show.bind(this),this.useStyle=this.useStyle.bind(this),this.setCenter=this.setCenter.bind(this),this.getPosFromLatLng=this.getPosFromLatLng.bind(this)}return e.prototype.onBoundsChanged=function(){this.cDraggingMapByCluster=this.cMouseDownInCluster},e.prototype.onMouseDown=function(){this.cMouseDownInCluster=!0,this.cDraggingMapByCluster=!1},e.prototype.onClick=function(e){if(this.cMouseDownInCluster=!1,!this.cDraggingMapByCluster){var t=this.cluster.getClusterer();if(google.maps.event.trigger(t,"click",this.cluster),google.maps.event.trigger(t,"clusterclick",this.cluster),t.getZoomOnClick()){var n=t.getMaxZoom(),r=this.cluster.getBounds(),i=t.getMap();null!==i&&"fitBounds"in i&&i.fitBounds(r),this.timeOut=window.setTimeout((function(){var e=t.getMap();if(null!==e){"fitBounds"in e&&e.fitBounds(r);var i=e.getZoom()||0;null!==n&&i>n&&e.setZoom(n+1)}}),100)}e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}},e.prototype.onMouseOver=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseover",this.cluster)},e.prototype.onMouseOut=function(){google.maps.event.trigger(this.cluster.getClusterer(),"mouseout",this.cluster)},e.prototype.onAdd=function(){var e;this.div=document.createElement("div"),this.div.className=this.className,this.visible&&this.show(),null===(e=this.getPanes())||void 0===e||e.overlayMouseTarget.appendChild(this.div);var t=this.getMap();null!==t&&(this.boundsChangedListener=google.maps.event.addListener(t,"bounds_changed",this.onBoundsChanged),this.div.addEventListener("mousedown",this.onMouseDown),this.div.addEventListener("click",this.onClick),this.div.addEventListener("mouseover",this.onMouseOver),this.div.addEventListener("mouseout",this.onMouseOut))},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.hide(),null!==this.boundsChangedListener&&google.maps.event.removeListener(this.boundsChangedListener),this.div.removeEventListener("mousedown",this.onMouseDown),this.div.removeEventListener("click",this.onClick),this.div.removeEventListener("mouseover",this.onMouseOver),this.div.removeEventListener("mouseout",this.onMouseOut),this.div.parentNode.removeChild(this.div),null!==this.timeOut&&(window.clearTimeout(this.timeOut),this.timeOut=null),this.div=null)},e.prototype.draw=function(){if(this.visible&&null!==this.div&&this.center){var e=this.getPosFromLatLng(this.center);this.div.style.top=null!==e?"".concat(e.y,"px"):"0",this.div.style.left=null!==e?"".concat(e.x,"px"):"0"}},e.prototype.hide=function(){this.div&&(this.div.style.display="none"),this.visible=!1},e.prototype.show=function(){var e,t,n,r,i,s;if(this.div&&this.center){var o=null===this.sums||"undefined"===typeof this.sums.title||""===this.sums.title?this.cluster.getClusterer().getTitle():this.sums.title,a=this.backgroundPosition.split(" "),l=parseInt((null===(e=a[0])||void 0===e?void 0:e.replace(/^\s+|\s+$/g,""))||"0",10),c=parseInt((null===(t=a[1])||void 0===t?void 0:t.replace(/^\s+|\s+$/g,""))||"0",10),u=this.getPosFromLatLng(this.center);this.div.className=this.className,this.div.setAttribute("style","cursor: pointer; position: absolute; top: ".concat(null!==u?"".concat(u.y,"px"):"0","; left: ").concat(null!==u?"".concat(u.x,"px"):"0","; width: ").concat(this.width,"px; height: ").concat(this.height,"px; "));var h=document.createElement("img");h.alt=o,h.src=this.url,h.width=this.width,h.height=this.height,h.setAttribute("style","position: absolute; top: ".concat(c,"px; left: ").concat(l,"px")),this.cluster.getClusterer().enableRetinaIcons||(h.style.clip="rect(-".concat(c,"px, -").concat(l+this.width,"px, -").concat(c+this.height,", -").concat(l,")"));var d=document.createElement("div");d.setAttribute("style","position: absolute; top: ".concat(this.anchorText[0],"px; left: ").concat(this.anchorText[1],"px; color: ").concat(this.textColor,"; font-size: ").concat(this.textSize,"px; font-family: ").concat(this.fontFamily,"; font-weight: ").concat(this.fontWeight,"; fontStyle: ").concat(this.fontStyle,"; text-decoration: ").concat(this.textDecoration,"; text-align: center; width: ").concat(this.width,"px; line-height: ").concat(this.height,"px")),(null===(n=this.sums)||void 0===n?void 0:n.text)&&(d.innerText="".concat(null===(r=this.sums)||void 0===r?void 0:r.text)),(null===(i=this.sums)||void 0===i?void 0:i.html)&&(d.innerHTML="".concat(null===(s=this.sums)||void 0===s?void 0:s.html)),this.div.innerHTML="",this.div.appendChild(h),this.div.appendChild(d),this.div.title=o,this.div.style.display=""}this.visible=!0},e.prototype.useStyle=function(e){this.sums=e;var t=this.cluster.getClusterer().getStyles(),n=t[Math.min(t.length-1,Math.max(0,e.index-1))];n&&(this.url=n.url,this.height=n.height,this.width=n.width,n.className&&(this.className="".concat(this.clusterClassName," ").concat(n.className)),this.anchorText=n.anchorText||[0,0],this.anchorIcon=n.anchorIcon||[this.height/2,this.width/2],this.textColor=n.textColor||"black",this.textSize=n.textSize||11,this.textDecoration=n.textDecoration||"none",this.fontWeight=n.fontWeight||"bold",this.fontStyle=n.fontStyle||"normal",this.fontFamily=n.fontFamily||"Arial,sans-serif",this.backgroundPosition=n.backgroundPosition||"0 0")},e.prototype.setCenter=function(e){this.center=e},e.prototype.getPosFromLatLng=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return null!==t&&(t.x-=this.anchorIcon[1],t.y-=this.anchorIcon[0]),t},e}(),iL=function(){function e(e){this.markerClusterer=e,this.map=this.markerClusterer.getMap(),this.gridSize=this.markerClusterer.getGridSize(),this.minClusterSize=this.markerClusterer.getMinimumClusterSize(),this.averageCenter=this.markerClusterer.getAverageCenter(),this.markers=[],this.center=void 0,this.bounds=null,this.clusterIcon=new rL(this,this.markerClusterer.getStyles()),this.getSize=this.getSize.bind(this),this.getMarkers=this.getMarkers.bind(this),this.getCenter=this.getCenter.bind(this),this.getMap=this.getMap.bind(this),this.getClusterer=this.getClusterer.bind(this),this.getBounds=this.getBounds.bind(this),this.remove=this.remove.bind(this),this.addMarker=this.addMarker.bind(this),this.isMarkerInClusterBounds=this.isMarkerInClusterBounds.bind(this),this.calculateBounds=this.calculateBounds.bind(this),this.updateIcon=this.updateIcon.bind(this),this.isMarkerAlreadyAdded=this.isMarkerAlreadyAdded.bind(this)}return e.prototype.getSize=function(){return this.markers.length},e.prototype.getMarkers=function(){return this.markers},e.prototype.getCenter=function(){return this.center},e.prototype.getMap=function(){return this.map},e.prototype.getClusterer=function(){return this.markerClusterer},e.prototype.getBounds=function(){for(var e=new google.maps.LatLngBounds(this.center,this.center),t=0,n=this.getMarkers();t<n.length;t++){var r=n[t].getPosition();r&&e.extend(r)}return e},e.prototype.remove=function(){this.clusterIcon.setMap(null),this.markers=[],delete this.markers},e.prototype.addMarker=function(e){var t,n;if(this.isMarkerAlreadyAdded(e))return!1;if(this.center){if(this.averageCenter&&(n=e.getPosition())){var r=this.markers.length+1;this.center=new google.maps.LatLng((this.center.lat()*(r-1)+n.lat())/r,(this.center.lng()*(r-1)+n.lng())/r),this.calculateBounds()}}else(n=e.getPosition())&&(this.center=n,this.calculateBounds());e.isAdded=!0,this.markers.push(e);var i=this.markers.length,s=this.markerClusterer.getMaxZoom(),o=null===(t=this.map)||void 0===t?void 0:t.getZoom();if(null!==s&&"undefined"!==typeof o&&o>s)e.getMap()!==this.map&&e.setMap(this.map);else if(i<this.minClusterSize)e.getMap()!==this.map&&e.setMap(this.map);else if(i===this.minClusterSize)for(var a=0,l=this.markers;a<l.length;a++){l[a].setMap(null)}else e.setMap(null);return!0},e.prototype.isMarkerInClusterBounds=function(e){if(null!==this.bounds){var t=e.getPosition();if(t)return this.bounds.contains(t)}return!1},e.prototype.calculateBounds=function(){this.bounds=this.markerClusterer.getExtendedBounds(new google.maps.LatLngBounds(this.center,this.center))},e.prototype.updateIcon=function(){var e,t=this.markers.length,n=this.markerClusterer.getMaxZoom(),r=null===(e=this.map)||void 0===e?void 0:e.getZoom();null!==n&&"undefined"!==typeof r&&r>n||t<this.minClusterSize?this.clusterIcon.hide():(this.center&&this.clusterIcon.setCenter(this.center),this.clusterIcon.useStyle(this.markerClusterer.getCalculator()(this.markers,this.markerClusterer.getStyles().length)),this.clusterIcon.show())},e.prototype.isMarkerAlreadyAdded=function(e){if(this.markers.includes)return this.markers.includes(e);for(var t=0;t<this.markers.length;t++)if(e===this.markers[t])return!0;return!1},e}();function sL(e,t){var n=e.length,r=n.toString().length,i=Math.min(r,t);return{text:n.toString(),index:i,title:""}}var oL=[53,56,66,78,90],aL=function(){function e(t,n,r){void 0===n&&(n=[]),void 0===r&&(r={}),this.getMinimumClusterSize=this.getMinimumClusterSize.bind(this),this.setMinimumClusterSize=this.setMinimumClusterSize.bind(this),this.getEnableRetinaIcons=this.getEnableRetinaIcons.bind(this),this.setEnableRetinaIcons=this.setEnableRetinaIcons.bind(this),this.addToClosestCluster=this.addToClosestCluster.bind(this),this.getImageExtension=this.getImageExtension.bind(this),this.setImageExtension=this.setImageExtension.bind(this),this.getExtendedBounds=this.getExtendedBounds.bind(this),this.getAverageCenter=this.getAverageCenter.bind(this),this.setAverageCenter=this.setAverageCenter.bind(this),this.getTotalClusters=this.getTotalClusters.bind(this),this.fitMapToMarkers=this.fitMapToMarkers.bind(this),this.getIgnoreHidden=this.getIgnoreHidden.bind(this),this.setIgnoreHidden=this.setIgnoreHidden.bind(this),this.getClusterClass=this.getClusterClass.bind(this),this.setClusterClass=this.setClusterClass.bind(this),this.getTotalMarkers=this.getTotalMarkers.bind(this),this.getZoomOnClick=this.getZoomOnClick.bind(this),this.setZoomOnClick=this.setZoomOnClick.bind(this),this.getBatchSizeIE=this.getBatchSizeIE.bind(this),this.setBatchSizeIE=this.setBatchSizeIE.bind(this),this.createClusters=this.createClusters.bind(this),this.onZoomChanged=this.onZoomChanged.bind(this),this.getImageSizes=this.getImageSizes.bind(this),this.setImageSizes=this.setImageSizes.bind(this),this.getCalculator=this.getCalculator.bind(this),this.setCalculator=this.setCalculator.bind(this),this.removeMarkers=this.removeMarkers.bind(this),this.resetViewport=this.resetViewport.bind(this),this.getImagePath=this.getImagePath.bind(this),this.setImagePath=this.setImagePath.bind(this),this.pushMarkerTo=this.pushMarkerTo.bind(this),this.removeMarker=this.removeMarker.bind(this),this.clearMarkers=this.clearMarkers.bind(this),this.setupStyles=this.setupStyles.bind(this),this.getGridSize=this.getGridSize.bind(this),this.setGridSize=this.setGridSize.bind(this),this.getClusters=this.getClusters.bind(this),this.getMaxZoom=this.getMaxZoom.bind(this),this.setMaxZoom=this.setMaxZoom.bind(this),this.getMarkers=this.getMarkers.bind(this),this.addMarkers=this.addMarkers.bind(this),this.getStyles=this.getStyles.bind(this),this.setStyles=this.setStyles.bind(this),this.addMarker=this.addMarker.bind(this),this.onRemove=this.onRemove.bind(this),this.getTitle=this.getTitle.bind(this),this.setTitle=this.setTitle.bind(this),this.repaint=this.repaint.bind(this),this.onIdle=this.onIdle.bind(this),this.redraw=this.redraw.bind(this),this.onAdd=this.onAdd.bind(this),this.draw=this.draw.bind(this),this.extend=this.extend.bind(this),this.extend(e,google.maps.OverlayView),this.markers=[],this.clusters=[],this.listeners=[],this.activeMap=null,this.ready=!1,this.gridSize=r.gridSize||60,this.minClusterSize=r.minimumClusterSize||2,this.maxZoom=r.maxZoom||null,this.styles=r.styles||[],this.title=r.title||"",this.zoomOnClick=!0,void 0!==r.zoomOnClick&&(this.zoomOnClick=r.zoomOnClick),this.averageCenter=!1,void 0!==r.averageCenter&&(this.averageCenter=r.averageCenter),this.ignoreHidden=!1,void 0!==r.ignoreHidden&&(this.ignoreHidden=r.ignoreHidden),this.enableRetinaIcons=!1,void 0!==r.enableRetinaIcons&&(this.enableRetinaIcons=r.enableRetinaIcons),this.imagePath=r.imagePath||"https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m",this.imageExtension=r.imageExtension||"png",this.imageSizes=r.imageSizes||oL,this.calculator=r.calculator||sL,this.batchSize=r.batchSize||2e3,this.batchSizeIE=r.batchSizeIE||500,this.clusterClass=r.clusterClass||"cluster",-1!==navigator.userAgent.toLowerCase().indexOf("msie")&&(this.batchSize=this.batchSizeIE),this.timerRefStatic=null,this.setupStyles(),this.addMarkers(n,!0),this.setMap(t)}return e.prototype.onZoomChanged=function(){var e,t;this.resetViewport(!1),(null===(e=this.getMap())||void 0===e?void 0:e.getZoom())!==(this.get("minZoom")||0)&&(null===(t=this.getMap())||void 0===t?void 0:t.getZoom())!==this.get("maxZoom")||google.maps.event.trigger(this,"idle")},e.prototype.onIdle=function(){this.redraw()},e.prototype.onAdd=function(){var e=this.getMap();this.activeMap=e,this.ready=!0,this.repaint(),null!==e&&(this.listeners=[google.maps.event.addListener(e,"zoom_changed",this.onZoomChanged),google.maps.event.addListener(e,"idle",this.onIdle)])},e.prototype.onRemove=function(){for(var e=0,t=this.markers;e<t.length;e++){var n=t[e];n.getMap()!==this.activeMap&&n.setMap(this.activeMap)}for(var r=0,i=this.clusters;r<i.length;r++){i[r].remove()}this.clusters=[];for(var s=0,o=this.listeners;s<o.length;s++){var a=o[s];google.maps.event.removeListener(a)}this.listeners=[],this.activeMap=null,this.ready=!1},e.prototype.draw=function(){},e.prototype.getMap=function(){return null},e.prototype.getPanes=function(){return null},e.prototype.getProjection=function(){return{fromContainerPixelToLatLng:function(){return null},fromDivPixelToLatLng:function(){return null},fromLatLngToContainerPixel:function(){return null},fromLatLngToDivPixel:function(){return null},getVisibleRegion:function(){return null},getWorldWidth:function(){return 0}}},e.prototype.setMap=function(){},e.prototype.addListener=function(){return{remove:function(){}}},e.prototype.bindTo=function(){},e.prototype.get=function(){},e.prototype.notify=function(){},e.prototype.set=function(){},e.prototype.setValues=function(){},e.prototype.unbind=function(){},e.prototype.unbindAll=function(){},e.prototype.setupStyles=function(){if(!(this.styles.length>0))for(var e=0;e<this.imageSizes.length;e++)this.styles.push({url:"".concat(this.imagePath+(e+1),".").concat(this.imageExtension),height:this.imageSizes[e]||0,width:this.imageSizes[e]||0})},e.prototype.fitMapToMarkers=function(){for(var e=this.getMarkers(),t=new google.maps.LatLngBounds,n=0,r=e;n<r.length;n++){var i=r[n].getPosition();i&&t.extend(i)}var s=this.getMap();null!==s&&"fitBounds"in s&&s.fitBounds(t)},e.prototype.getGridSize=function(){return this.gridSize},e.prototype.setGridSize=function(e){this.gridSize=e},e.prototype.getMinimumClusterSize=function(){return this.minClusterSize},e.prototype.setMinimumClusterSize=function(e){this.minClusterSize=e},e.prototype.getMaxZoom=function(){return this.maxZoom},e.prototype.setMaxZoom=function(e){this.maxZoom=e},e.prototype.getStyles=function(){return this.styles},e.prototype.setStyles=function(e){this.styles=e},e.prototype.getTitle=function(){return this.title},e.prototype.setTitle=function(e){this.title=e},e.prototype.getZoomOnClick=function(){return this.zoomOnClick},e.prototype.setZoomOnClick=function(e){this.zoomOnClick=e},e.prototype.getAverageCenter=function(){return this.averageCenter},e.prototype.setAverageCenter=function(e){this.averageCenter=e},e.prototype.getIgnoreHidden=function(){return this.ignoreHidden},e.prototype.setIgnoreHidden=function(e){this.ignoreHidden=e},e.prototype.getEnableRetinaIcons=function(){return this.enableRetinaIcons},e.prototype.setEnableRetinaIcons=function(e){this.enableRetinaIcons=e},e.prototype.getImageExtension=function(){return this.imageExtension},e.prototype.setImageExtension=function(e){this.imageExtension=e},e.prototype.getImagePath=function(){return this.imagePath},e.prototype.setImagePath=function(e){this.imagePath=e},e.prototype.getImageSizes=function(){return this.imageSizes},e.prototype.setImageSizes=function(e){this.imageSizes=e},e.prototype.getCalculator=function(){return this.calculator},e.prototype.setCalculator=function(e){this.calculator=e},e.prototype.getBatchSizeIE=function(){return this.batchSizeIE},e.prototype.setBatchSizeIE=function(e){this.batchSizeIE=e},e.prototype.getClusterClass=function(){return this.clusterClass},e.prototype.setClusterClass=function(e){this.clusterClass=e},e.prototype.getMarkers=function(){return this.markers},e.prototype.getTotalMarkers=function(){return this.markers.length},e.prototype.getClusters=function(){return this.clusters},e.prototype.getTotalClusters=function(){return this.clusters.length},e.prototype.addMarker=function(e,t){this.pushMarkerTo(e),t||this.redraw()},e.prototype.addMarkers=function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=e[n];r&&this.pushMarkerTo(r)}t||this.redraw()},e.prototype.pushMarkerTo=function(e){var t=this;e.getDraggable()&&google.maps.event.addListener(e,"dragend",(function(){t.ready&&(e.isAdded=!1,t.repaint())})),e.isAdded=!1,this.markers.push(e)},e.prototype.removeMarker_=function(e){var t=-1;if(this.markers.indexOf)t=this.markers.indexOf(e);else for(var n=0;n<this.markers.length;n++)if(e===this.markers[n]){t=n;break}return-1!==t&&(e.setMap(null),this.markers.splice(t,1),!0)},e.prototype.removeMarker=function(e,t){var n=this.removeMarker_(e);return!t&&n&&this.repaint(),n},e.prototype.removeMarkers=function(e,t){for(var n=!1,r=0,i=e;r<i.length;r++){var s=i[r];n=n||this.removeMarker_(s)}return!t&&n&&this.repaint(),n},e.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers=[]},e.prototype.repaint=function(){var e=this.clusters.slice();this.clusters=[],this.resetViewport(!1),this.redraw(),setTimeout((function(){for(var t=0,n=e;t<n.length;t++){n[t].remove()}}),0)},e.prototype.getExtendedBounds=function(e){var t=this.getProjection(),n=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()));null!==n&&(n.x+=this.gridSize,n.y-=this.gridSize);var r=t.fromLatLngToDivPixel(new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()));if(null!==r&&(r.x-=this.gridSize,r.y+=this.gridSize),null!==n){var i=t.fromDivPixelToLatLng(n);null!==i&&e.extend(i)}if(null!==r){var s=t.fromDivPixelToLatLng(r);null!==s&&e.extend(s)}return e},e.prototype.redraw=function(){this.createClusters(0)},e.prototype.resetViewport=function(e){for(var t=0,n=this.clusters;t<n.length;t++){n[t].remove()}this.clusters=[];for(var r=0,i=this.markers;r<i.length;r++){var s=i[r];s.isAdded=!1,e&&s.setMap(null)}},e.prototype.distanceBetweenPoints=function(e,t){var n=(t.lat()-e.lat())*Math.PI/180,r=(t.lng()-e.lng())*Math.PI/180,i=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(r/2)*Math.sin(r/2);return 2*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))*6371},e.prototype.isMarkerInBounds=function(e,t){var n=e.getPosition();return!!n&&t.contains(n)},e.prototype.addToClosestCluster=function(e){for(var t,n=4e4,r=null,i=0,s=this.clusters;i<s.length;i++){var o=(t=s[i]).getCenter(),a=e.getPosition();if(o&&a){var l=this.distanceBetweenPoints(o,a);l<n&&(n=l,r=t)}}r&&r.isMarkerInClusterBounds(e)?r.addMarker(e):((t=new iL(this)).addMarker(e),this.clusters.push(t))},e.prototype.createClusters=function(e){var t=this;if(this.ready){0===e&&(google.maps.event.trigger(this,"clusteringbegin",this),null!==this.timerRefStatic&&(window.clearTimeout(this.timerRefStatic),delete this.timerRefStatic));for(var n=this.getMap(),r=(null!==n&&"getBounds"in n?n.getBounds():null),i=((null===n||void 0===n?void 0:n.getZoom())||0)>3?new google.maps.LatLngBounds(null===r||void 0===r?void 0:r.getSouthWest(),null===r||void 0===r?void 0:r.getNorthEast()):new google.maps.LatLngBounds(new google.maps.LatLng(85.02070771743472,-178.48388434375),new google.maps.LatLng(-85.08136444384544,178.00048865625)),s=this.getExtendedBounds(i),o=Math.min(e+this.batchSize,this.markers.length),a=e;a<o;a++){var l=this.markers[a];l&&!l.isAdded&&this.isMarkerInBounds(l,s)&&(!this.ignoreHidden||this.ignoreHidden&&l.getVisible())&&this.addToClosestCluster(l)}if(o<this.markers.length)this.timerRefStatic=window.setTimeout((function(){t.createClusters(o)}),0);else{this.timerRefStatic=null,google.maps.event.trigger(this,"clusteringend",this);for(var c=0,u=this.clusters;c<u.length;c++){u[c].updateIcon()}}}},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype){var n=t;this.prototype[n]=e.prototype[n]}return this}.apply(e,[t])},e}(),lL={onClick:"click",onClusteringBegin:"clusteringbegin",onClusteringEnd:"clusteringend",onMouseOut:"mouseout",onMouseOver:"mouseover"},cL={averageCenter:function(e,t){e.setAverageCenter(t)},batchSizeIE:function(e,t){e.setBatchSizeIE(t)},calculator:function(e,t){e.setCalculator(t)},clusterClass:function(e,t){e.setClusterClass(t)},enableRetinaIcons:function(e,t){e.setEnableRetinaIcons(t)},gridSize:function(e,t){e.setGridSize(t)},ignoreHidden:function(e,t){e.setIgnoreHidden(t)},imageExtension:function(e,t){e.setImageExtension(t)},imagePath:function(e,t){e.setImagePath(t)},imageSizes:function(e,t){e.setImageSizes(t)},maxZoom:function(e,t){e.setMaxZoom(t)},minimumClusterSize:function(e,t){e.setMinimumClusterSize(t)},styles:function(e,t){e.setStyles(t)},title:function(e,t){e.setTitle(t)},zoomOnClick:function(e,t){e.setZoomOnClick(t)}},uL={};(0,r.memo)((function(e){var t=e.children,n=e.options,i=e.averageCenter,s=e.batchSizeIE,o=e.calculator,a=e.clusterClass,l=e.enableRetinaIcons,c=e.gridSize,u=e.ignoreHidden,h=e.imageExtension,d=e.imagePath,f=e.imageSizes,p=e.maxZoom,m=e.minimumClusterSize,g=e.styles,v=e.title,y=e.zoomOnClick,b=e.onClick,_=e.onClusteringBegin,w=e.onClusteringEnd,E=e.onMouseOver,C=e.onMouseOut,S=e.onLoad,x=e.onUnmount,k=(0,r.useState)(null),T=k[0],I=k[1],N=(0,r.useContext)(IN),L=(0,r.useState)(null),P=L[0],R=L[1],O=(0,r.useState)(null),A=O[0],D=O[1],M=(0,r.useState)(null),j=M[0],U=M[1],F=(0,r.useState)(null),B=F[0],V=F[1],z=(0,r.useState)(null),q=z[0],W=z[1];return(0,r.useEffect)((function(){T&&C&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(T,lL.onMouseOut,C)))}),[C]),(0,r.useEffect)((function(){T&&E&&(null!==q&&google.maps.event.removeListener(q),W(google.maps.event.addListener(T,lL.onMouseOver,E)))}),[E]),(0,r.useEffect)((function(){T&&b&&(null!==P&&google.maps.event.removeListener(P),R(google.maps.event.addListener(T,lL.onClick,b)))}),[b]),(0,r.useEffect)((function(){T&&_&&(null!==A&&google.maps.event.removeListener(A),D(google.maps.event.addListener(T,lL.onClusteringBegin,_)))}),[_]),(0,r.useEffect)((function(){T&&w&&(null!==j&&google.maps.event.removeListener(j),D(google.maps.event.addListener(T,lL.onClusteringEnd,w)))}),[w]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==T&&cL.averageCenter(T,i)}),[T,i]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==T&&cL.batchSizeIE(T,s)}),[T,s]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==T&&cL.calculator(T,o)}),[T,o]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==T&&cL.clusterClass(T,a)}),[T,a]),(0,r.useEffect)((function(){"undefined"!==typeof l&&null!==T&&cL.enableRetinaIcons(T,l)}),[T,l]),(0,r.useEffect)((function(){"undefined"!==typeof c&&null!==T&&cL.gridSize(T,c)}),[T,c]),(0,r.useEffect)((function(){"undefined"!==typeof u&&null!==T&&cL.ignoreHidden(T,u)}),[T,u]),(0,r.useEffect)((function(){"undefined"!==typeof h&&null!==T&&cL.imageExtension(T,h)}),[T,h]),(0,r.useEffect)((function(){"undefined"!==typeof d&&null!==T&&cL.imagePath(T,d)}),[T,d]),(0,r.useEffect)((function(){"undefined"!==typeof f&&null!==T&&cL.imageSizes(T,f)}),[T,f]),(0,r.useEffect)((function(){"undefined"!==typeof p&&null!==T&&cL.maxZoom(T,p)}),[T,p]),(0,r.useEffect)((function(){"undefined"!==typeof m&&null!==T&&cL.minimumClusterSize(T,m)}),[T,m]),(0,r.useEffect)((function(){"undefined"!==typeof g&&null!==T&&cL.styles(T,g)}),[T,g]),(0,r.useEffect)((function(){"undefined"!==typeof v&&null!==T&&cL.title(T,v)}),[T,v]),(0,r.useEffect)((function(){"undefined"!==typeof y&&null!==T&&cL.zoomOnClick(T,y)}),[T,y]),(0,r.useEffect)((function(){if(N){var e=wN({},n||uL),t=new aL(N,[],e);return i&&cL.averageCenter(t,i),s&&cL.batchSizeIE(t,s),o&&cL.calculator(t,o),a&&cL.clusterClass(t,a),l&&cL.enableRetinaIcons(t,l),c&&cL.gridSize(t,c),u&&cL.ignoreHidden(t,u),h&&cL.imageExtension(t,h),d&&cL.imagePath(t,d),f&&cL.imageSizes(t,f),p&&cL.maxZoom(t,p),m&&cL.minimumClusterSize(t,m),g&&cL.styles(t,g),v&&cL.title(t,v),y&&cL.zoomOnClick(t,y),C&&V(google.maps.event.addListener(t,lL.onMouseOut,C)),E&&W(google.maps.event.addListener(t,lL.onMouseOver,E)),b&&R(google.maps.event.addListener(t,lL.onClick,b)),_&&D(google.maps.event.addListener(t,lL.onClusteringBegin,_)),w&&U(google.maps.event.addListener(t,lL.onClusteringEnd,w)),I(t),S&&S(t),function(){null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),null!==P&&google.maps.event.removeListener(P),null!==A&&google.maps.event.removeListener(A),null!==j&&google.maps.event.removeListener(j),x&&x(t)}}}),[]),null!==T&&t(T)||null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={markerClusterer:null},t.setClustererCallback=function(){null!==t.state.markerClusterer&&t.props.onLoad&&t.props.onLoad(t.state.markerClusterer)},t}_N(t,e),t.prototype.componentDidMount=function(){if(this.context){var e=new aL(this.context,[],this.props.options);this.registeredEvents=ON({updaterMap:cL,eventMap:lL,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{markerClusterer:e}}),this.setClustererCallback)}},t.prototype.componentDidUpdate=function(e){this.state.markerClusterer&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:cL,eventMap:lL,prevProps:e,nextProps:this.props,instance:this.state.markerClusterer}))},t.prototype.componentWillUnmount=function(){null!==this.state.markerClusterer&&(this.props.onUnmount&&this.props.onUnmount(this.state.markerClusterer),RN(this.registeredEvents),this.state.markerClusterer.setMap(null))},t.prototype.render=function(){return null!==this.state.markerClusterer?this.props.children(this.state.markerClusterer):null},t.contextType=IN}(r.PureComponent);function hL(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation()}var dL=function(){function e(t){void 0===t&&(t={}),this.getCloseClickHandler=this.getCloseClickHandler.bind(this),this.closeClickHandler=this.closeClickHandler.bind(this),this.createInfoBoxDiv=this.createInfoBoxDiv.bind(this),this.addClickHandler=this.addClickHandler.bind(this),this.getCloseBoxImg=this.getCloseBoxImg.bind(this),this.getBoxWidths=this.getBoxWidths.bind(this),this.setBoxStyle=this.setBoxStyle.bind(this),this.setPosition=this.setPosition.bind(this),this.getPosition=this.getPosition.bind(this),this.setOptions=this.setOptions.bind(this),this.setContent=this.setContent.bind(this),this.setVisible=this.setVisible.bind(this),this.getContent=this.getContent.bind(this),this.getVisible=this.getVisible.bind(this),this.setZIndex=this.setZIndex.bind(this),this.getZIndex=this.getZIndex.bind(this),this.onRemove=this.onRemove.bind(this),this.panBox=this.panBox.bind(this),this.extend=this.extend.bind(this),this.close=this.close.bind(this),this.draw=this.draw.bind(this),this.show=this.show.bind(this),this.hide=this.hide.bind(this),this.open=this.open.bind(this),this.extend(e,google.maps.OverlayView),this.content=t.content||"",this.disableAutoPan=t.disableAutoPan||!1,this.maxWidth=t.maxWidth||0,this.pixelOffset=t.pixelOffset||new google.maps.Size(0,0),this.position=t.position||new google.maps.LatLng(0,0),this.zIndex=t.zIndex||null,this.boxClass=t.boxClass||"infoBox",this.boxStyle=t.boxStyle||{},this.closeBoxMargin=t.closeBoxMargin||"2px",this.closeBoxURL=t.closeBoxURL||"http://www.google.com/intl/en_us/mapfiles/close.gif",""===t.closeBoxURL&&(this.closeBoxURL=""),this.infoBoxClearance=t.infoBoxClearance||new google.maps.Size(1,1),"undefined"===typeof t.visible&&("undefined"===typeof t.isHidden?t.visible=!0:t.visible=!t.isHidden),this.isHidden=!t.visible,this.alignBottom=t.alignBottom||!1,this.pane=t.pane||"floatPane",this.enableEventPropagation=t.enableEventPropagation||!1,this.div=null,this.closeListener=null,this.moveListener=null,this.mapListener=null,this.contextListener=null,this.eventListeners=null,this.fixedWidthSet=null}return e.prototype.createInfoBoxDiv=function(){var e=this;if(!this.div){this.div=document.createElement("div"),this.setBoxStyle(),"string"===typeof this.content?this.div.innerHTML=this.getCloseBoxImg()+this.content:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(this.content));var t=this.getPanes();if(null!==t&&t[this.pane].appendChild(this.div),this.addClickHandler(),this.div.style.width)this.fixedWidthSet=!0;else if(0!==this.maxWidth&&this.div.offsetWidth>this.maxWidth)this.div.style.width=this.maxWidth+"px",this.fixedWidthSet=!0;else{var n=this.getBoxWidths();this.div.style.width=this.div.offsetWidth-n.left-n.right+"px",this.fixedWidthSet=!1}if(this.panBox(this.disableAutoPan),!this.enableEventPropagation){this.eventListeners=[];for(var r=0,i=["mousedown","mouseover","mouseout","mouseup","click","dblclick","touchstart","touchend","touchmove"];r<i.length;r++){var s=i[r];this.eventListeners.push(google.maps.event.addListener(this.div,s,hL))}this.eventListeners.push(google.maps.event.addListener(this.div,"mouseover",(function(){e.div&&(e.div.style.cursor="default")})))}this.contextListener=google.maps.event.addListener(this.div,"contextmenu",(function(t){t.returnValue=!1,t.preventDefault&&t.preventDefault(),e.enableEventPropagation||hL(t)})),google.maps.event.trigger(this,"domready")}},e.prototype.getCloseBoxImg=function(){var e="";return""!==this.closeBoxURL&&(e='<img alt=""',e+=' aria-hidden="true"',e+=" src='"+this.closeBoxURL+"'",e+=" align=right",e+=" style='",e+=" position: relative;",e+=" cursor: pointer;",e+=" margin: "+this.closeBoxMargin+";",e+="'>"),e},e.prototype.addClickHandler=function(){this.closeListener=this.div&&this.div.firstChild&&""!==this.closeBoxURL?google.maps.event.addListener(this.div.firstChild,"click",this.getCloseClickHandler()):null},e.prototype.closeClickHandler=function(e){e.cancelBubble=!0,e.stopPropagation&&e.stopPropagation(),google.maps.event.trigger(this,"closeclick"),this.close()},e.prototype.getCloseClickHandler=function(){return this.closeClickHandler},e.prototype.panBox=function(e){if(this.div&&!e){var t=this.getMap();if(t instanceof google.maps.Map){var n=0,r=0,i=t.getBounds();i&&!i.contains(this.position)&&t.setCenter(this.position);var s=t.getDiv(),o=s.offsetWidth,a=s.offsetHeight,l=this.pixelOffset.width,c=this.pixelOffset.height,u=this.div.offsetWidth,h=this.div.offsetHeight,d=this.infoBoxClearance.width,f=this.infoBoxClearance.height,p=this.getProjection().fromLatLngToContainerPixel(this.position);null!==p&&(p.x<-l+d?n=p.x+l-d:p.x+u+l+d>o&&(n=p.x+u+l+d-o),this.alignBottom?p.y<-c+f+h?r=p.y+c-f-h:p.y+c+f>a&&(r=p.y+c+f-a):p.y<-c+f?r=p.y+c-f:p.y+h+c+f>a&&(r=p.y+h+c+f-a)),0===n&&0===r||t.panBy(n,r)}}},e.prototype.setBoxStyle=function(){if(this.div){this.div.className=this.boxClass,this.div.style.cssText="";var e=this.boxStyle;for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(this.div.style[t]=e[t]);if(this.div.style.webkitTransform="translateZ(0)","undefined"!==typeof this.div.style.opacity&&""!==this.div.style.opacity){var n=parseFloat(this.div.style.opacity||"");this.div.style.msFilter='"progid:DXImageTransform.Microsoft.Alpha(Opacity='+100*n+')"',this.div.style.filter="alpha(opacity="+100*n+")"}this.div.style.position="absolute",this.div.style.visibility="hidden",null!==this.zIndex&&(this.div.style.zIndex=this.zIndex+""),this.div.style.overflow||(this.div.style.overflow="auto")}},e.prototype.getBoxWidths=function(){var e={top:0,bottom:0,left:0,right:0};if(!this.div)return e;if(document.defaultView){var t=this.div.ownerDocument,n=t&&t.defaultView?t.defaultView.getComputedStyle(this.div,""):null;n&&(e.top=parseInt(n.borderTopWidth||"",10)||0,e.bottom=parseInt(n.borderBottomWidth||"",10)||0,e.left=parseInt(n.borderLeftWidth||"",10)||0,e.right=parseInt(n.borderRightWidth||"",10)||0)}else if(document.documentElement.currentStyle){var r=this.div.currentStyle;r&&(e.top=parseInt(r.borderTopWidth||"",10)||0,e.bottom=parseInt(r.borderBottomWidth||"",10)||0,e.left=parseInt(r.borderLeftWidth||"",10)||0,e.right=parseInt(r.borderRightWidth||"",10)||0)}return e},e.prototype.onRemove=function(){this.div&&this.div.parentNode&&(this.div.parentNode.removeChild(this.div),this.div=null)},e.prototype.draw=function(){if(this.createInfoBoxDiv(),this.div){var e=this.getProjection().fromLatLngToDivPixel(this.position);null!==e&&(this.div.style.left=e.x+this.pixelOffset.width+"px",this.alignBottom?this.div.style.bottom=-(e.y+this.pixelOffset.height)+"px":this.div.style.top=e.y+this.pixelOffset.height+"px"),this.isHidden?this.div.style.visibility="hidden":this.div.style.visibility="visible"}},e.prototype.setOptions=function(e){void 0===e&&(e={}),"undefined"!==typeof e.boxClass&&(this.boxClass=e.boxClass,this.setBoxStyle()),"undefined"!==typeof e.boxStyle&&(this.boxStyle=e.boxStyle,this.setBoxStyle()),"undefined"!==typeof e.content&&this.setContent(e.content),"undefined"!==typeof e.disableAutoPan&&(this.disableAutoPan=e.disableAutoPan),"undefined"!==typeof e.maxWidth&&(this.maxWidth=e.maxWidth),"undefined"!==typeof e.pixelOffset&&(this.pixelOffset=e.pixelOffset),"undefined"!==typeof e.alignBottom&&(this.alignBottom=e.alignBottom),"undefined"!==typeof e.position&&this.setPosition(e.position),"undefined"!==typeof e.zIndex&&this.setZIndex(e.zIndex),"undefined"!==typeof e.closeBoxMargin&&(this.closeBoxMargin=e.closeBoxMargin),"undefined"!==typeof e.closeBoxURL&&(this.closeBoxURL=e.closeBoxURL),"undefined"!==typeof e.infoBoxClearance&&(this.infoBoxClearance=e.infoBoxClearance),"undefined"!==typeof e.isHidden&&(this.isHidden=e.isHidden),"undefined"!==typeof e.visible&&(this.isHidden=!e.visible),"undefined"!==typeof e.enableEventPropagation&&(this.enableEventPropagation=e.enableEventPropagation),this.div&&this.draw()},e.prototype.setContent=function(e){this.content=e,this.div&&(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.fixedWidthSet||(this.div.style.width=""),"string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e)),this.fixedWidthSet||(this.div.style.width=this.div.offsetWidth+"px","string"===typeof e?this.div.innerHTML=this.getCloseBoxImg()+e:(this.div.innerHTML=this.getCloseBoxImg(),this.div.appendChild(e))),this.addClickHandler()),google.maps.event.trigger(this,"content_changed")},e.prototype.setPosition=function(e){this.position=e,this.div&&this.draw(),google.maps.event.trigger(this,"position_changed")},e.prototype.setVisible=function(e){this.isHidden=!e,this.div&&(this.div.style.visibility=this.isHidden?"hidden":"visible")},e.prototype.setZIndex=function(e){this.zIndex=e,this.div&&(this.div.style.zIndex=e+""),google.maps.event.trigger(this,"zindex_changed")},e.prototype.getContent=function(){return this.content},e.prototype.getPosition=function(){return this.position},e.prototype.getZIndex=function(){return this.zIndex},e.prototype.getVisible=function(){var e=this.getMap();return"undefined"!==typeof e&&null!==e&&!this.isHidden},e.prototype.show=function(){this.isHidden=!1,this.div&&(this.div.style.visibility="visible")},e.prototype.hide=function(){this.isHidden=!0,this.div&&(this.div.style.visibility="hidden")},e.prototype.open=function(e,t){var n=this;t&&(this.position=t.getPosition(),this.moveListener=google.maps.event.addListener(t,"position_changed",(function(){var e=t.getPosition();n.setPosition(e)})),this.mapListener=google.maps.event.addListener(t,"map_changed",(function(){n.setMap(t.map)}))),this.setMap(e),this.div&&this.panBox()},e.prototype.close=function(){if(this.closeListener&&(google.maps.event.removeListener(this.closeListener),this.closeListener=null),this.eventListeners){for(var e=0,t=this.eventListeners;e<t.length;e++){var n=t[e];google.maps.event.removeListener(n)}this.eventListeners=null}this.moveListener&&(google.maps.event.removeListener(this.moveListener),this.moveListener=null),this.mapListener&&(google.maps.event.removeListener(this.mapListener),this.mapListener=null),this.contextListener&&(google.maps.event.removeListener(this.contextListener),this.contextListener=null),this.setMap(null)},e.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)Object.prototype.hasOwnProperty.call(this,t)||(this.prototype[t]=e.prototype[t]);return this}.apply(e,[t])},e}(),fL={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},pL={options:function(e,t){e.setOptions(t)},position:function(e,t){t instanceof google.maps.LatLng?e.setPosition(t):e.setPosition(new google.maps.LatLng(t.lat,t.lng))},visible:function(e,t){e.setVisible(t)},zIndex:function(e,t){e.setZIndex(t)}},mL={};(0,r.memo)((function(e){var t=e.children,n=e.anchor,i=e.options,s=e.position,o=e.zIndex,a=e.onCloseClick,l=e.onDomReady,c=e.onContentChanged,u=e.onPositionChanged,h=e.onZindexChanged,d=e.onLoad,f=e.onUnmount,p=(0,r.useContext)(IN),m=(0,r.useState)(null),g=m[0],v=m[1],y=(0,r.useState)(null),b=y[0],_=y[1],w=(0,r.useState)(null),E=w[0],C=w[1],S=(0,r.useState)(null),x=S[0],k=S[1],T=(0,r.useState)(null),I=T[0],N=T[1],L=(0,r.useState)(null),P=L[0],R=L[1],O=(0,r.useRef)(null);return(0,r.useEffect)((function(){p&&null!==g&&(g.close(),n?g.open(p,n):g.getPosition()&&g.open(p))}),[p,g,n]),(0,r.useEffect)((function(){i&&null!==g&&g.setOptions(i)}),[g,i]),(0,r.useEffect)((function(){if(s&&null!==g){var e=s instanceof google.maps.LatLng?s:new google.maps.LatLng(s.lat,s.lng);g.setPosition(e)}}),[s]),(0,r.useEffect)((function(){"number"===typeof o&&null!==g&&g.setZIndex(o)}),[o]),(0,r.useEffect)((function(){g&&a&&(null!==b&&google.maps.event.removeListener(b),_(google.maps.event.addListener(g,"closeclick",a)))}),[a]),(0,r.useEffect)((function(){g&&l&&(null!==E&&google.maps.event.removeListener(E),C(google.maps.event.addListener(g,"domready",l)))}),[l]),(0,r.useEffect)((function(){g&&c&&(null!==x&&google.maps.event.removeListener(x),k(google.maps.event.addListener(g,"content_changed",c)))}),[c]),(0,r.useEffect)((function(){g&&u&&(null!==I&&google.maps.event.removeListener(I),N(google.maps.event.addListener(g,"position_changed",u)))}),[u]),(0,r.useEffect)((function(){g&&h&&(null!==P&&google.maps.event.removeListener(P),R(google.maps.event.addListener(g,"zindex_changed",h)))}),[h]),(0,r.useEffect)((function(){if(p){var e=i||mL,t=e.position,r=EN(e,["position"]),s=void 0;!t||t instanceof google.maps.LatLng||(s=new google.maps.LatLng(t.lat,t.lng));var o=new dL(wN(wN({},r),s?{position:s}:{}));O.current=document.createElement("div"),v(o),a&&_(google.maps.event.addListener(o,"closeclick",a)),l&&C(google.maps.event.addListener(o,"domready",l)),c&&k(google.maps.event.addListener(o,"content_changed",c)),u&&N(google.maps.event.addListener(o,"position_changed",u)),h&&R(google.maps.event.addListener(o,"zindex_changed",h)),o.setContent(O.current),n?o.open(p,n):o.getPosition()?o.open(p):TN(!1,"You must provide either an anchor or a position prop for <InfoBox>."),d&&d(o)}return function(){null!==g&&(b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),E&&google.maps.event.removeListener(E),I&&google.maps.event.removeListener(I),P&&google.maps.event.removeListener(P),f&&f(g),g.close())}}),[]),O.current?(0,kS.createPortal)(r.Children.only(t),O.current):null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoBox:null},t.open=function(e,n){n?null!==t.context&&e.open(t.context,n):e.getPosition()?null!==t.context&&e.open(t.context):TN(!1,"You must provide either an anchor or a position prop for <InfoBox>.")},t.setInfoBoxCallback=function(){null!==t.state.infoBox&&null!==t.containerElement&&(t.state.infoBox.setContent(t.containerElement),t.open(t.state.infoBox,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoBox))},t}_N(t,e),t.prototype.componentDidMount=function(){var e,t=this.props.options||{},n=t.position,r=EN(t,["position"]);!n||n instanceof google.maps.LatLng||(e=new google.maps.LatLng(n.lat,n.lng));var i=new dL(wN(wN({},r),e?{position:e}:{}));this.containerElement=document.createElement("div"),this.registeredEvents=ON({updaterMap:pL,eventMap:fL,prevProps:{},nextProps:this.props,instance:i}),this.setState({infoBox:i},this.setInfoBoxCallback)},t.prototype.componentDidUpdate=function(e){var t=this.state.infoBox;null!==t&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:pL,eventMap:fL,prevProps:e,nextProps:this.props,instance:t}))},t.prototype.componentWillUnmount=function(){var e=this.props.onUnmount,t=this.state.infoBox;null!==t&&(e&&e(t),RN(this.registeredEvents),t.close())},t.prototype.render=function(){return this.containerElement?(0,kS.createPortal)(r.Children.only(this.props.children),this.containerElement):null},t.contextType=IN}(r.PureComponent);var gL=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,s;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(s=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=r;0!==i--;){var o=s[i];if(!e(t[o],n[o]))return!1}return!0}return t!==t&&n!==n},vL=xN(gL);const yL=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class bL{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(1!==r)throw new Error("Got v".concat(r," data when expected v").concat(1,"."));const i=yL[15&n];if(!i)throw new Error("Unrecognized array type.");const[s]=new Uint16Array(e,2,1),[o]=new Uint32Array(e,4,1);return new bL(o,s,i,e)}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:64,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Float64Array,r=arguments.length>3?arguments[3]:void 0;if(isNaN(e)||e<0)throw new Error("Unpexpected numItems value: ".concat(e,"."));this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const i=yL.indexOf(this.ArrayType),s=2*e*this.ArrayType.BYTES_PER_ELEMENT,o=e*this.IndexArrayType.BYTES_PER_ELEMENT,a=(8-o%8)%8;if(i<0)throw new Error("Unexpected typed array class: ".concat(n,"."));r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+a,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+s+o+a),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+o+a,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error("Added ".concat(e," items when expected ").concat(this.numItems,"."));return _L(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:s,nodeSize:o}=this,a=[0,i.length-1,0],l=[];for(;a.length;){const c=a.pop()||0,u=a.pop()||0,h=a.pop()||0;if(u-h<=o){for(let o=h;o<=u;o++){const a=s[2*o],c=s[2*o+1];a>=e&&a<=n&&c>=t&&c<=r&&l.push(i[o])}continue}const d=h+u>>1,f=s[2*d],p=s[2*d+1];f>=e&&f<=n&&p>=t&&p<=r&&l.push(i[d]),(0===c?e<=f:t<=p)&&(a.push(h),a.push(d-1),a.push(1-c)),(0===c?n>=f:r>=p)&&(a.push(d+1),a.push(u),a.push(1-c))}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:s}=this,o=[0,r.length-1,0],a=[],l=n*n;for(;o.length;){const c=o.pop()||0,u=o.pop()||0,h=o.pop()||0;if(u-h<=s){for(let n=h;n<=u;n++)SL(i[2*n],i[2*n+1],e,t)<=l&&a.push(r[n]);continue}const d=h+u>>1,f=i[2*d],p=i[2*d+1];SL(f,p,e,t)<=l&&a.push(r[d]),(0===c?e-n<=f:t-n<=p)&&(o.push(h),o.push(d-1),o.push(1-c)),(0===c?e+n>=f:t+n>=p)&&(o.push(d+1),o.push(u),o.push(1-c))}return a}}function _L(e,t,n,r,i,s){if(i-r<=n)return;const o=r+i>>1;wL(e,t,o,r,i,s),_L(e,t,n,r,o-1,1-s),_L(e,t,n,o+1,i,1-s)}function wL(e,t,n,r,i,s){for(;i>r;){if(i-r>600){const o=i-r+1,a=n-r+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(a-o/2<0?-1:1);wL(e,t,n,Math.max(r,Math.floor(n-a*c/o+u)),Math.min(i,Math.floor(n+(o-a)*c/o+u)),s)}const o=t[2*n+s];let a=r,l=i;for(EL(e,t,r,n),t[2*i+s]>o&&EL(e,t,r,i);a<l;){for(EL(e,t,a,l),a++,l--;t[2*a+s]<o;)a++;for(;t[2*l+s]>o;)l--}t[2*r+s]===o?EL(e,t,r,l):(l++,EL(e,t,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function EL(e,t,n,r){CL(e,n,r),CL(t,2*n,2*r),CL(t,2*n+1,2*r+1)}function CL(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function SL(e,t,n,r){const i=e-n,s=t-r;return i*i+s*s}const xL={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},kL=Math.fround||(TL=new Float32Array(1),e=>(TL[0]=+e,TL[0]));var TL;const IL=3,NL=5,LL=6;class PL{constructor(e){this.options=Object.assign(Object.create(xL),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");const i="prepare ".concat(e.length," points");t&&console.time(i),this.points=e;const s=[];for(let a=0;a<e.length;a++){const t=e[a];if(!t.geometry)continue;const[n,r]=t.geometry.coordinates,i=kL(AL(n)),o=kL(DL(r));s.push(i,o,1/0,a,-1,1),this.options.reduce&&s.push(0)}let o=this.trees[r+1]=this._createTree(s);t&&console.timeEnd(i);for(let a=r;a>=n;a--){const e=+Date.now();o=this.trees[a]=this._createTree(this._cluster(o,a)),t&&console.log("z%d: %d clusters in %dms",a,o.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const s=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){const e=this.getClusters([n,r,180,s],t),o=this.getClusters([-180,r,i,s],t);return e.concat(o)}const o=this.trees[this._limitZoom(t)],a=o.range(AL(n),DL(s),AL(i),DL(r)),l=o.data,c=[];for(const u of a){const e=this.stride*u;c.push(l[e+NL]>1?RL(l,e,this.clusterProps):this.points[l[e+IL]])}return c}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const s=i.data;if(t*this.stride>=s.length)throw new Error(r);const o=this.options.radius/(this.options.extent*Math.pow(2,n-1)),a=s[t*this.stride],l=s[t*this.stride+1],c=i.within(a,l,o),u=[];for(const h of c){const t=h*this.stride;s[t+4]===e&&u.push(s[t+NL]>1?RL(s,t,this.clusterProps):this.points[s[t+IL]])}if(0===u.length)throw new Error(r);return u}getLeaves(e,t,n){t=t||10,n=n||0;const r=[];return this._appendLeaves(r,e,t,n,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:s,radius:o}=this.options,a=o/s,l=(n-a)/i,c=(n+1+a)/i,u={features:[]};return this._addTileFeatures(r.range((t-a)/i,l,(t+1+a)/i,c),r.data,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-a/i,l,1,c),r.data,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,l,a/i,c),r.data,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){const s=this.getChildren(t);for(const o of s){const t=o.properties;if(t&&t.cluster?i+t.point_count<=r?i+=t.point_count:i=this._appendLeaves(e,t.cluster_id,n,r,i):i<r?i++:e.push(o),e.length===n)break}return i}_createTree(e){const t=new bL(e.length/this.stride|0,this.options.nodeSize,Float32Array);for(let n=0;n<e.length;n+=this.stride)t.add(e[n],e[n+1]);return t.finish(),t.data=e,t}_addTileFeatures(e,t,n,r,i,s){for(const o of e){const e=o*this.stride,a=t[e+NL]>1;let l,c,u;if(a)l=OL(t,e,this.clusterProps),c=t[e],u=t[e+1];else{const n=this.points[t[e+IL]];l=n.properties;const[r,i]=n.geometry.coordinates;c=AL(r),u=DL(i)}const h={type:1,geometry:[[Math.round(this.options.extent*(c*i-n)),Math.round(this.options.extent*(u*i-r))]],tags:l};let d;d=a||this.options.generateId?t[e+IL]:this.points[t[e+IL]].id,void 0!==d&&(h.id=d),s.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:r,reduce:i,minPoints:s}=this.options,o=n/(r*Math.pow(2,t)),a=e.data,l=[],c=this.stride;for(let u=0;u<a.length;u+=c){if(a[u+2]<=t)continue;a[u+2]=t;const n=a[u],r=a[u+1],h=e.within(a[u],a[u+1],o),d=a[u+NL];let f=d;for(const e of h){const n=e*c;a[n+2]>t&&(f+=a[n+NL])}if(f>d&&f>=s){let e,s=n*d,o=r*d,p=-1;const m=(u/c<<5)+(t+1)+this.points.length;for(const n of h){const r=n*c;if(a[r+2]<=t)continue;a[r+2]=t;const l=a[r+NL];s+=a[r]*l,o+=a[r+1]*l,a[r+4]=m,i&&(e||(e=this._map(a,u,!0),p=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(a,r)))}a[u+4]=m,l.push(s/f,o/f,1/0,m,-1,f),i&&l.push(p)}else{for(let e=0;e<c;e++)l.push(a[u+e]);if(f>1)for(const e of h){const n=e*c;if(!(a[n+2]<=t)){a[n+2]=t;for(let e=0;e<c;e++)l.push(a[n+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+NL]>1){const r=this.clusterProps[e[t+LL]];return n?Object.assign({},r):r}const r=this.points[e[t+IL]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function RL(e,t,n){return{type:"Feature",id:e[t+IL],properties:OL(e,t,n),geometry:{type:"Point",coordinates:[ML(e[t]),jL(e[t+1])]}}}function OL(e,t,n){const r=e[t+NL],i=r>=1e4?"".concat(Math.round(r/1e3),"k"):r>=1e3?"".concat(Math.round(r/100)/10,"k"):r,s=e[t+LL],o=-1===s?{}:Object.assign({},n[s]);return Object.assign(o,{cluster:!0,cluster_id:e[t+IL],point_count:r,point_count_abbreviated:i})}function AL(e){return e/360+.5}function DL(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function ML(e){return 360*(e-.5)}function jL(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function UL(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}class FL{static isAdvancedMarkerAvailable(e){return google.maps.marker&&!0===e.getMapCapabilities().isAdvancedMarkersAvailable}static isAdvancedMarker(e){return google.maps.marker&&e instanceof google.maps.marker.AdvancedMarkerElement}static setMap(e,t){this.isAdvancedMarker(e)?e.map=t:e.setMap(t)}static getPosition(e){if(this.isAdvancedMarker(e)){if(e.position){if(e.position instanceof google.maps.LatLng)return e.position;if(e.position.lat&&e.position.lng)return new google.maps.LatLng(e.position.lat,e.position.lng)}return new google.maps.LatLng(null)}return e.getPosition()}static getVisible(e){return!!this.isAdvancedMarker(e)||e.getVisible()}}class BL{constructor(e){let{markers:t,position:n}=e;this.markers=t,n&&(n instanceof google.maps.LatLng?this._position=n:this._position=new google.maps.LatLng(n))}get bounds(){if(0===this.markers.length&&!this._position)return;const e=new google.maps.LatLngBounds(this._position,this._position);for(const t of this.markers)e.extend(FL.getPosition(t));return e}get position(){return this._position||this.bounds.getCenter()}get count(){return this.markers.filter((e=>FL.getVisible(e))).length}push(e){this.markers.push(e)}delete(){this.marker&&(FL.setMap(this.marker,null),this.marker=void 0),this.markers.length=0}}class VL{constructor(e){let{maxZoom:t=16}=e;this.maxZoom=t}noop(e){let{markers:t}=e;return zL(t)}}const zL=e=>e.map((e=>new BL({position:FL.getPosition(e),markers:[e]})));class qL extends VL{constructor(e){var{maxZoom:t,radius:n=60}=e,r=UL(e,["maxZoom","radius"]);super({maxZoom:t}),this.state={zoom:-1},this.superCluster=new PL(Object.assign({maxZoom:this.maxZoom,radius:n},r))}calculate(e){let t=!1;const n={zoom:e.map.getZoom()};if(!vL(e.markers,this.markers)){t=!0,this.markers=[...e.markers];const n=this.markers.map((e=>{const t=FL.getPosition(e);return{type:"Feature",geometry:{type:"Point",coordinates:[t.lng(),t.lat()]},properties:{marker:e}}}));this.superCluster.load(n)}return t||(this.state.zoom<=this.maxZoom||n.zoom<=this.maxZoom)&&(t=!vL(this.state,n)),this.state=n,t&&(this.clusters=this.cluster(e)),{clusters:this.clusters,changed:t}}cluster(e){let{map:t}=e;return this.superCluster.getClusters([-180,-90,180,90],Math.round(t.getZoom())).map((e=>this.transformCluster(e)))}transformCluster(e){let{geometry:{coordinates:[t,n]},properties:r}=e;if(r.cluster)return new BL({markers:this.superCluster.getLeaves(r.cluster_id,1/0).map((e=>e.properties.marker)),position:{lat:n,lng:t}});const i=r.marker;return new BL({markers:[i],position:FL.getPosition(i)})}}class WL{constructor(e,t){this.markers={sum:e.length};const n=t.map((e=>e.count)),r=n.reduce(((e,t)=>e+t),0);this.clusters={count:t.length,markers:{mean:r/t.length,sum:r,min:Math.min(...n),max:Math.max(...n)}}}}class HL{render(e,t,n){let{count:r,position:i}=e;const s=r>Math.max(10,t.clusters.markers.mean)?"#ff0000":"#0000ff",o='<svg fill="'.concat(s,'" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 240 240" width="50" height="50">\n<circle cx="120" cy="120" opacity=".6" r="70" />\n<circle cx="120" cy="120" opacity=".3" r="90" />\n<circle cx="120" cy="120" opacity=".2" r="110" />\n<text x="50%" y="50%" style="fill:#fff" text-anchor="middle" font-size="50" dominant-baseline="middle" font-family="roboto,arial,sans-serif">').concat(r,"</text>\n</svg>"),a="Cluster of ".concat(r," markers"),l=Number(google.maps.Marker.MAX_ZINDEX)+r;if(FL.isAdvancedMarkerAvailable(n)){const e=(new DOMParser).parseFromString(o,"image/svg+xml").documentElement;e.setAttribute("transform","translate(0 25)");const t={map:n,position:i,zIndex:l,title:a,content:e};return new google.maps.marker.AdvancedMarkerElement(t)}const c={position:i,zIndex:l,title:a,icon:{url:"data:image/svg+xml;base64,".concat(btoa(o)),anchor:new google.maps.Point(25,25)}};return new google.maps.Marker(c)}}class KL{constructor(){!function(e,t){for(let n in t.prototype)e.prototype[n]=t.prototype[n]}(KL,google.maps.OverlayView)}}var GL;!function(e){e.CLUSTERING_BEGIN="clusteringbegin",e.CLUSTERING_END="clusteringend",e.CLUSTER_CLICK="click"}(GL||(GL={}));const QL=(e,t,n)=>{n.fitBounds(t.bounds)};class YL extends KL{constructor(e){let{map:t,markers:n=[],algorithmOptions:r={},algorithm:i=new qL(r),renderer:s=new HL,onClusterClick:o=QL}=e;super(),this.markers=[...n],this.clusters=[],this.algorithm=i,this.renderer=s,this.onClusterClick=o,t&&this.setMap(t)}addMarker(e,t){this.markers.includes(e)||(this.markers.push(e),t||this.render())}addMarkers(e,t){e.forEach((e=>{this.addMarker(e,!0)})),t||this.render()}removeMarker(e,t){const n=this.markers.indexOf(e);return-1!==n&&(FL.setMap(e,null),this.markers.splice(n,1),t||this.render(),!0)}removeMarkers(e,t){let n=!1;return e.forEach((e=>{n=this.removeMarker(e,!0)||n})),n&&!t&&this.render(),n}clearMarkers(e){this.markers.length=0,e||this.render()}render(){const e=this.getMap();if(e instanceof google.maps.Map&&e.getProjection()){google.maps.event.trigger(this,GL.CLUSTERING_BEGIN,this);const{clusters:t,changed:n}=this.algorithm.calculate({markers:this.markers,map:e,mapCanvasProjection:this.getProjection()});if(n||void 0==n){const e=new Set;for(const r of t)1==r.markers.length&&e.add(r.markers[0]);const n=[];for(const t of this.clusters)null!=t.marker&&(1==t.markers.length?e.has(t.marker)||FL.setMap(t.marker,null):n.push(t.marker));this.clusters=t,this.renderClusters(),requestAnimationFrame((()=>n.forEach((e=>FL.setMap(e,null)))))}google.maps.event.trigger(this,GL.CLUSTERING_END,this)}}onAdd(){this.idleListener=this.getMap().addListener("idle",this.render.bind(this)),this.render()}onRemove(){google.maps.event.removeListener(this.idleListener),this.reset()}reset(){this.markers.forEach((e=>FL.setMap(e,null))),this.clusters.forEach((e=>e.delete())),this.clusters=[]}renderClusters(){const e=new WL(this.markers,this.clusters),t=this.getMap();this.clusters.forEach((n=>{1===n.markers.length?n.marker=n.markers[0]:(n.marker=this.renderer.render(n,e,t),n.markers.forEach((e=>FL.setMap(e,null))),this.onClusterClick&&n.marker.addListener("click",(e=>{google.maps.event.trigger(this,GL.CLUSTER_CLICK,n),this.onClusterClick(e,n,t)}))),FL.setMap(n.marker,t)}))}}function JL(e){var t=function(){TN(!!r.useContext,"useGoogleMap is React hook and requires React version 16.8+");var e=(0,r.useContext)(IN);return TN(!!e,"useGoogleMap needs a GoogleMap available up in the tree"),e}(),n=(0,r.useState)(null),i=n[0],s=n[1];return(0,r.useEffect)((function(){if(t&&null===i){var n=new YL(wN(wN({},e),{map:t}));s(n)}}),[t]),i}(0,r.memo)((function(e){var t=e.children,n=JL(e.options);return null!==n?t(n):null}));var $L={onCloseClick:"closeclick",onContentChanged:"content_changed",onDomReady:"domready",onPositionChanged:"position_changed",onZindexChanged:"zindex_changed"},XL={options:function(e,t){e.setOptions(t)},position:function(e,t){e.setPosition(t)},zIndex:function(e,t){e.setZIndex(t)}};(0,r.memo)((function(e){var t=e.children,n=e.anchor,i=e.options,s=e.position,o=e.zIndex,a=e.onCloseClick,l=e.onDomReady,c=e.onContentChanged,u=e.onPositionChanged,h=e.onZindexChanged,d=e.onLoad,f=e.onUnmount,p=(0,r.useContext)(IN),m=(0,r.useState)(null),g=m[0],v=m[1],y=(0,r.useState)(null),b=y[0],_=y[1],w=(0,r.useState)(null),E=w[0],C=w[1],S=(0,r.useState)(null),x=S[0],k=S[1],T=(0,r.useState)(null),I=T[0],N=T[1],L=(0,r.useState)(null),P=L[0],R=L[1],O=(0,r.useRef)(null);return(0,r.useEffect)((function(){null!==g&&(g.close(),n?g.open(p,n):g.getPosition()&&g.open(p))}),[p,g,n]),(0,r.useEffect)((function(){i&&null!==g&&g.setOptions(i)}),[g,i]),(0,r.useEffect)((function(){s&&null!==g&&g.setPosition(s)}),[s]),(0,r.useEffect)((function(){"number"===typeof o&&null!==g&&g.setZIndex(o)}),[o]),(0,r.useEffect)((function(){g&&a&&(null!==b&&google.maps.event.removeListener(b),_(google.maps.event.addListener(g,"closeclick",a)))}),[a]),(0,r.useEffect)((function(){g&&l&&(null!==E&&google.maps.event.removeListener(E),C(google.maps.event.addListener(g,"domready",l)))}),[l]),(0,r.useEffect)((function(){g&&c&&(null!==x&&google.maps.event.removeListener(x),k(google.maps.event.addListener(g,"content_changed",c)))}),[c]),(0,r.useEffect)((function(){g&&u&&(null!==I&&google.maps.event.removeListener(I),N(google.maps.event.addListener(g,"position_changed",u)))}),[u]),(0,r.useEffect)((function(){g&&h&&(null!==P&&google.maps.event.removeListener(P),R(google.maps.event.addListener(g,"zindex_changed",h)))}),[h]),(0,r.useEffect)((function(){var e=new google.maps.InfoWindow(wN({},i||{}));return v(e),O.current=document.createElement("div"),a&&_(google.maps.event.addListener(e,"closeclick",a)),l&&C(google.maps.event.addListener(e,"domready",l)),c&&k(google.maps.event.addListener(e,"content_changed",c)),u&&N(google.maps.event.addListener(e,"position_changed",u)),h&&R(google.maps.event.addListener(e,"zindex_changed",h)),e.setContent(O.current),s&&e.setPosition(s),o&&e.setZIndex(o),n?e.open(p,n):e.getPosition()?e.open(p):TN(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>."),d&&d(e),function(){b&&google.maps.event.removeListener(b),x&&google.maps.event.removeListener(x),E&&google.maps.event.removeListener(E),I&&google.maps.event.removeListener(I),P&&google.maps.event.removeListener(P),f&&f(e),e.close()}}),[]),O.current?(0,kS.createPortal)(r.Children.only(t),O.current):null}));var ZL=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=null,t.state={infoWindow:null},t.open=function(e,n){n?e.open(t.context,n):e.getPosition()?e.open(t.context):TN(!1,"You must provide either an anchor (typically render it inside a <Marker>) or a position props for <InfoWindow>.")},t.setInfoWindowCallback=function(){null!==t.state.infoWindow&&null!==t.containerElement&&(t.state.infoWindow.setContent(t.containerElement),t.open(t.state.infoWindow,t.props.anchor),t.props.onLoad&&t.props.onLoad(t.state.infoWindow))},t}return _N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.InfoWindow(wN({},this.props.options||{}));this.containerElement=document.createElement("div"),this.registeredEvents=ON({updaterMap:XL,eventMap:$L,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{infoWindow:e}}),this.setInfoWindowCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.infoWindow&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:XL,eventMap:$L,prevProps:e,nextProps:this.props,instance:this.state.infoWindow}))},t.prototype.componentWillUnmount=function(){null!==this.state.infoWindow&&(RN(this.registeredEvents),this.props.onUnmount&&this.props.onUnmount(this.state.infoWindow),this.state.infoWindow.close())},t.prototype.render=function(){return this.containerElement?(0,kS.createPortal)(r.Children.only(this.props.children),this.containerElement):null},t.contextType=IN,t}(r.PureComponent),eP={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},tP={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},visible:function(e,t){e.setVisible(t)}},nP={};(0,r.memo)((function(e){var t=e.options,n=e.draggable,i=e.editable,s=e.visible,o=e.path,a=e.onDblClick,l=e.onDragEnd,c=e.onDragStart,u=e.onMouseDown,h=e.onMouseMove,d=e.onMouseOut,f=e.onMouseOver,p=e.onMouseUp,m=e.onRightClick,g=e.onClick,v=e.onDrag,y=e.onLoad,b=e.onUnmount,_=(0,r.useContext)(IN),w=(0,r.useState)(null),E=w[0],C=w[1],S=(0,r.useState)(null),x=S[0],k=S[1],T=(0,r.useState)(null),I=T[0],N=T[1],L=(0,r.useState)(null),P=L[0],R=L[1],O=(0,r.useState)(null),A=O[0],D=O[1],M=(0,r.useState)(null),j=M[0],U=M[1],F=(0,r.useState)(null),B=F[0],V=F[1],z=(0,r.useState)(null),q=z[0],W=z[1],H=(0,r.useState)(null),K=H[0],G=H[1],Q=(0,r.useState)(null),Y=Q[0],J=Q[1],$=(0,r.useState)(null),X=$[0],Z=$[1],ee=(0,r.useState)(null),te=ee[0],ne=ee[1];return(0,r.useEffect)((function(){null!==E&&E.setMap(_)}),[_]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==E&&E.setOptions(t)}),[E,t]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==E&&E.setDraggable(n)}),[E,n]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==E&&E.setEditable(i)}),[E,i]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==E&&E.setVisible(s)}),[E,s]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==E&&E.setPath(o)}),[E,o]),(0,r.useEffect)((function(){E&&a&&(null!==x&&google.maps.event.removeListener(x),k(google.maps.event.addListener(E,"dblclick",a)))}),[a]),(0,r.useEffect)((function(){E&&l&&(null!==I&&google.maps.event.removeListener(I),N(google.maps.event.addListener(E,"dragend",l)))}),[l]),(0,r.useEffect)((function(){E&&c&&(null!==P&&google.maps.event.removeListener(P),R(google.maps.event.addListener(E,"dragstart",c)))}),[c]),(0,r.useEffect)((function(){E&&u&&(null!==A&&google.maps.event.removeListener(A),D(google.maps.event.addListener(E,"mousedown",u)))}),[u]),(0,r.useEffect)((function(){E&&h&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(E,"mousemove",h)))}),[h]),(0,r.useEffect)((function(){E&&d&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(E,"mouseout",d)))}),[d]),(0,r.useEffect)((function(){E&&f&&(null!==q&&google.maps.event.removeListener(q),W(google.maps.event.addListener(E,"mouseover",f)))}),[f]),(0,r.useEffect)((function(){E&&p&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(E,"mouseup",p)))}),[p]),(0,r.useEffect)((function(){E&&m&&(null!==Y&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(E,"rightclick",m)))}),[m]),(0,r.useEffect)((function(){E&&g&&(null!==X&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(E,"click",g)))}),[g]),(0,r.useEffect)((function(){E&&v&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(E,"drag",v)))}),[v]),(0,r.useEffect)((function(){var e=new google.maps.Polyline(wN(wN({},t||nP),{map:_}));return o&&e.setPath(o),"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof n&&e.setDraggable(n),a&&k(google.maps.event.addListener(e,"dblclick",a)),l&&N(google.maps.event.addListener(e,"dragend",l)),c&&R(google.maps.event.addListener(e,"dragstart",c)),u&&D(google.maps.event.addListener(e,"mousedown",u)),h&&U(google.maps.event.addListener(e,"mousemove",h)),d&&V(google.maps.event.addListener(e,"mouseout",d)),f&&W(google.maps.event.addListener(e,"mouseover",f)),p&&G(google.maps.event.addListener(e,"mouseup",p)),m&&J(google.maps.event.addListener(e,"rightclick",m)),g&&Z(google.maps.event.addListener(e,"click",g)),v&&ne(google.maps.event.addListener(e,"drag",v)),C(e),y&&y(e),function(){null!==x&&google.maps.event.removeListener(x),null!==I&&google.maps.event.removeListener(I),null!==P&&google.maps.event.removeListener(P),null!==A&&google.maps.event.removeListener(A),null!==j&&google.maps.event.removeListener(j),null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),null!==K&&google.maps.event.removeListener(K),null!==Y&&google.maps.event.removeListener(Y),null!==X&&google.maps.event.removeListener(X),b&&b(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polyline:null},t.setPolylineCallback=function(){null!==t.state.polyline&&t.props.onLoad&&t.props.onLoad(t.state.polyline)},t}_N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polyline(wN(wN({},this.props.options||{}),{map:this.context}));this.registeredEvents=ON({updaterMap:tP,eventMap:eP,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polyline:e}}),this.setPolylineCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polyline&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:tP,eventMap:eP,prevProps:e,nextProps:this.props,instance:this.state.polyline}))},t.prototype.componentWillUnmount=function(){null!==this.state.polyline&&(this.props.onUnmount&&this.props.onUnmount(this.state.polyline),RN(this.registeredEvents),this.state.polyline.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent);var rP={onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},iP={draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},path:function(e,t){e.setPath(t)},paths:function(e,t){e.setPaths(t)},visible:function(e,t){e.setVisible(t)}};(0,r.memo)((function(e){var t=e.options,n=e.draggable,i=e.editable,s=e.visible,o=e.path,a=e.paths,l=e.onDblClick,c=e.onDragEnd,u=e.onDragStart,h=e.onMouseDown,d=e.onMouseMove,f=e.onMouseOut,p=e.onMouseOver,m=e.onMouseUp,g=e.onRightClick,v=e.onClick,y=e.onDrag,b=e.onLoad,_=e.onUnmount,w=e.onEdit,E=(0,r.useContext)(IN),C=(0,r.useState)(null),S=C[0],x=C[1],k=(0,r.useState)(null),T=k[0],I=k[1],N=(0,r.useState)(null),L=N[0],P=N[1],R=(0,r.useState)(null),O=R[0],A=R[1],D=(0,r.useState)(null),M=D[0],j=D[1],U=(0,r.useState)(null),F=U[0],B=U[1],V=(0,r.useState)(null),z=V[0],q=V[1],W=(0,r.useState)(null),H=W[0],K=W[1],G=(0,r.useState)(null),Q=G[0],Y=G[1],J=(0,r.useState)(null),$=J[0],X=J[1],Z=(0,r.useState)(null),ee=Z[0],te=Z[1],ne=(0,r.useState)(null),re=ne[0],ie=ne[1];return(0,r.useEffect)((function(){null!==S&&S.setMap(E)}),[E]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==S&&S.setOptions(t)}),[S,t]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==S&&S.setDraggable(n)}),[S,n]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==S&&S.setEditable(i)}),[S,i]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==S&&S.setVisible(s)}),[S,s]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==S&&S.setPath(o)}),[S,o]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==S&&S.setPaths(a)}),[S,a]),(0,r.useEffect)((function(){S&&l&&(null!==T&&google.maps.event.removeListener(T),I(google.maps.event.addListener(S,"dblclick",l)))}),[l]),(0,r.useEffect)((function(){S&&(google.maps.event.addListener(S.getPath(),"insert_at",(function(){null===w||void 0===w||w(S)})),google.maps.event.addListener(S.getPath(),"set_at",(function(){null===w||void 0===w||w(S)})))}),[S,w]),(0,r.useEffect)((function(){S&&c&&(null!==L&&google.maps.event.removeListener(L),P(google.maps.event.addListener(S,"dragend",c)))}),[c]),(0,r.useEffect)((function(){S&&u&&(null!==O&&google.maps.event.removeListener(O),A(google.maps.event.addListener(S,"dragstart",u)))}),[u]),(0,r.useEffect)((function(){S&&h&&(null!==M&&google.maps.event.removeListener(M),j(google.maps.event.addListener(S,"mousedown",h)))}),[h]),(0,r.useEffect)((function(){S&&d&&(null!==F&&google.maps.event.removeListener(F),B(google.maps.event.addListener(S,"mousemove",d)))}),[d]),(0,r.useEffect)((function(){S&&f&&(null!==z&&google.maps.event.removeListener(z),q(google.maps.event.addListener(S,"mouseout",f)))}),[f]),(0,r.useEffect)((function(){S&&p&&(null!==H&&google.maps.event.removeListener(H),K(google.maps.event.addListener(S,"mouseover",p)))}),[p]),(0,r.useEffect)((function(){S&&m&&(null!==Q&&google.maps.event.removeListener(Q),Y(google.maps.event.addListener(S,"mouseup",m)))}),[m]),(0,r.useEffect)((function(){S&&g&&(null!==$&&google.maps.event.removeListener($),X(google.maps.event.addListener(S,"rightclick",g)))}),[g]),(0,r.useEffect)((function(){S&&v&&(null!==ee&&google.maps.event.removeListener(ee),te(google.maps.event.addListener(S,"click",v)))}),[v]),(0,r.useEffect)((function(){S&&y&&(null!==re&&google.maps.event.removeListener(re),ie(google.maps.event.addListener(S,"drag",y)))}),[y]),(0,r.useEffect)((function(){var e=new google.maps.Polygon(wN(wN({},t||{}),{map:E}));return o&&e.setPath(o),a&&e.setPaths(a),"undefined"!==typeof s&&e.setVisible(s),"undefined"!==typeof i&&e.setEditable(i),"undefined"!==typeof n&&e.setDraggable(n),l&&I(google.maps.event.addListener(e,"dblclick",l)),c&&P(google.maps.event.addListener(e,"dragend",c)),u&&A(google.maps.event.addListener(e,"dragstart",u)),h&&j(google.maps.event.addListener(e,"mousedown",h)),d&&B(google.maps.event.addListener(e,"mousemove",d)),f&&q(google.maps.event.addListener(e,"mouseout",f)),p&&K(google.maps.event.addListener(e,"mouseover",p)),m&&Y(google.maps.event.addListener(e,"mouseup",m)),g&&X(google.maps.event.addListener(e,"rightclick",g)),v&&te(google.maps.event.addListener(e,"click",v)),y&&ie(google.maps.event.addListener(e,"drag",y)),x(e),b&&b(e),function(){null!==T&&google.maps.event.removeListener(T),null!==L&&google.maps.event.removeListener(L),null!==O&&google.maps.event.removeListener(O),null!==M&&google.maps.event.removeListener(M),null!==F&&google.maps.event.removeListener(F),null!==z&&google.maps.event.removeListener(z),null!==H&&google.maps.event.removeListener(H),null!==Q&&google.maps.event.removeListener(Q),null!==$&&google.maps.event.removeListener($),null!==ee&&google.maps.event.removeListener(ee),_&&_(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={polygon:null},t.setPolygonCallback=function(){null!==t.state.polygon&&t.props.onLoad&&t.props.onLoad(t.state.polygon)},t}_N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Polygon(wN(wN({},this.props.options||{}),{map:this.context}));this.registeredEvents=ON({updaterMap:iP,eventMap:rP,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{polygon:e}}),this.setPolygonCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.polygon&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:iP,eventMap:rP,prevProps:e,nextProps:this.props,instance:this.state.polygon}))},t.prototype.componentWillUnmount=function(){null!==this.state.polygon&&(this.props.onUnmount&&this.props.onUnmount(this.state.polygon),RN(this.registeredEvents),this.state.polygon&&this.state.polygon.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent);var sP={onBoundsChanged:"bounds_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},oP={bounds:function(e,t){e.setBounds(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},visible:function(e,t){e.setVisible(t)}};(0,r.memo)((function(e){var t=e.options,n=e.bounds,i=e.draggable,s=e.editable,o=e.visible,a=e.onDblClick,l=e.onDragEnd,c=e.onDragStart,u=e.onMouseDown,h=e.onMouseMove,d=e.onMouseOut,f=e.onMouseOver,p=e.onMouseUp,m=e.onRightClick,g=e.onClick,v=e.onDrag,y=e.onBoundsChanged,b=e.onLoad,_=e.onUnmount,w=(0,r.useContext)(IN),E=(0,r.useState)(null),C=E[0],S=E[1],x=(0,r.useState)(null),k=x[0],T=x[1],I=(0,r.useState)(null),N=I[0],L=I[1],P=(0,r.useState)(null),R=P[0],O=P[1],A=(0,r.useState)(null),D=A[0],M=A[1],j=(0,r.useState)(null),U=j[0],F=j[1],B=(0,r.useState)(null),V=B[0],z=B[1],q=(0,r.useState)(null),W=q[0],H=q[1],K=(0,r.useState)(null),G=K[0],Q=K[1],Y=(0,r.useState)(null),J=Y[0],$=Y[1],X=(0,r.useState)(null),Z=X[0],ee=X[1],te=(0,r.useState)(null),ne=te[0],re=te[1],ie=(0,r.useState)(null),se=ie[0],oe=ie[1];return(0,r.useEffect)((function(){null!==C&&C.setMap(w)}),[w]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==C&&C.setOptions(t)}),[C,t]),(0,r.useEffect)((function(){"undefined"!==typeof i&&null!==C&&C.setDraggable(i)}),[C,i]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==C&&C.setEditable(s)}),[C,s]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==C&&C.setVisible(o)}),[C,o]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==C&&C.setBounds(n)}),[C,n]),(0,r.useEffect)((function(){C&&a&&(null!==k&&google.maps.event.removeListener(k),T(google.maps.event.addListener(C,"dblclick",a)))}),[a]),(0,r.useEffect)((function(){C&&l&&(null!==N&&google.maps.event.removeListener(N),L(google.maps.event.addListener(C,"dragend",l)))}),[l]),(0,r.useEffect)((function(){C&&c&&(null!==R&&google.maps.event.removeListener(R),O(google.maps.event.addListener(C,"dragstart",c)))}),[c]),(0,r.useEffect)((function(){C&&u&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(C,"mousedown",u)))}),[u]),(0,r.useEffect)((function(){C&&h&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(C,"mousemove",h)))}),[h]),(0,r.useEffect)((function(){C&&d&&(null!==V&&google.maps.event.removeListener(V),z(google.maps.event.addListener(C,"mouseout",d)))}),[d]),(0,r.useEffect)((function(){C&&f&&(null!==W&&google.maps.event.removeListener(W),H(google.maps.event.addListener(C,"mouseover",f)))}),[f]),(0,r.useEffect)((function(){C&&p&&(null!==G&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(C,"mouseup",p)))}),[p]),(0,r.useEffect)((function(){C&&m&&(null!==J&&google.maps.event.removeListener(J),$(google.maps.event.addListener(C,"rightclick",m)))}),[m]),(0,r.useEffect)((function(){C&&g&&(null!==Z&&google.maps.event.removeListener(Z),ee(google.maps.event.addListener(C,"click",g)))}),[g]),(0,r.useEffect)((function(){C&&v&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(C,"drag",v)))}),[v]),(0,r.useEffect)((function(){C&&y&&(null!==se&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(C,"bounds_changed",y)))}),[y]),(0,r.useEffect)((function(){var e=new google.maps.Rectangle(wN(wN({},t||{}),{map:w}));return"undefined"!==typeof o&&e.setVisible(o),"undefined"!==typeof s&&e.setEditable(s),"undefined"!==typeof i&&e.setDraggable(i),"undefined"!==typeof n&&e.setBounds(n),a&&T(google.maps.event.addListener(e,"dblclick",a)),l&&L(google.maps.event.addListener(e,"dragend",l)),c&&O(google.maps.event.addListener(e,"dragstart",c)),u&&M(google.maps.event.addListener(e,"mousedown",u)),h&&F(google.maps.event.addListener(e,"mousemove",h)),d&&z(google.maps.event.addListener(e,"mouseout",d)),f&&H(google.maps.event.addListener(e,"mouseover",f)),p&&Q(google.maps.event.addListener(e,"mouseup",p)),m&&$(google.maps.event.addListener(e,"rightclick",m)),g&&ee(google.maps.event.addListener(e,"click",g)),v&&re(google.maps.event.addListener(e,"drag",v)),y&&oe(google.maps.event.addListener(e,"bounds_changed",y)),S(e),b&&b(e),function(){null!==k&&google.maps.event.removeListener(k),null!==N&&google.maps.event.removeListener(N),null!==R&&google.maps.event.removeListener(R),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),null!==W&&google.maps.event.removeListener(W),null!==G&&google.maps.event.removeListener(G),null!==J&&google.maps.event.removeListener(J),null!==Z&&google.maps.event.removeListener(Z),null!==ne&&google.maps.event.removeListener(ne),null!==se&&google.maps.event.removeListener(se),_&&_(e),e.setMap(null)}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={rectangle:null},t.setRectangleCallback=function(){null!==t.state.rectangle&&t.props.onLoad&&t.props.onLoad(t.state.rectangle)},t}_N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Rectangle(wN(wN({},this.props.options||{}),{map:this.context}));this.registeredEvents=ON({updaterMap:oP,eventMap:sP,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{rectangle:e}}),this.setRectangleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.rectangle&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:oP,eventMap:sP,prevProps:e,nextProps:this.props,instance:this.state.rectangle}))},t.prototype.componentWillUnmount=function(){null!==this.state.rectangle&&(this.props.onUnmount&&this.props.onUnmount(this.state.rectangle),RN(this.registeredEvents),this.state.rectangle.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent);var aP={onCenterChanged:"center_changed",onRadiusChanged:"radius_changed",onClick:"click",onDblClick:"dblclick",onDrag:"drag",onDragEnd:"dragend",onDragStart:"dragstart",onMouseDown:"mousedown",onMouseMove:"mousemove",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick"},lP={center:function(e,t){e.setCenter(t)},draggable:function(e,t){e.setDraggable(t)},editable:function(e,t){e.setEditable(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},radius:function(e,t){e.setRadius(t)},visible:function(e,t){e.setVisible(t)}},cP={};(0,r.memo)((function(e){var t=e.options,n=e.center,i=e.radius,s=e.draggable,o=e.editable,a=e.visible,l=e.onDblClick,c=e.onDragEnd,u=e.onDragStart,h=e.onMouseDown,d=e.onMouseMove,f=e.onMouseOut,p=e.onMouseOver,m=e.onMouseUp,g=e.onRightClick,v=e.onClick,y=e.onDrag,b=e.onCenterChanged,_=e.onRadiusChanged,w=e.onLoad,E=e.onUnmount,C=(0,r.useContext)(IN),S=(0,r.useState)(null),x=S[0],k=S[1],T=(0,r.useState)(null),I=T[0],N=T[1],L=(0,r.useState)(null),P=L[0],R=L[1],O=(0,r.useState)(null),A=O[0],D=O[1],M=(0,r.useState)(null),j=M[0],U=M[1],F=(0,r.useState)(null),B=F[0],V=F[1],z=(0,r.useState)(null),q=z[0],W=z[1],H=(0,r.useState)(null),K=H[0],G=H[1],Q=(0,r.useState)(null),Y=Q[0],J=Q[1],$=(0,r.useState)(null),X=$[0],Z=$[1],ee=(0,r.useState)(null),te=ee[0],ne=ee[1],re=(0,r.useState)(null),ie=re[0],se=re[1],oe=(0,r.useState)(null),ae=oe[0],le=oe[1],ce=(0,r.useState)(null),ue=ce[0],he=ce[1];return(0,r.useEffect)((function(){null!==x&&x.setMap(C)}),[C]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==x&&x.setOptions(t)}),[x,t]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==x&&x.setDraggable(s)}),[x,s]),(0,r.useEffect)((function(){"undefined"!==typeof o&&null!==x&&x.setEditable(o)}),[x,o]),(0,r.useEffect)((function(){"undefined"!==typeof a&&null!==x&&x.setVisible(a)}),[x,a]),(0,r.useEffect)((function(){"number"===typeof i&&null!==x&&x.setRadius(i)}),[x,i]),(0,r.useEffect)((function(){"undefined"!==typeof n&&null!==x&&x.setCenter(n)}),[x,n]),(0,r.useEffect)((function(){x&&l&&(null!==I&&google.maps.event.removeListener(I),N(google.maps.event.addListener(x,"dblclick",l)))}),[l]),(0,r.useEffect)((function(){x&&c&&(null!==P&&google.maps.event.removeListener(P),R(google.maps.event.addListener(x,"dragend",c)))}),[c]),(0,r.useEffect)((function(){x&&u&&(null!==A&&google.maps.event.removeListener(A),D(google.maps.event.addListener(x,"dragstart",u)))}),[u]),(0,r.useEffect)((function(){x&&h&&(null!==j&&google.maps.event.removeListener(j),U(google.maps.event.addListener(x,"mousedown",h)))}),[h]),(0,r.useEffect)((function(){x&&d&&(null!==B&&google.maps.event.removeListener(B),V(google.maps.event.addListener(x,"mousemove",d)))}),[d]),(0,r.useEffect)((function(){x&&f&&(null!==q&&google.maps.event.removeListener(q),W(google.maps.event.addListener(x,"mouseout",f)))}),[f]),(0,r.useEffect)((function(){x&&p&&(null!==K&&google.maps.event.removeListener(K),G(google.maps.event.addListener(x,"mouseover",p)))}),[p]),(0,r.useEffect)((function(){x&&m&&(null!==Y&&google.maps.event.removeListener(Y),J(google.maps.event.addListener(x,"mouseup",m)))}),[m]),(0,r.useEffect)((function(){x&&g&&(null!==X&&google.maps.event.removeListener(X),Z(google.maps.event.addListener(x,"rightclick",g)))}),[g]),(0,r.useEffect)((function(){x&&v&&(null!==te&&google.maps.event.removeListener(te),ne(google.maps.event.addListener(x,"click",v)))}),[v]),(0,r.useEffect)((function(){x&&y&&(null!==ie&&google.maps.event.removeListener(ie),se(google.maps.event.addListener(x,"drag",y)))}),[y]),(0,r.useEffect)((function(){x&&b&&(null!==ae&&google.maps.event.removeListener(ae),le(google.maps.event.addListener(x,"center_changed",b)))}),[v]),(0,r.useEffect)((function(){x&&_&&(null!==ue&&google.maps.event.removeListener(ue),he(google.maps.event.addListener(x,"radius_changed",_)))}),[_]),(0,r.useEffect)((function(){var e=new google.maps.Circle(wN(wN({},t||cP),{map:C}));return"number"===typeof i&&e.setRadius(i),"undefined"!==typeof n&&e.setCenter(n),"number"===typeof i&&e.setRadius(i),"undefined"!==typeof a&&e.setVisible(a),"undefined"!==typeof o&&e.setEditable(o),"undefined"!==typeof s&&e.setDraggable(s),l&&N(google.maps.event.addListener(e,"dblclick",l)),c&&R(google.maps.event.addListener(e,"dragend",c)),u&&D(google.maps.event.addListener(e,"dragstart",u)),h&&U(google.maps.event.addListener(e,"mousedown",h)),d&&V(google.maps.event.addListener(e,"mousemove",d)),f&&W(google.maps.event.addListener(e,"mouseout",f)),p&&G(google.maps.event.addListener(e,"mouseover",p)),m&&J(google.maps.event.addListener(e,"mouseup",m)),g&&Z(google.maps.event.addListener(e,"rightclick",g)),v&&ne(google.maps.event.addListener(e,"click",v)),y&&se(google.maps.event.addListener(e,"drag",y)),b&&le(google.maps.event.addListener(e,"center_changed",b)),_&&he(google.maps.event.addListener(e,"radius_changed",_)),k(e),w&&w(e),function(){null!==I&&google.maps.event.removeListener(I),null!==P&&google.maps.event.removeListener(P),null!==A&&google.maps.event.removeListener(A),null!==j&&google.maps.event.removeListener(j),null!==B&&google.maps.event.removeListener(B),null!==q&&google.maps.event.removeListener(q),null!==K&&google.maps.event.removeListener(K),null!==Y&&google.maps.event.removeListener(Y),null!==X&&google.maps.event.removeListener(X),null!==te&&google.maps.event.removeListener(te),null!==ae&&google.maps.event.removeListener(ae),null!==ue&&google.maps.event.removeListener(ue),E&&E(e),e.setMap(null)}}),[]),null}));var uP=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={circle:null},t.setCircleCallback=function(){null!==t.state.circle&&t.props.onLoad&&t.props.onLoad(t.state.circle)},t}return _N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.Circle(wN(wN({},this.props.options||{}),{map:this.context}));this.registeredEvents=ON({updaterMap:lP,eventMap:aP,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{circle:e}}),this.setCircleCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.circle&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:lP,eventMap:aP,prevProps:e,nextProps:this.props,instance:this.state.circle}))},t.prototype.componentWillUnmount=function(){var e;null!==this.state.circle&&(this.props.onUnmount&&this.props.onUnmount(this.state.circle),RN(this.registeredEvents),null===(e=this.state.circle)||void 0===e||e.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN,t}(r.PureComponent),hP={onClick:"click",onDblClick:"dblclick",onMouseDown:"mousedown",onMouseOut:"mouseout",onMouseOver:"mouseover",onMouseUp:"mouseup",onRightClick:"rightclick",onAddFeature:"addfeature",onRemoveFeature:"removefeature",onRemoveProperty:"removeproperty",onSetGeometry:"setgeometry",onSetProperty:"setproperty"},dP={add:function(e,t){e.add(t)},addgeojson:function(e,t,n){e.addGeoJson(t,n)},contains:function(e,t){e.contains(t)},foreach:function(e,t){e.forEach(t)},loadgeojson:function(e,t,n,r){e.loadGeoJson(t,n,r)},overridestyle:function(e,t,n){e.overrideStyle(t,n)},remove:function(e,t){e.remove(t)},revertstyle:function(e,t){e.revertStyle(t)},controlposition:function(e,t){e.setControlPosition(t)},controls:function(e,t){e.setControls(t)},drawingmode:function(e,t){e.setDrawingMode(t)},map:function(e,t){e.setMap(t)},style:function(e,t){e.setStyle(t)},togeojson:function(e,t){e.toGeoJson(t)}};(0,r.memo)((function(e){var t=e.options,n=e.onClick,i=e.onDblClick,s=e.onMouseDown,o=e.onMouseMove,a=e.onMouseOut,l=e.onMouseOver,c=e.onMouseUp,u=e.onRightClick,h=e.onAddFeature,d=e.onRemoveFeature,f=e.onRemoveProperty,p=e.onSetGeometry,m=e.onSetProperty,g=e.onLoad,v=e.onUnmount,y=(0,r.useContext)(IN),b=(0,r.useState)(null),_=b[0],w=b[1],E=(0,r.useState)(null),C=E[0],S=E[1],x=(0,r.useState)(null),k=x[0],T=x[1],I=(0,r.useState)(null),N=I[0],L=I[1],P=(0,r.useState)(null),R=P[0],O=P[1],A=(0,r.useState)(null),D=A[0],M=A[1],j=(0,r.useState)(null),U=j[0],F=j[1],B=(0,r.useState)(null),V=B[0],z=B[1],q=(0,r.useState)(null),W=q[0],H=q[1],K=(0,r.useState)(null),G=K[0],Q=K[1],Y=(0,r.useState)(null),J=Y[0],$=Y[1],X=(0,r.useState)(null),Z=X[0],ee=X[1],te=(0,r.useState)(null),ne=te[0],re=te[1],ie=(0,r.useState)(null),se=ie[0],oe=ie[1];return(0,r.useEffect)((function(){null!==_&&_.setMap(y)}),[y]),(0,r.useEffect)((function(){_&&i&&(null!==C&&google.maps.event.removeListener(C),S(google.maps.event.addListener(_,"dblclick",i)))}),[i]),(0,r.useEffect)((function(){_&&s&&(null!==k&&google.maps.event.removeListener(k),T(google.maps.event.addListener(_,"mousedown",s)))}),[s]),(0,r.useEffect)((function(){_&&o&&(null!==N&&google.maps.event.removeListener(N),L(google.maps.event.addListener(_,"mousemove",o)))}),[o]),(0,r.useEffect)((function(){_&&a&&(null!==R&&google.maps.event.removeListener(R),O(google.maps.event.addListener(_,"mouseout",a)))}),[a]),(0,r.useEffect)((function(){_&&l&&(null!==D&&google.maps.event.removeListener(D),M(google.maps.event.addListener(_,"mouseover",l)))}),[l]),(0,r.useEffect)((function(){_&&c&&(null!==U&&google.maps.event.removeListener(U),F(google.maps.event.addListener(_,"mouseup",c)))}),[c]),(0,r.useEffect)((function(){_&&u&&(null!==V&&google.maps.event.removeListener(V),z(google.maps.event.addListener(_,"rightclick",u)))}),[u]),(0,r.useEffect)((function(){_&&n&&(null!==W&&google.maps.event.removeListener(W),H(google.maps.event.addListener(_,"click",n)))}),[n]),(0,r.useEffect)((function(){_&&h&&(null!==G&&google.maps.event.removeListener(G),Q(google.maps.event.addListener(_,"addfeature",h)))}),[h]),(0,r.useEffect)((function(){_&&d&&(null!==J&&google.maps.event.removeListener(J),$(google.maps.event.addListener(_,"removefeature",d)))}),[d]),(0,r.useEffect)((function(){_&&f&&(null!==Z&&google.maps.event.removeListener(Z),ee(google.maps.event.addListener(_,"removeproperty",f)))}),[f]),(0,r.useEffect)((function(){_&&p&&(null!==ne&&google.maps.event.removeListener(ne),re(google.maps.event.addListener(_,"setgeometry",p)))}),[p]),(0,r.useEffect)((function(){_&&m&&(null!==se&&google.maps.event.removeListener(se),oe(google.maps.event.addListener(_,"setproperty",m)))}),[m]),(0,r.useEffect)((function(){if(null!==y){var e=new google.maps.Data(wN(wN({},t||{}),{map:y}));i&&S(google.maps.event.addListener(e,"dblclick",i)),s&&T(google.maps.event.addListener(e,"mousedown",s)),o&&L(google.maps.event.addListener(e,"mousemove",o)),a&&O(google.maps.event.addListener(e,"mouseout",a)),l&&M(google.maps.event.addListener(e,"mouseover",l)),c&&F(google.maps.event.addListener(e,"mouseup",c)),u&&z(google.maps.event.addListener(e,"rightclick",u)),n&&H(google.maps.event.addListener(e,"click",n)),h&&Q(google.maps.event.addListener(e,"addfeature",h)),d&&$(google.maps.event.addListener(e,"removefeature",d)),f&&ee(google.maps.event.addListener(e,"removeproperty",f)),p&&re(google.maps.event.addListener(e,"setgeometry",p)),m&&oe(google.maps.event.addListener(e,"setproperty",m)),w(e),g&&g(e)}return function(){_&&(null!==C&&google.maps.event.removeListener(C),null!==k&&google.maps.event.removeListener(k),null!==N&&google.maps.event.removeListener(N),null!==R&&google.maps.event.removeListener(R),null!==D&&google.maps.event.removeListener(D),null!==U&&google.maps.event.removeListener(U),null!==V&&google.maps.event.removeListener(V),null!==W&&google.maps.event.removeListener(W),null!==G&&google.maps.event.removeListener(G),null!==J&&google.maps.event.removeListener(J),null!==Z&&google.maps.event.removeListener(Z),null!==ne&&google.maps.event.removeListener(ne),null!==se&&google.maps.event.removeListener(se),v&&v(_),_.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={data:null},t.setDataCallback=function(){null!==t.state.data&&t.props.onLoad&&t.props.onLoad(t.state.data)},t}_N(t,e),t.prototype.componentDidMount=function(){if(null!==this.context){var e=new google.maps.Data(wN(wN({},this.props.options||{}),{map:this.context}));this.registeredEvents=ON({updaterMap:dP,eventMap:hP,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{data:e}}),this.setDataCallback)}},t.prototype.componentDidUpdate=function(e){null!==this.state.data&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:dP,eventMap:hP,prevProps:e,nextProps:this.props,instance:this.state.data}))},t.prototype.componentWillUnmount=function(){null!==this.state.data&&(this.props.onUnmount&&this.props.onUnmount(this.state.data),RN(this.registeredEvents),this.state.data&&this.state.data.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent);var fP={onClick:"click",onDefaultViewportChanged:"defaultviewport_changed",onStatusChanged:"status_changed"},pP={options:function(e,t){e.setOptions(t)},url:function(e,t){e.setUrl(t)},zIndex:function(e,t){e.setZIndex(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={kmlLayer:null},t.setKmlLayerCallback=function(){null!==t.state.kmlLayer&&t.props.onLoad&&t.props.onLoad(t.state.kmlLayer)},t}_N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.KmlLayer(wN(wN({},this.props.options),{map:this.context}));this.registeredEvents=ON({updaterMap:pP,eventMap:fP,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{kmlLayer:e}}),this.setKmlLayerCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.kmlLayer&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:pP,eventMap:fP,prevProps:e,nextProps:this.props,instance:this.state.kmlLayer}))},t.prototype.componentWillUnmount=function(){null!==this.state.kmlLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.kmlLayer),RN(this.registeredEvents),this.state.kmlLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent);function mP(e,t){return"function"===typeof t?t(e.offsetWidth,e.offsetHeight):{x:0,y:0}}function gP(e,t){return new t(e.lat,e.lng)}function vP(e,t){return new t(new google.maps.LatLng(e.ne.lat,e.ne.lng),new google.maps.LatLng(e.sw.lat,e.sw.lng))}function yP(e,t,n,r){return void 0!==n?function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n.getNorthEast()),i=e&&e.fromLatLngToDivPixel(n.getSouthWest());return r&&i?{left:"".concat(i.x+t.x,"px"),top:"".concat(r.y+t.y,"px"),width:"".concat(r.x-i.x-t.x,"px"),height:"".concat(i.y-r.y-t.y,"px")}:{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(n,google.maps.LatLngBounds,vP)):function(e,t,n){var r=e&&e.fromLatLngToDivPixel(n);if(r){var i=r.x,s=r.y;return{left:"".concat(i+t.x,"px"),top:"".concat(s+t.y,"px")}}return{left:"-9999px",top:"-9999px"}}(e,t,function(e,t,n){return e instanceof t?e:n(e,t)}(r,google.maps.LatLng,gP))}function bP(e){return e?(e instanceof google.maps.LatLng?e:new google.maps.LatLng(e.lat,e.lng))+"":""}function _P(e){return e?(e instanceof google.maps.LatLngBounds?e:new google.maps.LatLngBounds(new google.maps.LatLng(e.south,e.east),new google.maps.LatLng(e.north,e.west)))+"":""}(0,r.memo)((function(e){var t=e.position,n=e.bounds,i=e.mapPaneName,s=e.zIndex,o=e.onLoad,a=e.onUnmount,l=e.getPixelPositionOffset,c=e.children,u=(0,r.useContext)(IN),h=(0,r.useMemo)((function(){var e=document.createElement("div");return e.style.position="absolute",e}),[]),d=(0,r.useMemo)((function(){return function(e,t,n,r,i){var s=function(e){function t(t,n,r,i){var s=e.call(this)||this;return s.container=t,s.pane=n,s.position=r,s.bounds=i,s}return _N(t,e),t.prototype.onAdd=function(){var e,t=null===(e=this.getPanes())||void 0===e?void 0:e[this.pane];null===t||void 0===t||t.appendChild(this.container)},t.prototype.draw=function(){for(var e=yP(this.getProjection(),wN({},this.container?mP(this.container,i):{x:0,y:0}),this.bounds,this.position),t=0,n=Object.entries(e);t<n.length;t++){var r=n[t],s=r[0],o=r[1];this.container.style[s]=o}},t.prototype.onRemove=function(){null!==this.container.parentNode&&this.container.parentNode.removeChild(this.container)},t}(google.maps.OverlayView);return new s(e,t,n,r)}(h,i,t,n,l)}),[h,i,t,n]);return(0,r.useEffect)((function(){return null===o||void 0===o||o(d),null===d||void 0===d||d.setMap(u),function(){null===a||void 0===a||a(d),null===d||void 0===d||d.setMap(null)}}),[u,d]),(0,r.useEffect)((function(){h.style.zIndex="".concat(s)}),[s,h]),kS.createPortal(c,h)})),function(e){function t(t){var n=e.call(this,t)||this;n.state={paneEl:null,containerStyle:{position:"absolute"}},n.updatePane=function(){var e=n.props.mapPaneName,t=n.overlayView.getPanes();TN(!!e,"OverlayView requires props.mapPaneName but got %s",e),t?n.setState({paneEl:t[e]}):n.setState({paneEl:null})},n.onAdd=function(){var e,t;n.updatePane(),null===(t=(e=n.props).onLoad)||void 0===t||t.call(e,n.overlayView)},n.onPositionElement=function(){var e,t,r=yP(n.overlayView.getProjection(),wN({x:0,y:0},n.containerRef.current?mP(n.containerRef.current,n.props.getPixelPositionOffset):{}),n.props.bounds,n.props.position),i=n.state.containerStyle,s=i.left,o=i.top,a=i.width,l=i.height;t={left:s,top:o,width:a,height:l},((e=r).left!==t.left||e.top!==t.top||e.width!==t.height||e.height!==t.height)&&n.setState({containerStyle:{top:r.top||0,left:r.left||0,width:r.width||0,height:r.height||0,position:"absolute"}})},n.draw=function(){n.onPositionElement()},n.onRemove=function(){var e,t;n.setState((function(){return{paneEl:null}})),null===(t=(e=n.props).onUnmount)||void 0===t||t.call(e,n.overlayView)},n.containerRef=(0,r.createRef)();var i=new google.maps.OverlayView;return i.onAdd=n.onAdd,i.draw=n.draw,i.onRemove=n.onRemove,n.overlayView=i,n}_N(t,e),t.prototype.componentDidMount=function(){this.overlayView.setMap(this.context)},t.prototype.componentDidUpdate=function(e){var t=bP(e.position),n=bP(this.props.position),r=_P(e.bounds),i=_P(this.props.bounds);t===n&&r===i||this.overlayView.draw(),e.mapPaneName!==this.props.mapPaneName&&this.updatePane()},t.prototype.componentWillUnmount=function(){this.overlayView.setMap(null)},t.prototype.render=function(){var e=this.state.paneEl;return e?kS.createPortal((0,CS.jsx)("div",{ref:this.containerRef,style:this.state.containerStyle,children:r.Children.only(this.props.children)}),e):null},t.FLOAT_PANE="floatPane",t.MAP_PANE="mapPane",t.MARKER_LAYER="markerLayer",t.OVERLAY_LAYER="overlayLayer",t.OVERLAY_MOUSE_TARGET="overlayMouseTarget",t.contextType=IN}(r.PureComponent);function wP(){}var EP={onDblClick:"dblclick",onClick:"click"},CP={opacity:function(e,t){e.setOpacity(t)}};(0,r.memo)((function(e){var t=e.url,n=e.bounds,i=e.options,s=e.visible,o=(0,r.useContext)(IN),a=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east)),l=(0,r.useMemo)((function(){return new google.maps.GroundOverlay(t,a,wN({},i))}),[]);return(0,r.useEffect)((function(){null!==l&&l.setMap(o)}),[o]),(0,r.useEffect)((function(){"undefined"!==typeof t&&null!==l&&(l.set("url",t),l.setMap(o))}),[l,t]),(0,r.useEffect)((function(){"undefined"!==typeof s&&null!==l&&l.setOpacity(s?1:0)}),[l,s]),(0,r.useEffect)((function(){var e=new google.maps.LatLngBounds(new google.maps.LatLng(n.south,n.west),new google.maps.LatLng(n.north,n.east));"undefined"!==typeof n&&null!==l&&(l.set("bounds",e),l.setMap(o))}),[l,n]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={groundOverlay:null},t.setGroundOverlayCallback=function(){null!==t.state.groundOverlay&&t.props.onLoad&&t.props.onLoad(t.state.groundOverlay)},t}_N(t,e),t.prototype.componentDidMount=function(){TN(!!this.props.url||!!this.props.bounds,"For GroundOverlay, url and bounds are passed in to constructor and are immutable after instantiated. This is the behavior of Google Maps JavaScript API v3 ( See https://developers.google.com/maps/documentation/javascript/reference#GroundOverlay) Hence, use the corresponding two props provided by `react-google-maps-api`, url and bounds. In some cases, you'll need the GroundOverlay component to reflect the changes of url and bounds. You can leverage the React's key property to remount the component. Typically, just `key={url}` would serve your need. See https://github.com/tomchentw/react-google-maps/issues/655");var e=new google.maps.GroundOverlay(this.props.url,this.props.bounds,wN(wN({},this.props.options),{map:this.context}));this.registeredEvents=ON({updaterMap:CP,eventMap:EP,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{groundOverlay:e}}),this.setGroundOverlayCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.groundOverlay&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:CP,eventMap:EP,prevProps:e,nextProps:this.props,instance:this.state.groundOverlay}))},t.prototype.componentWillUnmount=function(){this.state.groundOverlay&&(this.props.onUnmount&&this.props.onUnmount(this.state.groundOverlay),this.state.groundOverlay.setMap(null))},t.prototype.render=function(){return null},t.defaultProps={onLoad:wP},t.contextType=IN}(r.PureComponent);var SP={},xP={data:function(e,t){e.setData(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)}};(0,r.memo)((function(e){var t=e.data,n=e.onLoad,i=e.onUnmount,s=e.options,o=(0,r.useContext)(IN),a=(0,r.useState)(null),l=a[0],c=a[1];return(0,r.useEffect)((function(){google.maps.visualization||TN(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} in useJsApiScript? %s',google.maps.visualization)}),[]),(0,r.useEffect)((function(){TN(!!t,"data property is required in HeatmapLayer %s",t)}),[t]),(0,r.useEffect)((function(){null!==l&&l.setMap(o)}),[o]),(0,r.useEffect)((function(){s&&null!==l&&l.setOptions(s)}),[l,s]),(0,r.useEffect)((function(){var e=new google.maps.visualization.HeatmapLayer(wN(wN({},s||{}),{data:t,map:o}));return c(e),n&&n(e),function(){null!==l&&(i&&i(l),l.setMap(null))}}),[]),null})),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={heatmapLayer:null},t.setHeatmapLayerCallback=function(){null!==t.state.heatmapLayer&&t.props.onLoad&&t.props.onLoad(t.state.heatmapLayer)},t}_N(t,e),t.prototype.componentDidMount=function(){TN(!!google.maps.visualization,'Did you include prop libraries={["visualization"]} to <LoadScript />? %s',google.maps.visualization),TN(!!this.props.data,"data property is required in HeatmapLayer %s",this.props.data);var e=new google.maps.visualization.HeatmapLayer(wN(wN({},this.props.options||{}),{data:this.props.data,map:this.context}));this.registeredEvents=ON({updaterMap:xP,eventMap:SP,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{heatmapLayer:e}}),this.setHeatmapLayerCallback)},t.prototype.componentDidUpdate=function(e){RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:xP,eventMap:SP,prevProps:e,nextProps:this.props,instance:this.state.heatmapLayer})},t.prototype.componentWillUnmount=function(){null!==this.state.heatmapLayer&&(this.props.onUnmount&&this.props.onUnmount(this.state.heatmapLayer),RN(this.registeredEvents),this.state.heatmapLayer.setMap(null))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent);var kP={onCloseClick:"closeclick",onPanoChanged:"pano_changed",onPositionChanged:"position_changed",onPovChanged:"pov_changed",onResize:"resize",onStatusChanged:"status_changed",onVisibleChanged:"visible_changed",onZoomChanged:"zoom_changed"},TP={register:function(e,t,n){e.registerPanoProvider(t,n)},links:function(e,t){e.setLinks(t)},motionTracking:function(e,t){e.setMotionTracking(t)},options:function(e,t){e.setOptions(t)},pano:function(e,t){e.setPano(t)},position:function(e,t){e.setPosition(t)},pov:function(e,t){e.setPov(t)},visible:function(e,t){e.setVisible(t)},zoom:function(e,t){e.setZoom(t)}},IP=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={streetViewPanorama:null},t.setStreetViewPanoramaCallback=function(){null!==t.state.streetViewPanorama&&t.props.onLoad&&t.props.onLoad(t.state.streetViewPanorama)},t}_N(t,e),t.prototype.componentDidMount=function(){var e,t,n=null!==(t=null===(e=this.context)||void 0===e?void 0:e.getStreetView())&&void 0!==t?t:null;this.registeredEvents=ON({updaterMap:TP,eventMap:kP,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{streetViewPanorama:n}}),this.setStreetViewPanoramaCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.streetViewPanorama&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:TP,eventMap:kP,prevProps:e,nextProps:this.props,instance:this.state.streetViewPanorama}))},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewPanorama&&(this.props.onUnmount&&this.props.onUnmount(this.state.streetViewPanorama),RN(this.registeredEvents),this.state.streetViewPanorama.setVisible(!1))},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={streetViewService:null},t.setStreetViewServiceCallback=function(){null!==t.state.streetViewService&&t.props.onLoad&&t.props.onLoad(t.state.streetViewService)},t}_N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.StreetViewService;this.setState((function(){return{streetViewService:e}}),this.setStreetViewServiceCallback)},t.prototype.componentWillUnmount=function(){null!==this.state.streetViewService&&this.props.onUnmount&&this.props.onUnmount(this.state.streetViewService)},t.prototype.render=function(){return null},t.contextType=IN}(r.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={directionsService:null},t.setDirectionsServiceCallback=function(){null!==t.state.directionsService&&t.props.onLoad&&t.props.onLoad(t.state.directionsService)},t}_N(t,e),t.prototype.componentDidMount=function(){TN(!!this.props.options,"DirectionsService expected options object as parameter, but got %s",this.props.options);var e=new google.maps.DirectionsService;this.setState((function(){return{directionsService:e}}),this.setDirectionsServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.directionsService&&this.state.directionsService.route(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.directionsService&&this.props.onUnmount&&this.props.onUnmount(this.state.directionsService)},t.prototype.render=function(){return null}}(r.PureComponent),{onDirectionsChanged:"directions_changed"}),NP={directions:function(e,t){e.setDirections(t)},map:function(e,t){e.setMap(t)},options:function(e,t){e.setOptions(t)},panel:function(e,t){e.setPanel(t)},routeIndex:function(e,t){e.setRouteIndex(t)}},LP=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.state={directionsRenderer:null},t.setDirectionsRendererCallback=function(){null!==t.state.directionsRenderer&&(t.state.directionsRenderer.setMap(t.context),t.props.onLoad&&t.props.onLoad(t.state.directionsRenderer))},t}_N(t,e),t.prototype.componentDidMount=function(){var e=new google.maps.DirectionsRenderer(this.props.options);this.registeredEvents=ON({updaterMap:NP,eventMap:IP,prevProps:{},nextProps:this.props,instance:e}),this.setState((function(){return{directionsRenderer:e}}),this.setDirectionsRendererCallback)},t.prototype.componentDidUpdate=function(e){null!==this.state.directionsRenderer&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:NP,eventMap:IP,prevProps:e,nextProps:this.props,instance:this.state.directionsRenderer}))},t.prototype.componentWillUnmount=function(){null!==this.state.directionsRenderer&&(this.props.onUnmount&&this.props.onUnmount(this.state.directionsRenderer),RN(this.registeredEvents),this.state.directionsRenderer&&this.state.directionsRenderer.setMap(null))},t.prototype.render=function(){return(0,CS.jsx)(CS.Fragment,{})},t.contextType=IN}(r.PureComponent),function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={distanceMatrixService:null},t.setDistanceMatrixServiceCallback=function(){null!==t.state.distanceMatrixService&&t.props.onLoad&&t.props.onLoad(t.state.distanceMatrixService)},t}_N(t,e),t.prototype.componentDidMount=function(){TN(!!this.props.options,"DistanceMatrixService expected options object as parameter, but go %s",this.props.options);var e=new google.maps.DistanceMatrixService;this.setState((function(){return{distanceMatrixService:e}}),this.setDistanceMatrixServiceCallback)},t.prototype.componentDidUpdate=function(){null!==this.state.distanceMatrixService&&this.state.distanceMatrixService.getDistanceMatrix(this.props.options,this.props.callback)},t.prototype.componentWillUnmount=function(){null!==this.state.distanceMatrixService&&this.props.onUnmount&&this.props.onUnmount(this.state.distanceMatrixService)},t.prototype.render=function(){return null}}(r.PureComponent),{onPlacesChanged:"places_changed"}),PP={bounds:function(e,t){e.setBounds(t)}},RP=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=(0,r.createRef)(),t.state={searchBox:null},t.setSearchBoxCallback=function(){null!==t.state.searchBox&&t.props.onLoad&&t.props.onLoad(t.state.searchBox)},t}_N(t,e),t.prototype.componentDidMount=function(){if(TN(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places),null!==this.containerElement&&null!==this.containerElement.current){var e=this.containerElement.current.querySelector("input");if(null!==e){var t=new google.maps.places.SearchBox(e,this.props.options);this.registeredEvents=ON({updaterMap:PP,eventMap:LP,prevProps:{},nextProps:this.props,instance:t}),this.setState((function(){return{searchBox:t}}),this.setSearchBoxCallback)}}},t.prototype.componentDidUpdate=function(e){null!==this.state.searchBox&&(RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:PP,eventMap:LP,prevProps:e,nextProps:this.props,instance:this.state.searchBox}))},t.prototype.componentWillUnmount=function(){null!==this.state.searchBox&&(this.props.onUnmount&&this.props.onUnmount(this.state.searchBox),RN(this.registeredEvents))},t.prototype.render=function(){return(0,CS.jsx)("div",{ref:this.containerElement,children:r.Children.only(this.props.children)})},t.contextType=IN}(r.PureComponent),{onPlaceChanged:"place_changed"}),OP={bounds:function(e,t){e.setBounds(t)},restrictions:function(e,t){e.setComponentRestrictions(t)},fields:function(e,t){e.setFields(t)},options:function(e,t){e.setOptions(t)},types:function(e,t){e.setTypes(t)}};!function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.registeredEvents=[],t.containerElement=(0,r.createRef)(),t.state={autocomplete:null},t.setAutocompleteCallback=function(){null!==t.state.autocomplete&&t.props.onLoad&&t.props.onLoad(t.state.autocomplete)},t}_N(t,e),t.prototype.componentDidMount=function(){var e;TN(!!google.maps.places,'You need to provide libraries={["places"]} prop to <LoadScript /> component %s',google.maps.places);var t=null===(e=this.containerElement.current)||void 0===e?void 0:e.querySelector("input");if(t){var n=new google.maps.places.Autocomplete(t,this.props.options);this.registeredEvents=ON({updaterMap:OP,eventMap:RP,prevProps:{},nextProps:this.props,instance:n}),this.setState((function(){return{autocomplete:n}}),this.setAutocompleteCallback)}},t.prototype.componentDidUpdate=function(e){RN(this.registeredEvents),this.registeredEvents=ON({updaterMap:OP,eventMap:RP,prevProps:e,nextProps:this.props,instance:this.state.autocomplete})},t.prototype.componentWillUnmount=function(){null!==this.state.autocomplete&&RN(this.registeredEvents)},t.prototype.render=function(){return(0,CS.jsx)("div",{ref:this.containerElement,className:this.props.className,children:r.Children.only(this.props.children)})},t.defaultProps={className:""},t.contextType=IN}(r.PureComponent);function AP(e,t){return function(){return e.apply(t,arguments)}}const{toString:DP}=Object.prototype,{getPrototypeOf:MP}=Object,jP=(UP=Object.create(null),e=>{const t=DP.call(e);return UP[t]||(UP[t]=t.slice(8,-1).toLowerCase())});var UP;const FP=e=>(e=e.toLowerCase(),t=>jP(t)===e),BP=e=>t=>typeof t===e,{isArray:VP}=Array,zP=BP("undefined");const qP=FP("ArrayBuffer");const WP=BP("string"),HP=BP("function"),KP=BP("number"),GP=e=>null!==e&&"object"===typeof e,QP=e=>{if("object"!==jP(e))return!1;const t=MP(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},YP=FP("Date"),JP=FP("File"),$P=FP("Blob"),XP=FP("FileList"),ZP=FP("URLSearchParams");function eR(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),VP(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function tR(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const nR="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,rR=e=>!zP(e)&&e!==nR;const iR=(sR="undefined"!==typeof Uint8Array&&MP(Uint8Array),e=>sR&&e instanceof sR);var sR;const oR=FP("HTMLFormElement"),aR=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),lR=FP("RegExp"),cR=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};eR(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)},uR="abcdefghijklmnopqrstuvwxyz",hR="0123456789",dR={DIGIT:hR,ALPHA:uR,ALPHA_DIGIT:uR+uR.toUpperCase()+hR};const fR=FP("AsyncFunction"),pR={isArray:VP,isArrayBuffer:qP,isBuffer:function(e){return null!==e&&!zP(e)&&null!==e.constructor&&!zP(e.constructor)&&HP(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||HP(e.append)&&("formdata"===(t=jP(e))||"object"===t&&HP(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&qP(e.buffer),t},isString:WP,isNumber:KP,isBoolean:e=>!0===e||!1===e,isObject:GP,isPlainObject:QP,isUndefined:zP,isDate:YP,isFile:JP,isBlob:$P,isRegExp:lR,isFunction:HP,isStream:e=>GP(e)&&HP(e.pipe),isURLSearchParams:ZP,isTypedArray:iR,isFileList:XP,forEach:eR,merge:function e(){const{caseless:t}=rR(this)&&this||{},n={},r=(r,i)=>{const s=t&&tR(n,i)||i;QP(n[s])&&QP(r)?n[s]=e(n[s],r):QP(r)?n[s]=e({},r):VP(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&eR(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return eR(t,((t,r)=>{n&&HP(t)?e[r]=AP(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&MP(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:jP,kindOfTest:FP,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(VP(e))return e;let t=e.length;if(!KP(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:oR,hasOwnProperty:aR,hasOwnProp:aR,reduceDescriptors:cR,freezeMethods:e=>{cR(e,((t,n)=>{if(HP(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];HP(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return VP(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>(e=+e,Number.isFinite(e)?e:t),findKey:tR,global:nR,isContextDefined:rR,ALPHABET:dR,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dR.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&HP(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(GP(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=VP(e)?[]:{};return eR(e,((e,t)=>{const s=n(e,r+1);!zP(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:fR,isThenable:e=>e&&(GP(e)||HP(e))&&HP(e.then)&&HP(e.catch)};function mR(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}pR.inherits(mR,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:pR.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const gR=mR.prototype,vR={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{vR[e]={value:e}})),Object.defineProperties(mR,vR),Object.defineProperty(gR,"isAxiosError",{value:!0}),mR.from=(e,t,n,r,i,s)=>{const o=Object.create(gR);return pR.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),mR.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const yR=mR;function bR(e){return pR.isPlainObject(e)||pR.isArray(e)}function _R(e){return pR.endsWith(e,"[]")?e.slice(0,-2):e}function wR(e,t,n){return e?e.concat(t).map((function(e,t){return e=_R(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ER=pR.toFlatObject(pR,{},null,(function(e){return/^is[A-Z]/.test(e)}));const CR=function(e,t,n){if(!pR.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=pR.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!pR.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&pR.isSpecCompliantForm(t);if(!pR.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(pR.isDate(e))return e.toISOString();if(!a&&pR.isBlob(e))throw new yR("Blob is not supported. Use a Buffer instead.");return pR.isArrayBuffer(e)||pR.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(pR.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(pR.isArray(e)&&function(e){return pR.isArray(e)&&!e.some(bR)}(e)||(pR.isFileList(e)||pR.endsWith(n,"[]"))&&(a=pR.toArray(e)))return n=_R(n),a.forEach((function(e,r){!pR.isUndefined(e)&&null!==e&&t.append(!0===o?wR([n],r,s):null===o?n:n+"[]",l(e))})),!1;return!!bR(e)||(t.append(wR(i,n,s),l(e)),!1)}const u=[],h=Object.assign(ER,{defaultVisitor:c,convertValue:l,isVisitable:bR});if(!pR.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!pR.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),pR.forEach(n,(function(n,s){!0===(!(pR.isUndefined(n)||null===n)&&i.call(t,n,pR.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function SR(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function xR(e,t){this._pairs=[],e&&CR(e,this,t)}const kR=xR.prototype;kR.append=function(e,t){this._pairs.push([e,t])},kR.toString=function(e){const t=e?function(t){return e.call(this,t,SR)}:SR;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const TR=xR;function IR(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function NR(e,t,n){if(!t)return e;const r=n&&n.encode||IR,i=n&&n.serialize;let s;if(s=i?i(t,n):pR.isURLSearchParams(t)?t.toString():new TR(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const LR=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){pR.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},PR={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},RR={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:TR,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},OR="undefined"!==typeof window&&"undefined"!==typeof document,AR=(DR="undefined"!==typeof navigator&&navigator.product,OR&&["ReactNative","NativeScript","NS"].indexOf(DR)<0);var DR;const MR="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,jR={...e,...RR};const UR=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&pR.isArray(r)?r.length:s,a)return pR.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&pR.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&pR.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(pR.isFormData(e)&&pR.isFunction(e.entries)){const n={};return pR.forEachEntry(e,((e,r)=>{t(function(e){return pR.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const FR={transitional:PR,adapter:["xhr","http"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=pR.isObject(e);i&&pR.isHTMLForm(e)&&(e=new FormData(e));if(pR.isFormData(e))return r?JSON.stringify(UR(e)):e;if(pR.isArrayBuffer(e)||pR.isBuffer(e)||pR.isStream(e)||pR.isFile(e)||pR.isBlob(e))return e;if(pR.isArrayBufferView(e))return e.buffer;if(pR.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return CR(e,new jR.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return jR.isNode&&pR.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=pR.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return CR(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(pR.isString(e))try{return(t||JSON.parse)(e),pR.trim(e)}catch(OO){if("SyntaxError"!==OO.name)throw OO}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||FR.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(e&&pR.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(OO){if(n){if("SyntaxError"===OO.name)throw yR.from(OO,yR.ERR_BAD_RESPONSE,this,null,this.response);throw OO}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:jR.classes.FormData,Blob:jR.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};pR.forEach(["delete","get","head","post","put","patch"],(e=>{FR.headers[e]={}}));const BR=FR,VR=pR.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zR=Symbol("internals");function qR(e){return e&&String(e).trim().toLowerCase()}function WR(e){return!1===e||null==e?e:pR.isArray(e)?e.map(WR):String(e)}function HR(e,t,n,r,i){return pR.isFunction(r)?r.call(this,t,n):(i&&(t=n),pR.isString(t)?pR.isString(r)?-1!==t.indexOf(r):pR.isRegExp(r)?r.test(t):void 0:void 0)}class KR{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=qR(t);if(!i)throw new Error("header name must be a non-empty string");const s=pR.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=WR(e))}const s=(e,t)=>pR.forEach(e,((e,n)=>i(e,n,t)));return pR.isPlainObject(e)||e instanceof this.constructor?s(e,t):pR.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim())?s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&VR[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t):null!=e&&i(t,e,n),this}get(e,t){if(e=qR(e)){const n=pR.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(pR.isFunction(t))return t.call(this,e,n);if(pR.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=qR(e)){const n=pR.findKey(this,e);return!(!n||void 0===this[n]||t&&!HR(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=qR(e)){const i=pR.findKey(n,e);!i||t&&!HR(0,n[i],i,t)||(delete n[i],r=!0)}}return pR.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!HR(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return pR.forEach(this,((r,i)=>{const s=pR.findKey(n,i);if(s)return t[s]=WR(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=WR(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return pR.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&pR.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[zR]=this[zR]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=qR(e);t[r]||(!function(e,t){const n=pR.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return pR.isArray(e)?e.forEach(r):r(e),this}}KR.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),pR.reduceDescriptors(KR.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),pR.freezeMethods(KR);const GR=KR;function QR(e,t){const n=this||BR,r=t||n,i=GR.from(r.headers);let s=r.data;return pR.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function YR(e){return!(!e||!e.__CANCEL__)}function JR(e,t,n){yR.call(this,null==e?"canceled":e,yR.ERR_CANCELED,t,n),this.name="CanceledError"}pR.inherits(JR,yR,{__CANCEL__:!0});const $R=JR;const XR=jR.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];pR.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),pR.isString(r)&&o.push("path="+r),pR.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function ZR(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const eO=jR.hasStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=pR.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0};const tO=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];i||(i=l),n[s]=a,r[s]=l;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};function nO(e,t){let n=0;const r=tO(50,250);return i=>{const s=i.loaded,o=i.lengthComputable?i.total:void 0,a=s-n,l=r(a);n=s;const c={loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:i};c[t?"download":"upload"]=!0,e(c)}}const rO="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){let r=e.data;const i=GR.from(e.headers).normalize();let s,o,{responseType:a,withXSRFToken:l}=e;function c(){e.cancelToken&&e.cancelToken.unsubscribe(s),e.signal&&e.signal.removeEventListener("abort",s)}if(pR.isFormData(r))if(jR.hasStandardBrowserEnv||jR.hasStandardBrowserWebWorkerEnv)i.setContentType(!1);else if(!1!==(o=i.getContentType())){const[e,...t]=o?o.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}let u=new XMLHttpRequest;if(e.auth){const t=e.auth.username||"",n=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";i.set("Authorization","Basic "+btoa(t+":"+n))}const h=ZR(e.baseURL,e.url);function d(){if(!u)return;const r=GR.from("getAllResponseHeaders"in u&&u.getAllResponseHeaders());!function(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new yR("Request failed with status code "+n.status,[yR.ERR_BAD_REQUEST,yR.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}((function(e){t(e),c()}),(function(e){n(e),c()}),{data:a&&"text"!==a&&"json"!==a?u.response:u.responseText,status:u.status,statusText:u.statusText,headers:r,config:e,request:u}),u=null}if(u.open(e.method.toUpperCase(),NR(h,e.params,e.paramsSerializer),!0),u.timeout=e.timeout,"onloadend"in u?u.onloadend=d:u.onreadystatechange=function(){u&&4===u.readyState&&(0!==u.status||u.responseURL&&0===u.responseURL.indexOf("file:"))&&setTimeout(d)},u.onabort=function(){u&&(n(new yR("Request aborted",yR.ECONNABORTED,e,u)),u=null)},u.onerror=function(){n(new yR("Network Error",yR.ERR_NETWORK,e,u)),u=null},u.ontimeout=function(){let t=e.timeout?"timeout of "+e.timeout+"ms exceeded":"timeout exceeded";const r=e.transitional||PR;e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(new yR(t,r.clarifyTimeoutError?yR.ETIMEDOUT:yR.ECONNABORTED,e,u)),u=null},jR.hasStandardBrowserEnv&&(l&&pR.isFunction(l)&&(l=l(e)),l||!1!==l&&eO(h))){const t=e.xsrfHeaderName&&e.xsrfCookieName&&XR.read(e.xsrfCookieName);t&&i.set(e.xsrfHeaderName,t)}void 0===r&&i.setContentType(null),"setRequestHeader"in u&&pR.forEach(i.toJSON(),(function(e,t){u.setRequestHeader(t,e)})),pR.isUndefined(e.withCredentials)||(u.withCredentials=!!e.withCredentials),a&&"json"!==a&&(u.responseType=e.responseType),"function"===typeof e.onDownloadProgress&&u.addEventListener("progress",nO(e.onDownloadProgress,!0)),"function"===typeof e.onUploadProgress&&u.upload&&u.upload.addEventListener("progress",nO(e.onUploadProgress)),(e.cancelToken||e.signal)&&(s=t=>{u&&(n(!t||t.type?new $R(null,e,u):t),u.abort(),u=null)},e.cancelToken&&e.cancelToken.subscribe(s),e.signal&&(e.signal.aborted?s():e.signal.addEventListener("abort",s)));const f=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(h);f&&-1===jR.protocols.indexOf(f)?n(new yR("Unsupported protocol "+f+":",yR.ERR_BAD_REQUEST,e)):u.send(r||null)}))},iO={http:null,xhr:rO};pR.forEach(iO,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(OO){}Object.defineProperty(e,"adapterName",{value:t})}}));const sO=e=>"- ".concat(e),oO=e=>pR.isFunction(e)||null===e||!1===e,aO=e=>{e=pR.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!oO(n)&&(r=iO[(t=String(n)).toLowerCase()],void 0===r))throw new yR("Unknown adapter '".concat(t,"'"));if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(sO).join("\n"):" "+sO(e[0]):"as no adapter specified";throw new yR("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function lO(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new $R(null,e)}function cO(e){lO(e),e.headers=GR.from(e.headers),e.data=QR.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return aO(e.adapter||BR.adapter)(e).then((function(t){return lO(e),t.data=QR.call(e,e.transformResponse,t),t.headers=GR.from(t.headers),t}),(function(t){return YR(t)||(lO(e),t&&t.response&&(t.response.data=QR.call(e,e.transformResponse,t.response),t.response.headers=GR.from(t.response.headers))),Promise.reject(t)}))}const uO=e=>e instanceof GR?{...e}:e;function hO(e,t){t=t||{};const n={};function r(e,t,n){return pR.isPlainObject(e)&&pR.isPlainObject(t)?pR.merge.call({caseless:n},e,t):pR.isPlainObject(t)?pR.merge({},t):pR.isArray(t)?t.slice():t}function i(e,t,n){return pR.isUndefined(t)?pR.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function s(e,t){if(!pR.isUndefined(t))return r(void 0,t)}function o(e,t){return pR.isUndefined(t)?pR.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t)=>i(uO(e),uO(t),!0)};return pR.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,o=s(e[r],t[r],r);pR.isUndefined(o)&&s!==a||(n[r]=o)})),n}const dO="1.6.8",fO={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{fO[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const pO={};fO.transitional=function(e,t,n){function r(e,t){return"[Axios v1.6.8] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new yR(r(i," has been removed"+(t?" in "+t:"")),yR.ERR_DEPRECATED);return t&&!pO[i]&&(pO[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}};const mO={assertOptions:function(e,t,n){if("object"!==typeof e)throw new yR("options must be an object",yR.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new yR("option "+s+" must be "+n,yR.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new yR("Unknown option "+s,yR.ERR_BAD_OPTION)}},validators:fO},gO=mO.validators;class vO{constructor(e){this.defaults=e,this.interceptors={request:new LR,response:new LR}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=hO(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&mO.assertOptions(n,{silentJSONParsing:gO.transitional(gO.boolean),forcedJSONParsing:gO.transitional(gO.boolean),clarifyTimeoutError:gO.transitional(gO.boolean)},!1),null!=r&&(pR.isFunction(r)?t.paramsSerializer={serialize:r}:mO.assertOptions(r,{encode:gO.function,serialize:gO.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&pR.merge(i.common,i[t.method]);i&&pR.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=GR.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[cO.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=o.length;let d=t;for(h=0;h<u;){const e=o[h++],t=o[h++];try{d=e(d)}catch(Ys){t.call(this,Ys);break}}try{c=cO.call(this,d)}catch(Ys){return Promise.reject(Ys)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return NR(ZR((e=hO(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}pR.forEach(["delete","get","head","options"],(function(e){vO.prototype[e]=function(t,n){return this.request(hO(n||{},{method:e,url:t,data:(n||{}).data}))}})),pR.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(hO(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}vO.prototype[e]=t(),vO.prototype[e+"Form"]=t(!0)}));const yO=vO;class bO{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new $R(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}static source(){let e;return{token:new bO((function(t){e=t})),cancel:e}}}const _O=bO;const wO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(wO).forEach((e=>{let[t,n]=e;wO[n]=t}));const EO=wO;const CO=function e(t){const n=new yO(t),r=AP(yO.prototype.request,n);return pR.extend(r,yO.prototype,n,{allOwnKeys:!0}),pR.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(hO(t,n))},r}(BR);CO.Axios=yO,CO.CanceledError=$R,CO.CancelToken=_O,CO.isCancel=YR,CO.VERSION=dO,CO.toFormData=CR,CO.AxiosError=yR,CO.Cancel=CO.CanceledError,CO.all=function(e){return Promise.all(e)},CO.spread=function(e){return function(t){return e.apply(null,t)}},CO.isAxiosError=function(e){return pR.isObject(e)&&!0===e.isAxiosError},CO.mergeConfig=hO,CO.AxiosHeaders=GR,CO.formToJSON=e=>UR(pR.isHTMLForm(e)?new FormData(e):e),CO.getAdapter=aO,CO.HttpStatusCode=EO,CO.default=CO;const SO=CO,xO=()=>{const[e,t]=(0,r.useState)([]),[n,i]=(0,r.useState)([]),[s,o]=(0,r.useState)(null),[a,l]=(0,r.useState)(!1),[c,u]=(0,r.useState)([]),[h,d]=(0,r.useState)("");(0,r.useEffect)((()=>{(async()=>{const e=Zw(rE(),"ads"),n=(await ZE(e)).docs.map((e=>({id:e.id,...e.data()})));t(n)})()}),[]),(0,r.useEffect)((()=>{(async()=>{if(e.length>0){const t=e.map((e=>e.location));try{const e=await Promise.all(t.map((async e=>{try{const t=await SO.get("https://nominatim.openstreetmap.org/search?format=json&q=".concat(e,"&limit=1"));return t.data.length>0?{lat:parseFloat(t.data[0].lat),lng:parseFloat(t.data[0].lon)}:(console.error("Aucun r\xe9sultat trouv\xe9 pour cet emplacement :",e),null)}catch(Ys){return console.error("Erreur lors de la r\xe9cup\xe9ration des d\xe9tails du lieu :",Ys),null}})));i(e.filter((e=>null!==e)))}catch(Ys){console.error("Erreur lors de la r\xe9cup\xe9ration des d\xe9tails du lieu :",Ys)}}})()}),[e]),(0,r.useEffect)((()=>{const e=Ns().currentUser.uid;$E(eE(rE(),"profiles",e)).then((e=>{if(e.exists()){const t=e.data();if(t&&t.address){SO.get("https://nominatim.openstreetmap.org/search?format=json&q=".concat(t.address,"&limit=1")).then((e=>{e.data.length>0?o({lat:parseFloat(e.data[0].lat),lng:parseFloat(e.data[0].lon)}):console.error("Aucun r\xe9sultat trouv\xe9 pour cet emplacement :",t.address)})).catch((e=>{console.error('Erreur lors de la r\xe9cup\xe9ration de l"emplacement de l"utilisateur :',e)}))}}})).catch((e=>{console.error("Erreur lors de la r\xe9cup\xe9ration des donn\xe9es du profil:",e)}))}),[]),(0,r.useEffect)((()=>{if(s){s.lat,s.lng;console.log('Emplacement de l"utilisateur:',s)}}),[s]);return(0,r.useEffect)((()=>{(async()=>{const e=rE(),t=Ns().currentUser;if(t){const n=eE(e,"profiles",t.uid),r=await $E(n);if(r.exists()){const e=r.data();if(e&&e.address){const t=e.address.split(" ")[0];d(t)}}}})()}),[]),(0,r.useEffect)((()=>{(async()=>{if(h){const e=Zw(rE(),"ads"),t=(await ZE(e)).docs.map((e=>({...e.data(),id:e.id}))),n=t.filter((e=>e.location.toLowerCase().includes(h.toLowerCase())));u(n)}})()}),[h]),(0,r.useEffect)((()=>()=>{u([])}),[]),(0,CS.jsxs)(KN,{googleMapsApiKey:"AIzaSyDR9LWmlf3ph7wBP6H2DoJkQN-zzl6gYZs",libraries:["places"],children:[(0,CS.jsx)("h2",{className:"text-center my-4 text-light",children:"Carte des annonces"}),(0,CS.jsxs)(MN,{mapContainerStyle:{width:"100%",height:"400px"},zoom:12,center:s||{lat:46.603354,lng:1.888334},children:[e.map((e=>(0,CS.jsx)(nL,{position:{lat:e.location.lat,lng:e.location.lng}},e.id))),n.map(((e,t)=>(0,CS.jsx)(nL,{position:e,icon:{url:"https://maps.google.com/mapfiles/ms/icons/green-dot.png",scaledSize:new window.google.maps.Size(50,50)}},t))),s&&(0,CS.jsxs)(CS.Fragment,{children:[(0,CS.jsx)(uP,{center:s,radius:1e3,options:{strokeColor:"#FF0000",strokeOpacity:.8,strokeWeight:2,fillColor:"#FF0000",fillOpacity:.35}}),(0,CS.jsx)(ZL,{position:s,onCloseClick:()=>{l(!1)},options:{maxWidth:200},children:(0,CS.jsx)("div",{children:(0,CS.jsx)("p",{children:"Vous \xeates ici!"})})})]})]}),(0,CS.jsxs)("div",{className:"container",children:[(0,CS.jsx)("h2",{className:"text-center my-4 text-light",children:"Annonces proches de votre adresse :"}),(0,CS.jsx)("div",{className:"row",children:c.length>0?c.map((e=>(0,CS.jsx)("div",{className:"col-md-4 mb-4",children:(0,CS.jsxs)("div",{className:"card",children:[(0,CS.jsx)("img",{src:e.photoUrl,alt:e.title,className:"card-img-top",style:{objectFit:"cover",height:"200px",width:"100%"}}),(0,CS.jsxs)("div",{className:"card-body",children:[(0,CS.jsx)("h5",{className:"card-title",children:e.title}),(0,CS.jsxs)("p",{className:"card-text",children:["Lieu: ",e.location]}),(0,CS.jsx)("p",{className:"card-text",children:e.description})]})]})},e.id))):(0,CS.jsx)("div",{className:"col-12 text-center",children:(0,CS.jsx)("p",{className:"lead text-light",children:"Nous sommes d\xe9sol\xe9s, il n'y a aucune annonce disponible pr\xe8s de chez vous."})})})]})]})};function kO(){const[e,t]=(0,r.useState)(!1);return(0,CS.jsx)("div",{className:"container",children:(0,CS.jsx)("div",{className:"row",children:(0,CS.jsx)("div",{className:"col-md-6 offset-md-3",children:(0,CS.jsxs)("div",{className:"contact-container text-white",children:[(0,CS.jsx)("h2",{children:"Contactez-nous"}),(0,CS.jsxs)("div",{className:"contact-info",children:[(0,CS.jsx)("p",{children:"Adresse : 31000 Albi"}),(0,CS.jsx)("p",{children:"T\xe9l\xe9phone : +33 1 23 45 67 89"}),(0,CS.jsx)("p",{children:"Email : contact@exemple.com"})]}),(0,CS.jsxs)("form",{className:"contact-form",onSubmit:e=>{e.preventDefault(),t(!0)},children:[(0,CS.jsx)("h3",{children:"Envoyez-nous un message"}),(0,CS.jsxs)("div",{className:"form-group",children:[(0,CS.jsx)("label",{htmlFor:"name",children:"Votre nom d'utilisateur (adresse mail) :"}),(0,CS.jsx)("input",{type:"text",className:"form-control",id:"name",name:"name"})]}),(0,CS.jsxs)("div",{className:"form-group",children:[(0,CS.jsx)("label",{htmlFor:"message",children:"Message :"}),(0,CS.jsx)("textarea",{className:"form-control",id:"message",name:"message",rows:"4"})]}),(0,CS.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Envoyer"}),e&&(0,CS.jsx)("p",{className:"text-success",children:"Le message a bien \xe9t\xe9 envoy\xe9"})]})]})})})})}const TO=()=>{const[e,t]=(0,r.useState)(0),[n,i]=(0,r.useState)(0),[s,o]=(0,r.useState)(0);(0,r.useEffect)((()=>{(async()=>{const e=await a(),n=await l(),r=await c();t(e),i(n),o(r)})()}),[]);const a=async()=>{const e=Zw(rE(),"profiles");return(await ZE(e)).size},l=async()=>{const e=Zw(rE(),"ads");return(await ZE(e)).size},c=async()=>{const e=Zw(rE(),"demandes");return(await ZE(e)).size};(0,r.useEffect)((()=>{u()}),[e,n,s]);const u=()=>{const t=document.getElementById("pie-chart-canvas"),r=t.getContext("2d"),i=t.width/2,o=t.height/2,a=Math.min(t.width,t.height)/2,l=[e,n,s],c=["#007bff","#28a745","#ff0000"];r.clearRect(0,0,t.width,t.height);let u=0;for(let e=0;e<l.length;e++){const t=2*Math.PI*l[e]/l.reduce(((e,t)=>e+t),0);r.fillStyle=c[e],r.beginPath(),r.moveTo(i,o),r.arc(i,o,a,u,u+t),r.closePath(),r.fill(),u+=t}};return(0,CS.jsxs)("div",{className:"statistics-container",children:[(0,CS.jsx)("h2",{className:"mb-4",style:{color:"white"},children:"Statistiques du site"}),(0,CS.jsx)("canvas",{id:"pie-chart-canvas",width:"200",height:"200"}),(0,CS.jsxs)("div",{className:"stat-bar",children:[(0,CS.jsx)("div",{className:"bar",children:(0,CS.jsx)("div",{className:"bar-inner user",style:{width:"".concat(e,"%")}})}),(0,CS.jsxs)("div",{className:"bar-label white",style:{color:"white"},children:["Nombre d'utilisateurs : ",e]})]}),(0,CS.jsxs)("div",{className:"stat-bar",children:[(0,CS.jsx)("div",{className:"bar",children:(0,CS.jsx)("div",{className:"bar-inner ad",style:{width:"".concat(n,"%")}})}),(0,CS.jsxs)("div",{className:"bar-label white",style:{color:"white"},children:["Nombre d'annonces : ",n]})]}),(0,CS.jsxs)("div",{className:"stat-bar",children:[(0,CS.jsx)("div",{className:"bar",children:(0,CS.jsx)("div",{className:"bar-inner request",style:{width:"".concat(s,"%")}})}),(0,CS.jsxs)("div",{className:"bar-label white",style:{color:"white"},children:["Nombre de demandes : ",s]})]}),(0,CS.jsx)("div",{className:"bar-chart-container",style:{color:"white"},children:(h=[e/(e+n+s)*100,n/(e+n+s)*100,s/(e+n+s)*100],d=["Nombre  d'utilisateurs","Nombre  d'annonces","Nombre  de demandes"],(0,CS.jsx)("ul",{className:"bar-chart",children:d.map(((e,t)=>(0,CS.jsxs)("li",{className:"answer-".concat(t),children:[(0,CS.jsx)("span",{className:"label white",children:e}),(0,CS.jsx)("span",{className:"percentage white",children:"".concat(h[t].toFixed(2),"%")}),(0,CS.jsx)("span",{className:"bar-track",children:(0,CS.jsx)("span",{className:"bar",style:{width:"".concat(h[t],"%"),backgroundColor:0===t?"#007bff":1===t?"#28a745":"#ff0000"}})})]},t)))}))})]});var h,d},IO=()=>(0,CS.jsx)("footer",{className:"footer mt-auto py-5 bg-dark text-white",children:(0,CS.jsxs)(ck,{children:[(0,CS.jsxs)(hk,{children:[(0,CS.jsxs)(fk,{md:6,children:[(0,CS.jsx)("h5",{children:"\xc0 propos de nous"}),(0,CS.jsx)("p",{children:"Nous sommes une plateforme innovante qui connecte les gens autour de partages et d'\xe9changes."})]}),(0,CS.jsxs)(fk,{md:6,children:[(0,CS.jsx)("h5",{children:"Contactez-nous"}),(0,CS.jsx)("p",{children:"Email: pierrick.selas@example.com"}),(0,CS.jsx)("p",{children:"T\xe9l\xe9phone: +33 1 23 45 67 89"})]})]}),(0,CS.jsx)(hk,{className:"mt-4",children:(0,CS.jsx)(fk,{children:(0,CS.jsx)("p",{className:"text-center",children:"\xa9 2024 SELAS. Tous droits r\xe9serv\xe9s."})})})]})});function NO(){return(0,CS.jsxs)(ck,{className:"p-5",children:[(0,CS.jsx)(Xk.Container,{defaultActiveKey:"profile",children:(0,CS.jsxs)(hk,{children:[(0,CS.jsx)(fk,{sm:0,children:(0,CS.jsxs)(CT,{variant:"pills",className:"flex-column",children:[(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"profile",children:"Profil"})}),(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"search",children:"Rechercher une annonce"})}),(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"publish",children:"Publier une annonce"})}),(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"map",children:"Carte"})}),(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"statistiques",children:"Statistiques"})}),(0,CS.jsx)(CT.Item,{children:(0,CS.jsx)(CT.Link,{eventKey:"contact",children:"Contact"})})]})}),(0,CS.jsx)(fk,{sm:9,children:(0,CS.jsxs)(Xk.Content,{children:[(0,CS.jsx)(Xk.Pane,{eventKey:"profile",children:(0,CS.jsx)(mN,{})}),(0,CS.jsx)(Xk.Pane,{eventKey:"search",children:(0,CS.jsx)(vN,{})}),(0,CS.jsx)(Xk.Pane,{eventKey:"publish",children:(0,CS.jsx)(yN,{})}),(0,CS.jsx)(Xk.Pane,{eventKey:"map",children:(0,CS.jsx)(xO,{})}),(0,CS.jsx)(Xk.Pane,{eventKey:"statistiques",children:(0,CS.jsx)(TO,{})}),(0,CS.jsx)(Xk.Pane,{eventKey:"contact",children:(0,CS.jsx)(kO,{})})]})})]})}),(0,CS.jsx)(IO,{})]})}function LO(){const{modalState:e,toggleModals:t,signIn:n}=(0,r.useContext)(SS),i=X(),[s,o]=(0,r.useState)(""),a=(0,r.useRef)([]),l=e=>{e&&!a.current.includes(e)&&a.current.push(e)},c=(0,r.useRef)(),u=()=>{o(""),t("close")};return(0,CS.jsx)(CS.Fragment,{children:e.signInModal&&(0,CS.jsxs)("div",{className:"position-fixed top-0 vw-100 vh-100 ",children:[(0,CS.jsx)("div",{onClick:u,className:"w-100 h-100 bg-dark",style:{opacity:.7}}),(0,CS.jsx)("div",{className:"position-absolute top-50 start-50 translate-middle",style:{minWidth:"400px"},children:(0,CS.jsx)("div",{className:"modal-dialog",children:(0,CS.jsxs)("div",{className:"modal-content",children:[(0,CS.jsxs)("div",{className:"modal-header",children:[(0,CS.jsx)("h5",{className:"modal-title",children:"Connexion"}),(0,CS.jsx)("button",{onClick:u,className:"btn-close"})]}),(0,CS.jsx)("div",{className:"modal-body",children:(0,CS.jsxs)("form",{ref:c,onSubmit:async e=>{e.preventDefault(),console.log(a);try{await n(a.current[0].value,a.current[1].value);o(""),t("close"),i("/private/private-home")}catch{o("Wopsy, email and/or password incorrect")}},className:"sign-up-form",children:[(0,CS.jsxs)("div",{className:"mb-3",children:[(0,CS.jsx)("label",{htmlFor:"signInEmail",className:"form-label",children:"Adresse Email"}),(0,CS.jsx)("input",{ref:l,name:"email",required:!0,type:"email",className:"form-control",id:"signInEmail"})]}),(0,CS.jsxs)("div",{className:"mb-3",children:[(0,CS.jsx)("label",{htmlFor:"signInPwd",className:"form-label",children:"Mot de passe"}),(0,CS.jsx)("input",{ref:l,name:"pwd",required:!0,type:"password",className:"form-control",id:"signInPwd"}),(0,CS.jsx)("p",{className:"text-danger mt-1",children:s})]}),(0,CS.jsx)("button",{className:"btn btn-primary",children:"OK"})]})})]})})})]})})}const PO=function(){return(0,r.useEffect)((()=>{document.title="pretemoiton"}),[]),(0,CS.jsxs)(CS.Fragment,{children:[(0,CS.jsx)(yk,{}),(0,CS.jsx)(LO,{}),(0,CS.jsx)(vk,{}),(0,CS.jsxs)(ve,{children:[(0,CS.jsx)(me,{path:"/",element:(0,CS.jsx)(gk,{})}),(0,CS.jsx)(me,{path:"/private",element:(0,CS.jsx)(bk,{}),children:(0,CS.jsx)(me,{path:"/private/private-home",element:(0,CS.jsx)(NO,{})})})]})]})},RO=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};s.createRoot(document.getElementById("root")).render((0,CS.jsx)(RS,{children:(0,CS.jsx)(xS,{children:(0,CS.jsx)(r.StrictMode,{children:(0,CS.jsx)(PO,{})})})})),RO()})()})();
//# sourceMappingURL=main.4db28822.js.map